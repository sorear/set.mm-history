$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
                   Division rings
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c DivRing $.

  $( Extend class notation with class of all division rings. $)
  cdivring $a class DivRing $.

  $( Define class of all division rings. $)
  df-drng $a |- DivRing = { r e. Ring |
    { <. 1 , ( ( Base ` r ) \ { ( 0g ` r ) } ) >. , <. 2 , ( .r ` r ) >. }
      e. Grp } $.

  ${
    $d r G $.  $d r R $.
    isdivrng.b $e |- B = ( Base ` R ) $.
    isdivrng.t $e |- T = ( .r ` R ) $.
    isdivrng.z $e |- Z = ( 0g ` R ) $.
    isdivrng.g $e |- G = { <. 1 , ( B \ { Z } ) >. , <. 2 , T >. } $.
    $( The predicate "is a division ring". $)
    isdivrng $p |- ( R e. DivRing <-> ( R e. Ring /\ G e. Grp ) ) $=
      ( vr c1 cv cbs cfv c0g csn cdif cop c2 cmulr cpr cgrp wcel crg cdivring
      wceq fveq2 syl6eqr difeq1d sneqd sneqi difeq2d eqtrd opeq2d preq12d
      eleq1d eleq1i syl6bbr df-drng elrab2 ) KJLZMNZVAONZPZQZRZSVATNZRZUAZUBUCZ
      DUBUCZJBUDUEVABUFZVJKAEPZQZRZSCRZUAZUBUCVKVLVIVQUBVLVFVOVHVPVLVEVNKVLVEAV
      DQVNVLVBAVDVLVBBMNAVABMUGFUHUIVLVDVMAVLVDBONZPVMVLVCVRVABOUGUJEVRHUKUHULU
      MUNVLVGCSVLVGBTNCVABTUGGUHUNUOUPDVQUBIUQURJUSUT $.
      $( [18-Oct-2012] $)
  $}

  ${
    $d x y z B $.  $d x y z T $.  $d x U $.  $d x y z Z $.  $d x y z ph $.
    isdivrngdOLD.b $e |- ( ph -> B = ( Base ` R ) ) $.
    isdivrngdOLD.t $e |- ( ph -> T = ( .r ` R ) ) $.
    isdivrngdOLD.z $e |- ( ph -> Z = ( 0g ` R ) ) $.
    isdivrngdOLD.u $e |- ( ph -> U = ( 1r ` R ) ) $.
    isdivrngdOLD.r $e |- ( ph -> R e. Ring ) $.
    isdivrngdOLD.n $e |- ( ( ph /\ ( x e. B /\ x =/= Z )
            /\ ( y e. B /\ y =/= Z ) ) -> ( x T y ) =/= Z ) $.
    isdivrngdOLD.o $e |- ( ph -> U =/= Z ) $.
    isdivrngdOLD.i $e |- ( ( ph /\ ( x e. B /\ x =/= Z ) ) -> I e. B ) $.
    isdivrngdOLD.j $e |- ( ( ph /\ ( x e. B /\ x =/= Z ) ) -> I =/= Z ) $.
    isdivrngdOLD.k $e |- ( ( ph /\ ( x e. B /\ x =/= Z ) ) -> ( I T x ) = U )
        $.
    $( Properties that determine a division ring. ` I ` (reciprocal) is
       normally dependent on ` x ` i.e. read it as ` I ( x ) ` ." $)
    isdivrngdOLD $p |- ( ph -> R e. DivRing ) $=
      ( vf vz crg wcel c1 cbs cfv c0g csn cdif cop c2 cmulr cpr cgrp wa
      cdivring difeq1d sneqd difeq2d eqtrd opeq2d preq12d eleq1d anbi2d cnx
      cplusg basendx opeq1i df-plusg 2nn ndxargi preq12i cvv wceq fvex
      syl6eqel difexg syl eqid grpbasegOLD syl11anc grpplusggOLD prex a1i cv
      wne co eldifsn w3a ringcl syl3an1 3expib eleq2d anbi12d opreqd eleq12d
      3imtr4d 3impib 3adant2r 3adant3r sylanbrc syl3an3b syl3an2b eldifi
      3anim123i wi ringass ex 3anbi123d eqidd opreq123d eqeq12d imp sylan2 cur
      ringidcl mpbird ringlidm eqeq1d adantrr sylan2b isgrpd syl5eqelr
      mpbi2and isdivrng sylibr ) AEUBUCZUDEUEUFZEUGUFZUHZUIZUJZUKEULUFZUJZUMZUN
      UCZUOZEUPUCAYGUDDIUHZUIZUJZUKFUJZUMZUNUCZYQAUUCYPYGAUUBYOUNAYTYLUUAYNAYSY
      KUDAYSYHYRUIYKADYHYRJUQAYRYJYHAIYILURUSUTVAAFYMUKKVAVBVCVDNAUUBVEUEUFZYSU
      JZVEVFUFZFUJZUMZUNUUEYTUUGUUAUUDUDYSVGVHUUFUKFVFTUKTVIVJVKVHVLABCUAYSFUUH
      HGAYSVMUCZFVMUCZYSUUHUEUFVNADVMUCUUIADYHVMJEUEVOVPDYRVMVQVRZAFYMVMKEULVOV
      PZYSFUUHVMVMUUHVSZVTWAAUUIUUJFUUHVFUFVNUUKUULYSFUUHVMVMUUMWBWAUUHVMUCAUUE
      UUGWCWDBWEZYSUCZAUUNDUCZUUNIWFZUOZCWEZYSUCZUUNUUSFWGZYSUCZUUNDIWHZUUTAUUR
      UUSDUCZUUSIWFZUOZUVBUUSDIWHAUURUVFWIUVADUCZUVAIWFUVBAUURUVDUVGUVEAUUPUVDU
      VGUUQAUUPUVDUVGAUUNYHUCZUUSYHUCZUOUUNUUSYMWGZYHUCZUUPUVDUOUVGAUVHUVIUVKAY
      GUVHUVIUVKNYHEYMUUNUUSYHVSZYMVSZWJWKWLAUUPUVHUVDUVIADYHUUNJWMZADYHUUSJWMZ
      WNAUVAUVJDYHAFYMUUNUUSKWOZJWPWQWRWSWTOUVADIWHXAXBXCUUOUUTUAWEZYSUCZWIAUUP
      UVDUVQDUCZWIZUVAUVQFWGZUUNUUSUVQFWGZFWGZVNZUUOUUPUUTUVDUVRUVSUUNDYRXDUUSD
      YRXDUVQDYRXDXEAUVTUWDAUVHUVIUVQYHUCZWIZUVJUVQYMWGZUUNUUSUVQYMWGZYMWGZVNZU
      VTUWDAYGUWFUWJXFNYGUWFUWJYHEYMUUNUUSUVQUVLUVMXGXHVRAUUPUVHUVDUVIUVSUWEUVN
      UVOADYHUVQJWMXIAUWAUWGUWCUWIAUVAUVJUVQUVQFYMKUVPAUVQXJXKAUUNUUNUWBUWHFYMK
      AUUNXJZAFYMUUSUVQKWOXKXLWQXMXNAGDUCZGIWFGYSUCAUWLEXOUFZYHUCZAYGUWNNYHEUWM
      UVLUWMVSZXPVRAGUWMDYHMJWPXQPGDIWHXAUUOAUURGUUNFWGZUUNVNZUVCAUUPUWQUUQAUUP
      UWQAUVHUWMUUNYMWGZUUNVNZUUPUWQAYGUVHUWSXFNYGUVHUWSYHEYMUWMUUNUVLUVMUWOXRX
      HVRUVNAUWPUWRUUNAGUWMUUNUUNFYMKMUWKXKXSWQXMXTYAUUOAUURHYSUCZUVCAUURUOHDUC
      HIWFUWTQRHDIWHXAYAUUOAUURHUUNFWGGVNUVCSYAYBYCYDYHEYMYOYIUVLUVMYIVSYOVSYEY
      F $.
      $( [2-Aug-2013] $)
  $}

  ${
    $d x y z B $.  $d y z I $.  $d x y z T $.  $d x U $.  $d x y z Z $.
    $d x y z ph $.
    isdivrngd.b $e |- ( ph -> B = ( Base ` R ) ) $.
    isdivrngd.t $e |- ( ph -> T = ( .r ` R ) ) $.
    isdivrngd.z $e |- ( ph -> Z = ( 0g ` R ) ) $.
    isdivrngd.u $e |- ( ph -> U = ( 1r ` R ) ) $.
    isdivrngd.r $e |- ( ph -> R e. Ring ) $.
    isdivrngd.n $e |- ( ( ph /\ ( x e. B /\ x =/= Z )
            /\ ( y e. B /\ y =/= Z ) ) -> ( x T y ) =/= Z ) $.
    isdivrngd.o $e |- ( ph -> U =/= Z ) $.
    isdivrngd.i $e |- ( ( ph /\ ( x e. B /\ x =/= Z ) ) -> I e. B ) $.
    isdivrngd.j $e |- ( ( ph /\ ( x e. B /\ x =/= Z ) ) -> I =/= Z ) $.
    isdivrngd.k $e |- ( ( ph /\ ( x e. B /\ x =/= Z ) ) -> ( x T I ) = U ) $.
    $( Properties that determine a division ring. ` I ` (reciprocal) is
       normally dependent on ` x ` i.e. read it as ` I ( x ) ` ."  Note that we
       are using the right reciprocal of ~ isgrprd rather than the left
       reciprocal of ~ isgrpd . $)
    isdivrngd $p |- ( ph -> R e. DivRing ) $=
      ( vf vz crg wcel c1 cbs cfv c0g csn cdif cop c2 cmulr cpr cgrp wa
      cdivring difeq1d sneqd difeq2d eqtrd opeq2d preq12d eleq1d anbi2d cnx
      cplusg basendx opeq1i df-plusg 2nn ndxargi preq12i cvv wceq fvex
      syl6eqel difexg syl eqid grpbasegOLD syl11anc grpplusggOLD prex a1i cv
      wne co eldifsn w3a ringcl syl3an1 3expib eleq2d anbi12d opreqd eleq12d
      3imtr4d 3impib 3adant2r 3adant3r sylanbrc syl3an3b syl3an2b eldifi
      3anim123i wi ringass ex 3anbi123d eqidd opreq123d eqeq12d imp sylan2 cur
      ringidcl mpbird ringridm eqeq1d adantrr sylan2b isgrprd syl5eqelr
      mpbi2and isdivrng sylibr ) AEUBUCZUDEUEUFZEUGUFZUHZUIZUJZUKEULUFZUJZUMZUN
      UCZUOZEUPUCAYGUDDIUHZUIZUJZUKFUJZUMZUNUCZYQAUUCYPYGAUUBYOUNAYTYLUUAYNAYSY
      KUDAYSYHYRUIYKADYHYRJUQAYRYJYHAIYILURUSUTVAAFYMUKKVAVBVCVDNAUUBVEUEUFZYSU
      JZVEVFUFZFUJZUMZUNUUEYTUUGUUAUUDUDYSVGVHUUFUKFVFTUKTVIVJVKVHVLABCUAYSFUUH
      HGAYSVMUCZFVMUCZYSUUHUEUFVNADVMUCUUIADYHVMJEUEVOVPDYRVMVQVRZAFYMVMKEULVOV
      PZYSFUUHVMVMUUHVSZVTWAAUUIUUJFUUHVFUFVNUUKUULYSFUUHVMVMUUMWBWAUUHVMUCAUUE
      UUGWCWDBWEZYSUCZAUUNDUCZUUNIWFZUOZCWEZYSUCZUUNUUSFWGZYSUCZUUNDIWHZUUTAUUR
      UUSDUCZUUSIWFZUOZUVBUUSDIWHAUURUVFWIUVADUCZUVAIWFUVBAUURUVDUVGUVEAUUPUVDU
      VGUUQAUUPUVDUVGAUUNYHUCZUUSYHUCZUOUUNUUSYMWGZYHUCZUUPUVDUOUVGAUVHUVIUVKAY
      GUVHUVIUVKNYHEYMUUNUUSYHVSZYMVSZWJWKWLAUUPUVHUVDUVIADYHUUNJWMZADYHUUSJWMZ
      WNAUVAUVJDYHAFYMUUNUUSKWOZJWPWQWRWSWTOUVADIWHXAXBXCUUOUUTUAWEZYSUCZWIAUUP
      UVDUVQDUCZWIZUVAUVQFWGZUUNUUSUVQFWGZFWGZVNZUUOUUPUUTUVDUVRUVSUUNDYRXDUUSD
      YRXDUVQDYRXDXEAUVTUWDAUVHUVIUVQYHUCZWIZUVJUVQYMWGZUUNUUSUVQYMWGZYMWGZVNZU
      VTUWDAYGUWFUWJXFNYGUWFUWJYHEYMUUNUUSUVQUVLUVMXGXHVRAUUPUVHUVDUVIUVSUWEUVN
      UVOADYHUVQJWMXIAUWAUWGUWCUWIAUVAUVJUVQUVQFYMKUVPAUVQXJXKAUUNUUNUWBUWHFYMK
      AUUNXJZAFYMUUSUVQKWOXKXLWQXMXNAGDUCZGIWFGYSUCAUWLEXOUFZYHUCZAYGUWNNYHEUWM
      UVLUWMVSZXPVRAGUWMDYHMJWPXQPGDIWHXAUUOAUURUUNGFWGZUUNVNZUVCAUUPUWQUUQAUUP
      UWQAUVHUUNUWMYMWGZUUNVNZUUPUWQAYGUVHUWSXFNYGUVHUWSYHEYMUWMUUNUVLUVMUWOXRX
      HVRUVNAUWPUWRUUNAUUNUUNGUWMFYMKUWKMXKXSWQXMXTYAUUOAUURHYSUCZUVCAUURUOHDUC
      HIWFUWTQRHDIWHXAYAUUOAUURUUNHFWGGVNUVCSYAYBYCYDYHEYMYOYIUVLUVMYIVSYOVSYEY
      F $.
      $( [10-Aug-2013] $)
  $}

  $( A division ring is a ring. $)
  divrngring $p |- ( R e. DivRing -> R e. Ring ) $=
    ( cdivring wcel crg c1 cbs cfv c0g csn cdif cop c2 cmulr cpr cgrp eqid
    isdivrng simplbi ) ABCADCEAFGZAHGZIJKLAMGZKNZOCSAUAUBTSPUAPTPUBPQR $.
    $( [8-Sep-2011] $)

  $( A division ring is a group. $)
  divrnggrp $p |- ( R e. DivRing -> R e. Grp ) $=
    ( cdivring wcel crg cgrp divrngring ringgrp syl ) ABCADCAECAFAGH $.
    $( [8-Sep-2011] $)

  ${
    divrngmgrp.b $e |- B = ( Base ` R ) $.
    divrngmgrp.t $e |- T = ( .r ` R ) $.
    divrngmgrp.z $e |- Z = ( 0g ` R ) $.
    divrngmgrp.g $e |- G = { <. 1 , ( B \ { Z } ) >. , <. 2 , T >. } $.
    $( A division ring contains a multiplicative group. $)
    divrngmgrp $p |- ( R e. DivRing -> G e. Grp ) $=
      ( cdivring wcel crg cgrp isdivrng simprbi ) BJKBLKDMKABCDEFGHINO $.
      $( [8-Sep-2011] $)
  $}

  ${
    divrngmcl.b $e |- B = ( Base ` R ) $.
    divrngmcl.t $e |- T = ( .r ` R ) $.
    divrngmcl.z $e |- Z = ( 0g ` R ) $.
    $( The product of two nonzero elements of a division ring is nonzero. $)
    divrngmcl $p |- ( ( R e. DivRing /\ X e. ( B \ { Z } )
                    /\ Y e. ( B \ { Z } ) ) -> ( X T Y ) e. ( B \ { Z } ) ) $=
      ( cdivring wcel c1 csn cdif cop c2 cpr cgrp co eqid divrngmgrp cbs cfv
      prex baseval wne wceq 1ne2 cr 1re elisseti cvv fvex eqeltri difexg ax-mp
      fvpr1 eqtr2i cplusg plusgval 2re cmulr fvpr2 grpcl syl3an1 ) BJKLAFMZNZOZ
      PCOZQZRKDVGKEVGKDECSVGKABCVJFGHIVJTUAVGCVJDEVJUBUCLVJUCZVGVJVHVIUDZUELPUF
      ZVKVGUGUHLPVGCLUIUJUKAULKVGULKABUBUCULGBUBUMUNAVFULUOUPUQUPURVJUSUCPVJUCZ
      CVJVLUTVMVNCUGUHLPVGCPUIVAUKCBVBUCULHBVBUMUNVCUPURVDVE $.
      $( [7-Sep-2011] $)
  $}

  ${
    divrngid.b $e |- B = ( Base ` R ) $.
    divrngid.t $e |- T = ( .r ` R ) $.
    divrngid.z $e |- Z = ( 0g ` R ) $.
    divrngid.u $e |- U = ( 1r ` R ) $.
    divrngid.g $e |- G = { <. 1 , ( B \ { Z } ) >. , <. 2 , T >. } $.
    $( Lemma for ~ divrngid . $)
    divrngidlem $p |- ( R e. DivRing -> U =/= Z ) $=
      ( cdivring wcel c0g cfv wne csn cdif cgrp crg wa isdivrng simpr sylbi
      cvv cbs fvex eqeltri difexg ax-mp cmulr grpbasex eqid grpidcl syl
      eldifsn wceq co divrngring divrngmgrp eldifi 3syl ringlidm syl11anc
      opreq1 sylan9req ringlz adantr eqtrd ex necon3d mpd ) BLMZENOZFPZDFPVMVNA
      FQZRZMZVOVMESMZVRVMBTMZVSUAVSABCEFGHIKUBVTVSUCUDVQEVNVQCEAUEMVQUEMABUFOUE
      GBUFUGUHAVPUEUIUJCBUKOUEHBUKUGUHKULVNUMUNZUOVRVNAMZVOUAVOVNAFUPWBVOUCUDUO
      VMDFVNFVMDFUQZVNFUQVMWCUAVNFVNCURZFVMWCVNDVNCURZWDVMVTWBWEVNUQBUSZVMVSVRW
      BABCEFGHIKUTWAVNAVPVAVBZABCDVNGHJVCVDDFVNCVEVFVMWDFUQZWCVMVTWBWHWFWGABCVN
      FGHIVGVDVHVIVJVKVL $.
      $( [8-Sep-2011] $)

    $( A division ring's unit is the identity element of its multiplicative
       group. $)
    divrngid $p |- ( R e. DivRing -> U = ( 0g ` G ) ) $=
      ( cdivring wcel c0g cfv co wceq crg divrngring csn cdif cgrp divrngmgrp
      cvv cbs fvex eqeltri difexg ax-mp cmulr grpbasex eqid grpidcl syl eldifi
      ringlidm syl11anc grpplusgx grplid eqtr4d wb wn ringidcl wne divrngidlem
      df-ne sylib elsni nsyl eldif sylanbrc grprcan syl13anc mpbid ) BLMZDENOZC
      PZVPVPCPZQZDVPQZVOVQVPVRVOBRMZVPAMZVQVPQBSZVOVPAFTZUAZMZWBVOEUBMZWFABCEFG
      HIKUCZWEEVPWECEAUDMWEUDMABUEOUDGBUEUFUGAWDUDUHUIZCBUJOUDHBUJUFUGZKUKZVPUL
      ZUMUNZVPAWDUOUNABCDVPGHJUPUQVOWGWFVRVPQWHWMWECEVPVPWKWECEWIWJKURZWLUSUQUT
      VOWGDWEMZWFWFVSVTVAWHVODAMZDWDMZVBWOVOWAWPWCABDGJVCUNVODFQZWQVODFVDWRVBAB
      CDEFGHIJKVEDFVFVGDFVHVIDAWDVJVKWMWMWECEDVPVPWKWNVLVMVN $.
      $( [7-Sep-2011] $)
  $}

  ${
    divrngunz.z $e |- Z = ( 0g ` R ) $.
    divrngunz.u $e |- U = ( 1r ` R ) $.
    $( A division ring's unit is different from its zero. $)
    divrngunz $p |- ( R e. DivRing -> U =/= Z ) $=
      ( cbs cfv cmulr c1 csn cdif cop c2 cpr eqid divrngidlem ) AFGZAAHGZBIQCJK
      LMRLNZCQORODESOP $.
      $( [8-Sep-2011] $)
  $}


  $c invr $.

  $( Extend class notation with multiplicative inverse. $)
  cinvr $a class invr $.

  $( Define multiplicative inverse. $)
  df-invr $a |- invr = ( r e. _V |-> ( -g `
  { <. 1 , ( ( Base ` r ) \ { ( 0g ` r ) } ) >. , <. 2 , ( .r ` r ) >. } ) ) $.

  ${
    $d r N $.  $d r R $.
    invrfval.b $e |- B = ( Base ` R ) $.
    invrfval.z $e |- Z = ( 0g ` R ) $.
    invrfval.t $e |- T = ( .r ` R ) $.
    invrfval.4 $e |- G =
           { <. 1 , ( B \ { Z } ) >. , <. 2 , T >. } $.
    invrfval.n $e |- N = ( -g ` G ) $.
    invrfval.i $e |- I = ( invr ` R ) $.
    $( Multiplicative inverse function for a division ring. $)
    invrfval $p |- ( R e. A -> I = N ) $=
      ( vr wcel cinvr cfv cvv wceq elisset c1 cv cbs c0g csn cdif cop c2 cmulr
      cpr cminusg fveq2 syl6eqr difeq1d sneqd difeq2d eqtrd opeq2d preq12d
      fveq2d df-invr fvex eqeltri fvmpt syl syl5eq ) CAPZFCQRZGNVHCSPVIGTCAUAOC
      UBOUCZUDRZVJUERZUFZUGZUHZUIVJUJRZUHZUKZULRZGSQVJCTZVSEULRZGVTVREULVTVRUBB
      HUFZUGZUHZUIDUHZUKEVTVOWDVQWEVTVNWCUBVTVNBVMUGWCVTVKBVMVTVKCUDRBVJCUDUMIU
      NUOVTVMWBBVTVLHVTVLCUERHVJCUEUMJUNUPUQURUSVTVPDUIVTVPCUJRDVJCUJUMKUNUSUTL
      UNVAMUNOVBGWASMEULVCVDVEVFVG $.
      $( [21-Sep-2011] $)
  $}

  ${
    invrcl.b $e |- B = ( Base ` R ) $.
    invrcl.z $e |- Z = ( 0g ` R ) $.
    invrcl.i $e |- I = ( invr ` R ) $.
    $( Closure of the multiplicative inverse in a division ring. $)
    invrcl $p |- ( ( R e. DivRing /\ X e. ( B \ { Z } ) )
             -> ( I ` X ) e. ( B \ { Z } ) ) $=
      ( cdivring wcel csn cdif wa cfv c1 cop c2 cmulr cpr cminusg wceq eqid
      invrfval fveq1d adantr cgrp divrngmgrp cplusg cbs prex baseval wne 1ne2
      cr 1re elisseti cvv fvex eqeltri difexg ax-mp fvpr1 eqtr2i grpinvcl
      sylan eqeltrd ) BIJZDAEKZLZJZMDCNZDOVIPZQBRNZPZSZTNZNZVIVGVKVQUAVJVGDCVPI
      ABVMVOCVPEFGVMUBZVOUBZVPUBZHUCUDUEVGVOUFJVJVQVIJABVMVOEFVRGVSUGVIVOUHNZVO
      VPDVOUINOVONZVIVOVLVNUJUKOQULWBVIUAUMOQVIVMOUNUOUPAUQJVIUQJABUINUQFBUIURU
      SAVHUQUTVAVBVAVCWAUBVTVDVEVF $.
      $( [21-Sep-2011] $)
  $}



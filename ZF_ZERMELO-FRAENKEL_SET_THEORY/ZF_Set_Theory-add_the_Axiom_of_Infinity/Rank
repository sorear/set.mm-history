$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
        Rank
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $( Introduce new constant symbols. $)
  $c R1 $. $( Cumulative hierarchy of sets function $)
  $c rank $. $( Rank function $)

  $( Extend class definition to include the cumulative hierarchy of sets
     function. $)
  cr1 $a class R1 $.

  $( Extend class definition to include rank function. $)
  crnk $a class rank $.

  ${
    $d x y $.
    $( Define the cumulative hierarchy of sets function, using Takeuti and
       Zaring's notation ( ` R1 ` ).  Starting with the empty set, this
       function builds up layers of sets where the next layer is the power set
       of the previous layer (and the union of previous layers when the
       argument is a limit ordinal).  Using the Axiom of Regularity, we can
       show that any set whatsoever belongs to one of the layers of this
       hierarchy (see ~ tz9.13 ).  Our definition expresses Definition 9.9 of
       [TakeutiZaring] p. 76 in a closed form, from which we derive the
       recursive definition as theorems ~ r10 , ~ r1suc , and ~ r1lim .
       Theorem ~ r1val1 shows a recursive definition that works for all values,
       and theorems ~ r1val2 and ~ r1val3 show the value expressed in terms of
       rank.  Other notations for this function are _R_ with the argument as a
       subscript (Equation 3.1 of [BellMachover] p. 477), ` _V ` with a a
       subscript (Definition of [Enderton] p. 202), _M_ with a subscript
       (Definition 15.19 of [Monk1] p. 113), the capital Greek letter psi
       (Definition of [Mendelson] p. 281), and bold-face R (Definition 2.1 of
       [Kunen] p. 95). $)
    df-r1 $a |- R1 = rec ( ( x e. _V |-> ~P x ) , (/) ) $.

    $( Define the rank function.  See ~ rankval , ~ rankval2 , ~ rankval3 , or
       ~ rankval4 its value.  The rank is a kind of "inverse" of the cumulative
       hierarchy of sets function ` R1 ` : given a set, it returns an ordinal
       number telling us the smallest layer of the hierarchy to which the set
       belongs.  Based on Definition 9.14 of [TakeutiZaring] p. 79.  Theorem
       ~ rankid illustrates the "inverse" concept.  Another nice theorem
       showing the relationship is ~ rankr1a . $)
    df-rank $a |- rank = ( x e. _V |->
        |^| { y e. On | x e. ( R1 ` suc y ) } ) $.
  $}

  $( The cumulative hierarchy of sets function is a function on the class of
     ordinal numbers. $)
  r1fnon $p |- R1 Fn On $=
    ( vx cr1 con0 wfn cvv cv cpw cmpt c0 crdg rdgfnon df-r1 fneq1i mpbir ) BCDA
    EAFGHZIJZCDIOKCBPALMN $.
    $( [10-Sep-2013] $) $( [5-Oct-2003] $)

  $( Value of the cumulative hierarchy of sets function at ` (/) ` .  Part of
     Definition 9.9 of [TakeutiZaring] p. 76. $)
  r10 $p |- ( R1 ` (/) ) = (/) $=
    ( vx c0 cr1 cfv cvv cv cpw cmpt crdg df-r1 fveq1i 0ex rdg0 eqtri ) BCDBAEAF
    GHZBIZDBBCPAJKBOLMN $.
    $( [10-Sep-2013] $) $( [2-Sep-2003] $)

  ${
    $d x y $.  $d x A $.
    $( Value of the cumulative hierarchy of sets function at a successor
       ordinal.  Part of Definition 9.9 of [TakeutiZaring] p. 76. $)
    r1suc $p |- ( A e. On -> ( R1 ` suc A ) = ~P ( R1 ` A ) ) $=
      ( vx con0 wcel cr1 cfv cpw csuc wceq fvex pwex c0 cv df-r1 pweq rdgsucmpt
      cvv mpan2 ) ACDAEFZGZQDAHEFTISAEJKBLABMZGTEQBNUASOPR $.
      $( [10-Sep-2013] $) $( [2-Sep-2003] $)

    $( Value of the cumulative hierarchy of sets function at a limit ordinal.
       Part of Definition 9.9 of [TakeutiZaring] p. 76. $)
    r1lim $p |- ( ( A e. B /\ Lim A ) -> ( R1 ` A ) = U_ x e. A ( R1 ` x ) ) $=
      ( vy wcel wlim wa cvv cv cpw cmpt crdg cfv ciun cr1 rdglim2a df-r1 fveq1i
      c0 wceq a1i iuneq2i 3eqtr4g ) BCEBFGBDHDIJKZSLZMABAIZUEMZNBOMABUFOMZNASBC
      UDPBOUEDQZRABUHUGUHUGTUFBEUFOUEUIRUAUBUC $.
      $( [10-Sep-2013] $) $( [4-Oct-2003] $)
  $}

  ${
    $d A n $.  $d m n $.
    $( The first ` om ` levels of the cumulative hierarchy are all finite.
       (Contributed by Mario Carneiro, 15-May-2013.) $)
    r1fin $p |- ( A e. om -> ( R1 ` A ) e. Fin ) $=
      ( vn vm cv cr1 cfv cfn wcel c0 csuc wceq fveq2 eleq1d weq r10 eqeltri com
      0fin con0 wi nnon cpw r1suc pwfi syl6rbbr biimpd syl finds ) BDZEFZGHIEFZ
      GHCDZEFZGHZULJZEFZGHZAEFZGHBCAUIIKUJUKGUIIELMBCNUJUMGUIULELMUIUOKUJUPGUIU
      OELMUIAKUJURGUIAELMUKIGORPULQHULSHZUNUQTULUAUSUNUQUSUQUMUBZGHUNUSUPUTGULU
      CMUMUDUEUFUGUH $.
      $( [15-May-2013] $)
  $}

  ${
    $d A x $.  $d B x y $.
    $( Each stage in the cumulative hierarchy is strictly larger than the
       last.  (Contributed by Mario Carneiro, 19-Apr-2013.) $)
    r1sdom $p |- ( ( A e. On /\ B e. A ) -> ( R1 ` B ) ~< ( R1 ` A ) ) $=
      ( vx vy con0 wcel cr1 cfv csdm wi c0 wceq eleq2 fveq2 breq2d imbi12d syl5
      wbr wa cvv cv csuc weq noel pm2.21i wo elsuci fvex canth2 r1suc syl5breqr
      cpw sdomtr expcom syl com12 imim2i breq1d syl5ibr a1i jaod wlim wral wrex
      com3r cuni limuni eleq2d eluni2 syl6bb r19.29 wel cdom wss ciun vex r1lim
      ssiun2 mpan sseq2d ssdomg ee02 id imp sdomdomtr ax-mp rexlimdv exp3acom23
      syl6 sylbid com23 tfinds ) AEFBAFZBGHZAGHZIRZBCUAZFZWNWQGHZIRZJBKFZWNKGHZ
      IRZJBDUAZFZWNXDGHZIRZJZBXDUBZFZWNXIGHZIRZJWMWPJCDAWQKLZWRXAWTXCWQKBMXMWSX
      BWNIWQKGNOPCDUCZWRXEWTXGWQXDBMXNWSXFWNIWQXDGNOPWQXILZWRXJWTXLWQXIBMXOWSXK
      WNIWQXIGNOPWQALZWRWMWTWPWQABMXPWSWOWNIWQAGNOPXAXCBUDUEXHXJXDEFZXLXJXEBXDL
      ZUFXHXQXLJZBXDUGXHXEXSXRXGXSXEXQXGXLXQXFXKIRZXGXLJXQXFXFULXKIXFXDGUHZUIXD
      UJUKZXGXTXLWNXFXKUMUNUOUPUQXRXSJXHXQXLXRXTYBXRWNXFXKIBXDGNURUSUTVAQVEWQVB
      ZWRXHDWQVCZWTYCWRXEDWQVDZYDWTJYCWRBWQVFZFYEYCWQYFBWQVGVHDBWQVIVJYCYDYEWTY
      DYESXHXESZDWQVDYCWTXHXEDWQVKYCYGWTDWQYCDCVLZXFWSVMRZYGWTJXFTFYCYHXFWSVNZY
      IYAYHYJYCXFDWQXFVOZVNDWQXFVRYCWSYKXFWQTFYCWSYKLCVPDWQTVQVSVTUSXFWSTWAWBYG
      XGYIWTXHXEXGXHWCWDXGYIWTWSTFXGYISWTJWQGUHWNXFWSTWEWFUNQWIWGQWHWJWKWLWD $.
      $( [19-Apr-2013] $)
  $}

  ${
    $d x y $.
    $( The cumulative hierarchy is a one-to-one function.  (Contributed by
       Mario Carneiro, 19-Apr-2013.) $)
    r111 $p |- R1 : On -1-1-> _V $=
      ( vx vy con0 cvv cr1 cv cfv wi wral wcel wa wel word eloni w3a wbr r1sdom
      csdm syl5ibcom mtoi wf1 wf wceq weq wfn r1fnon dffn2 w3o ordtri3or syl2an
      mpbi wn sdomirr breq1 3adant1 pm2.21d 3expia ax-1 a1i breq2 3adant2 3jaod
      mpd rgen2a dff13 mpbir2an ) CDEUACDEUBZAFZEGZBFZEGZUCZABUDZHZBCIACIECUEVG
      UFCEUGUKVNABCVHCJZVJCJZKZABLZVMBALZUHZVNVOVHMVJMVTVPVHNVJNVHVJUIUJVQVRVNV
      MVSVOVPVRVNVOVPVROVLVMVPVRVLULZVOVPVRKZVLVKVKRPZVKUMZWBVIVKRPVLWCVJVHQVIV
      KVKRUNSTUOUPUQVMVNHVQVMVLURUSVOVPVSVNVOVPVSOVLVMVOVSWAVPVOVSKZVLWCWDWEVKV
      IRPVLWCVHVJQVIVKVKRUTSTVAUPUQVBVCVDABCDEVEVF $.
      $( [19-Apr-2013] $)
  $}

  ${
    $d x y z A $.
    $( The cumulative hierarchy of sets is transitive.  Lemma 7T of [Enderton]
       p. 202. $)
    r1tr $p |- Tr ( R1 ` A ) $=
      ( vx vy vz con0 wcel cr1 cfv wtr cv c0 wceq wb fveq2 treq syl wa wss wral
      eleq2d csuc tr0 r10 ax-mp mpbir cpw r1suc vex elpw syl6bb adantr wi dftr4
      ssel sylbi biimprd sylan9r ssrdv ex sylbid ralrimiv sylibr wlim wrex ciun
      dftr3 cvv r1lim mpan eliun biimpi syl6bi hbra1 ra4 trss syl6 sylan9 ssiun
      reximdai sseq2d syl5ibr syld tfinds wn cdm wfn r1fnon fndm eleq2i sylnbir
      ndmfv mpbiri pm2.61i ) AEFZAGHZIZBJZGHZIZKGHZIZCJZGHZIZXBUAZGHZIZWPBCAWQK
      LWRWTLWSXAMWQKGNWRWTOPWQXBLWRXCLWSXDMWQXBGNWRXCOPWQXELWRXFLWSXGMWQXEGNWRX
      FOPWQALWRWOLWSWPMWQAGNWRWOOPXAKIZUBWTKLXAXHMUCWTKOUDUEXBEFZXDXGXIXDQZWQXF
      RZBXFSXGXJXKBXFXJWQXFFZWQXCRZXKXIXLXMMXDXIXLWQXCUFZFXMXIXFXNWQXBUGZTWQXCB
      UHZUIUJUKXJXMXKXJXMQDWQXFXMDJZWQFXQXCFZXJXQXFFZWQXCXQUNXDXRXQXNFZXIXSXDXC
      XNRXRXTULXCUMXCXNXQUNUOXIXSXTXIXFXNXQXOTUPUQUQURUSUTVABXFVFVBUSWQVCZXDCWQ
      SZWSYAYBQZXQWRRZDWRSWSYCYDDWRYCXQWRFZXQXCRZCWQVDZYDYAYEXRCWQVDZYBYGYAYEXQ
      CWQXCVEZFZYHYAWRYIXQWQVGFYAWRYILXPCWQVGVHVIZTYJYHCXQWQXCVJVKVLYBXRYFCWQXD
      CWQVMYBXBWQFXDXRYFULXDCWQVNXCXQVOVPVSVQYAYGYDULYBYGYDYAXQYIRCWQXCXQVRYAWR
      YIXQYKVTWAUKWBVADWRVFVBUSWCWNWDZWPXHUBYLWOKLZWPXHMWNAGWEZFYMYNEAGEWFYNELW
      GEGWHUDWIAGWKWJWOKOPWLWM $.
      $( [8-Sep-2003] $)
  $}

  $( The union of a cumulative hierarchy of sets at ordinal ` A ` is a subset
     of the hierarchy at ` A ` .  JFM CLASSES1 th. 40.  (Contributed by FL,
     20-Apr-2011.) $)
  r1tr2 $p |- U. ( R1 ` A ) C_ ( R1 ` A ) $=
    ( cr1 cfv wtr cuni wss r1tr df-tr mpbi ) ABCZDJEJFAGJHI $.
    $( [20-Apr-2011] $)

  ${
    $d x y A $.  $d x y B $.
    $( Ordering relation for the cumulative hierarchy of sets.  Part of
       Proposition 9.10(2) of [TakeutiZaring] p. 77. $)
    r1ord $p |- ( B e. On -> ( A e. B -> ( R1 ` A ) e. ( R1 ` B ) ) ) $=
      ( vx vy con0 wcel cr1 cfv wi wa wss onelon syl eleq2 fveq2 eleq2d imbi12d
      wceq ex cvv csuc simpl suceloni word eloni ordsucss imp cv cpw fvex r1suc
      pwid syl5eleqr elex sucexb sylibr sucssel wtr r1tr trss mpsyl imim2d syl7
      sseld a1d com24 impl wlim wral ciun wrex limsuc biimpa limord vex rcla4ev
      elon sylan syl2anc eliun wb r1lim adantr mpbird ad2antrr tfindsg syl21anc
      mpan pm2.43d ) BEFZABFZAGHZBGHZFZWJWKWKWNIZWJWKJZWJAUAZEFZWQBKZWOWJWKUBWP
      AEFZWRBALAUCMWJWKWSWJBUDWKWSIBUEABUFMUGACUHZFZWLXAGHZFZIZAWQFZWLWQGHZFZIA
      DUHZFZWLXIGHZFZIZAXIUAZFZWLXNGHZFZIZWOCDBWQXAWQRZXBXFXDXHXAWQANXSXCXGWLXA
      WQGOPQXAXIRZXBXJXDXLXAXIANXTXCXKWLXAXIGOPQXAXNRZXBXOXDXQXAXNANYAXCXPWLXAX
      NGOPQXABRZXBWKXDWNXABANYBXCWMWLXABGOPQWRXFXHWRXFJWTXHWQALWTWLWLUIXGWLAGUJ
      ULAUKUMZMSXIEFZWRWQXIKZXMXRIYDXOXMWRYEJZXQYDXMYFXQIIXOYFXJYDXMXQWRYEXJWRA
      TFZYEXJIWRWQTFYGWQEUNAUOUPAXITUQMUGYDXLXQXJYDXKXPWLXPURYDXKXPFXKXPKXNUSYD
      XKXKUIXPXKXIGUJULXIUKUMXPXKUTVAVDVBVCVEVFVGXAVHZWRJWQXAKZJXEYEXMIDXAVIYHX
      EWRYIYHXBXDYHXBJZXDWLDXAXKVJZFZYJXLDXAVKZYLYJWQXAFZXHYMYHXBYNXAAVLVMYJWTX
      HYHXAEFZXBWTYHXAUDYOXAVNXACVOZVQUPXAALVRYCMXLXHDWQXAXIWQRXKXGWLXIWQGOPVPV
      SDWLXAXKVTUPYHXDYLWAXBYHXCYKWLXATFYHXCYKRYPDXATWBWHPWCWDSWEVEWFWGSWI $.
      $( [8-Sep-2003] $)
  $}

  $( Ordering relation for the cumulative hierarchy of sets.  Part of
     Proposition 9.10(2) of [TakeutiZaring] p. 77. $)
  r1ord2 $p |- ( B e. On -> ( A e. B -> ( R1 ` A ) C_ ( R1 ` B ) ) ) $=
    ( con0 wcel cr1 cfv wss r1ord wtr wi r1tr trss ax-mp syl6 ) BCDABDAEFZBEFZD
    ZOPGZABHPIQRJBKPOLMN $.
    $( [22-Sep-2003] $)

  $( Ordering relation for the cumulative hierarchy of sets.  Part of Theorem
     3.3(i) of [BellMachover] p. 478. $)
  r1ord3 $p |- ( ( A e. On /\ B e. On ) -> ( A C_ B ->
               ( R1 ` A ) C_ ( R1 ` B ) ) ) $=
    ( con0 wcel wa wss wceq wo cr1 cfv onsseleq wi r1ord2 adantl eqimss syl a1i
    fveq2 jaod sylbid ) ACDZBCDZEZABFABDZABGZHAIJZBIJZFZABKUCUDUHUEUBUDUHLUAABM
    NUEUHLUCUEUFUGGUHABIRUFUGOPQST $.
    $( [22-Sep-2003] $)

  $( The value of the cumulative hierarchy of sets function is a subset of its
     value at the successor.  JFM CLASSES1 Th. 39.  (Contributed by FL,
     20-Apr-2011.) $)
  r1sssuc $p |- ( A e. On -> ( R1 ` A ) C_ ( R1 ` suc A ) ) $=
    ( con0 wcel cr1 cfv cpw csuc wtr wss r1tr dftr4 mpbi r1suc syl5sseqr ) ABCA
    DEZFZOAGDEOHOPIAJOKLAMN $.
    $( [20-Apr-2011] $)

  ${
    $d x y z w v A $.
    $( The value of the cumulative hierarchy of sets function expressed
       recursively.  Theorem 7Q of [Enderton] p. 202. $)
    r1val1 $p |- ( A e. On -> ( R1 ` A ) = U_ x e. A ~P ( R1 ` x ) ) $=
      ( vy con0 wcel cr1 cfv cv ciun c0 wceq cvv wa wss fveq2 mpbiri syl adantl
      eqsstrd wral cpw csuc wrex wlim w3o onzsl 0ss r10 syl6eq ax-17 hbiu1 hbss
      sseq1d r1suc sylan9eqr sucid eleq2 ssiun2 ex rexlimi r1lim limord ordelon
      vex word sylan r1sssuc sseqtrd ralrimiva ss2iun 3jaoi sylbi sucelon sylib
      onelon simpl jca wi eloni ordsucss imp r1ord3 eqsstr3d iunss sylibr eqssd
      sylc ) BDEZBFGZABAHZFGZUAZIZWHBJKZBWJUBZKZADUCZBLEZBUDZMZUEWIWMNZABUFWNXA
      WQWTWNXAJWMNWMUGWNWIJWMWNWIJFGJBJFOUHUIUMPWPXAADACWIWMCHWIEAUJACBWLUKULWJ
      DEZWPXAXBWPMWIWLWMWPXBWIWOFGZWLBWOFOWJUNZUOWPWLWMNZXBWPWJBEZXEWPXFWJWOEWJ
      AVDUPBWOWJUQPABWLURQRSUSUTWTWIABWKIZWMABLVAWSXGWMNZWRWSWKWLNZABTXHWSXIABW
      SXFMXBXIWSBVEZXFXBBVBBWJVCVFXBWKXCWLWJVGXDVHQVIABWKWLVJQRSVKVLWHWLWINZABT
      WMWINWHXKABWHXFMZWLXCWIXLXBXCWLKBWJVOZXDQXLWODEZWHMWOBNZXCWINXLXNWHXLXBXN
      XMWJVMVNWHXFVPVQWHXFXOWHXJXFXOVRBVSWJBVTQWAWOBWBWGWCVIABWLWIWDWEWF $.
      $( [25-Nov-2003] $)
  $}

  ${
    $d x y z w v A $.  $d x y u F $.
    tz9.12lem.1 $e |- A e. _V $.
    tz9.12lem.2 $e |- F =
                   { <. z , w >. | w = |^| { v e. On | z e. ( R1 ` v ) } } $.
    $( Lemma for ~ tz9.12 . $)
    tz9.12lem1 $p |- ( F " A ) C_ On $=
      ( vy vx cima con0 cv wcel wex vex crab cint wceq eleq1 sylbi cop wa copab
      elima3 cr1 cfv eleq2i rabbidv inteqd eqeq1 opelopab bitri cvv 19.8a isset
      eqeq2d sylibr c0 wne wi intex ssrab2 oninton mpan syl5ibrcom sylbir mpcom
      wss adantl exlimiv ssriv ) HEDJZKHLZVLMILZDMZVNVMUAZEMZUBZINVMKMZIVMEDHOZ
      UDVRVSIVQVSVOVQVMVNCLUEUFZMZCKPZQZRZVSVQVPBLZALZWAMZCKPZQZRZABUCZMWEEWLVP
      GUGWKWFWDRWEABVNVMIOVTWGVNRZWJWDWFWMWIWCWMWHWBCKWGVNWASUHUIUPWFVMWDUJUKUL
      WDUMMZWEVSWEWEHNWNWEHUNHWDUOUQWNWCURUSZWEVSUTWCVAWOVSWEWDKMZWCKVHWOWPWBCK
      VBWCVCVDVMWDKSVEVFVGTVIVJTVK $.
      $( [22-Sep-2003] $)

    $( Lemma for ~ tz9.12 . $)
    tz9.12lem2 $p |- suc U. ( F " A ) e. On $=
      ( cima cuni con0 wss wcel tz9.12lem1 wfun cvv cv cr1 cfv crab ax-mp copab
      cint wceq funopabeq funeqi mpbir funimaex ssonunii onsuci ) EDHZIZUJJKUKJ
      LABCDEFGMUJENZUJOLULBPAPCPQRLCJSUBZUCABUAZNABUMUDEUNGUEUFEDFUGTUHTUI $.
      $( [22-Sep-2003] $)

    $( Lemma for ~ tz9.12 . $)
    tz9.12lem3 $p |- ( A. x e. A E. y e. On x e. ( R1 ` y ) ->
                    A e. ( R1 ` suc suc U. ( F " A ) ) ) $=
      ( cv cr1 cfv wcel con0 wrex wss wceq sylibr cvv ax-17 wral cima cuni csuc
      wa wfun cdm wi crab cint copab funopabeq funeqi mpbir c0 wne fveq2 eleq2d
      rcla4ev rabn0 cop wex eleq2i vex eleq1 inteqd eqeq2d eqeq1 opelopab bitri
      rabbidv exbii eldm2 3bitr4i bitr4i funfvima sylancr tz9.12lem2 tz9.12lem1
      isset intex onsucuni ax-mp sseli r1ord2 mpsyl syl6 imp fveq1i mpan syl5eq
      fvopabg sylbi ssrab2 onint eqeltrd hbrab1 hbint hbeleq hbxfreq hbfv hblem
      hbopab elrabf simprbi 3syl adantr sseldd exp31 com3r rexlimdv ralimia cpw
      r1suc elpw dfss3 3bitri ) AJZBJZKLZMZBNOZAFUAXRGFUBZUCUDZKLZMZAFUAZFYDUDK
      LZMZYBYFAFXRFMZYAYFBNXSNMZYAYJYFYKYAYJYFYKYAUEZYJUEXRGLZKLZYEXRYLYJYNYEPZ
      YLYJYMYCMZYOYLGUFZXRGUGMZYJYPUHYQDJZCJZEJZKLZMZENUIZUJZQZCDUKZUFCDUUEULGU
      UGIUMUNYLXRUUBMZENUIZUOUPZYRYLUUHENOUUJUUHYAEXSNUUAXSQUUBXTXRUUAXSKUQURUS
      UUHENUTRZYRUUIUJZSMZUUJXRXSVAZGMZBVBXSUULQZBVBYRUUMUUOUUPBUUOUUNUUGMUUPGU
      UGUUNIVCUUFYSUULQUUPCDXRXSAVDZBVDYTXRQZUUEUULYSUURUUDUUIUURUUCUUHENYTXRUU
      BVEVKVFZVGYSXSUULVHVIVJVLBXRGUUQVMBUULVTVNUUIWAZVORFXRGVPVQYDNMZYPYMYDMYO
      CDEFGHIVRZYCYDYMYCNPYCYDPCDEFGHIVSYCWBWCWDYMYDWEWFWGWHYLXRYNMZYJYLUUJYMUU
      IMZUVCUUKUUJYMUULUUIUUJUUMYMUULQUUTUUMYMXRUUGLZUULXRGUUGIWIXRSMUUMUVEUULQ
      UUQCDXRUUEUULSSUUSWLWJWKWMUUINPUUJUULUUIMUUHENWNUUIWOWJWPUVDYMNMUVCUUHUVC
      EBYMNEBXRGEBGUUGIUUFCDEBEDUUEEDUUDUUCEDNWQWRWSXCWTXSXRMETXAZYKETEBAYNEBYM
      KXSKMETUVFXAXBUUAYMQUUBYNXRUUAYMKUQURXDXEXFXGXHXIXJXKXLYIFYEXMZMFYEPYGYHU
      VGFUVAYHUVGQUVBYDXNWCVCFYEHXOAFYEXPXQR $.
      $( [22-Sep-2003] $)
  $}

  ${
    $d x y z w v A $.
    tz9.12.1 $e |- A e. _V $.
    $( A set is well-founded if all of its elements are well-founded.
       Proposition 9.12 of [TakeutiZaring] p. 78.  The main proof consists of
       ~ tz9.12lem1 through ~ tz9.12lem3 . $)
    tz9.12 $p |- ( A. x e. A E. y e. On x e. ( R1 ` y ) ->
              E. y e. On A e. ( R1 ` y ) ) $=
      ( vw vz vv cv cr1 cfv wcel con0 wrex wral crab cint wceq copab cima csuc
      cuni eqid tz9.12lem2 onsuci tz9.12lem3 fveq2 eleq2d rcla4ev sylancr ) AHB
      HZIJZKBLMACNEHFHGHIJKGLOPQFERZCSUATZTZLKCUNIJZKZCUKKZBLMUMFEGCULDULUBZUCU
      DABFEGCULDURUEUQUPBUNLUJUNQUKUOCUJUNIUFUGUHUI $.
      $( [22-Sep-2003] $)
  $}

  ${
    $d x y z w A $.
    tz9.13.1 $e |- A e. _V $.
    $( Every set is well-founded, assuming the Axiom of Regularity.  In other
       words, every set belongs to a layer of the cumulative hierarchy of
       sets.  Proposition 9.13 of [TakeutiZaring] p. 78. $)
    tz9.13 $p |- E. x e. On A e. ( R1 ` x ) $=
      ( vy vz vw cr1 cfv wcel con0 wrex cab cvv wss wceq vex eleq1 rexbidv elab
      cv setind wral ssel syl6ib ralrimiv tz9.12 syl sylibr mpg eleqtrri mpbi
      wi ) BDTZATGHZIZAJKZDLZIBUNIZAJKZBMUQCETZUQNZUTUQIZULUQMOEEUQUAVAUTUNIZAJ
      KZVBVAFTZUNIZAJKZFUTUBVDVAVGFUTVAVEUTIVEUQIVGUTUQVEUCUPVGDVEFPUMVEOUOVFAJ
      UMVEUNQRSUDUEFAUTEPZUFUGUPVDDUTVHUMUTOUOVCAJUMUTUNQRSUHUIUJUPUSDBCUMBOUOU
      RAJUMBUNQRSUK $.
      $( [23-Sep-2003] $)
  $}

  ${
    $d x y A $.
    $( Every set is well-founded, assuming the Axiom of Regularity.
       Proposition 9.13 of [TakeutiZaring] p. 78.  This variant of ~ tz9.13
       expresses the class existence requirement as an antecedent. $)
    tz9.13g $p |- ( A e. V -> E. x e. On A e. ( R1 ` x ) ) $=
      ( vy cv cr1 cfv wcel con0 wrex wceq eleq1 rexbidv vex tz9.13 vtoclg ) DEZ
      AEFGZHZAIJBRHZAIJDBCQBKSTAIQBRLMAQDNOP $.
      $( [4-Oct-2003] $)
  $}

  ${
    $d A x y z $.
    $( Two ways of saying a set is well-founded.  (Revised by Mario Carneiro,
       22-Mar-2013.) $)
    rankwflemb $p |- ( A e. U. ( R1 " On ) <->
        E. x e. On A e. ( R1 ` suc x ) ) $=
      ( vy cr1 con0 cima cuni wcel cv wex csuc cfv wrex eluni wceq r1fnon ax-mp
      wa eleq2 wi wfun fnfun fvelima mpan biimprcd r1sssuc sseld syl9 reximdvai
      wfn syl5 imp exlimiv suceloni cdm wss fndm eqimss2i funfvima2 mp2an eleq1
      fvex anbi12d cla4ev sylan2 expcom syl rexlimiv impbii bitri ) BDEFZGHBCIZ
      HZVLVKHZRZCJZBAIZKZDLZHZAEMZCBVKNVPWAVOWACVMVNWAVNVQDLZVLOZAEMZVMWADUAZVN
      WDDEUJZWEPEDUBQZAVLEDUCUDVMWCVTAEVMWCBWBHZVQEHZVTWCWHVMWBVLBSUEWIWBVSBVQU
      FUGUHUIUKULUMVTVPAEWIVREHZVTVPTVQUNVTWJVPWJVTVSVKHZVPWEEDUOZUPWJWKTWGWLEW
      FWLEOPEDUQQUREVRDUSUTVOVTWKRCVSVRDVBVLVSOVMVTVNWKVLVSBSVLVSVKVAVCVDVEVFVG
      VHVIVJ $.
      $( [22-Mar-2013] $) $( [11-Oct-2003] $)
  $}

  ${
    $d x y z $.
    $( The domain and range of the ` rank ` function.  (Contributed by Mario
       Carneiro, 28-May-2013.) $)
    rankf $p |- rank : U. ( R1 " On ) --> On $=
      ( vx vy vz cr1 con0 cima cuni crnk wf wfn cfv wcel wfun cdm wceq mpbir2an
      cv cvv mpan sylbi wral csuc crab cint cmpt funmpt df-rank mpbir copab wex
      funeqi cab mptv eqtri dmeqi dmopab abeq1 wrex rankwflemb intexrab 3bitrri
      wb isset mpgbir 3eqtri df-fn wne rabn0 bitr4i intex vex fvmpt2 wss ssrab2
      c0 oninton eqeltrd rgen ffnfv ) DEFGZEHIHVTJZAQZHKZELZAVTUAWAHMZHNZVTOWEA
      RWBBQUBDKLZBEUCZUDZUEZMARWIUFHWJABUGZUKUHWFCQWIOZACUIZNWLCUJZAULZVTHWMHWJ
      WMWKACWIUMUNUOWLACUPWOVTOWNWBVTLZVBAWNAVTUQWPWGBEURZWIRLZWNBWBUSZWGBEUTCW
      IVCVAVDVEHVTVFPWDAVTWPWHVOVGZWDWPWQWTWSWGBEVHVIWTWCWIEWTWRWCWIOZWHVJWBRLW
      RXAAVKARWIRHWKVLSTWHEVMWTWIELWGBEVNWHVPSVQTVRAVTEHVSP $.
      $( [12-Sep-2013] $) $( [28-May-2013] $)
  $}

  ${
    $d x y z A $.
    $( The rank of a set is an ordinal number.  Proposition 9.15(1) of
       [TakeutiZaring] p. 79.  (Revised by Mario Carneiro, 22-Mar-2013.) $)
    rankon $p |- ( rank ` A ) e. On $=
      ( cr1 con0 cima cuni crnk rankf 0elon f0cli ) BCDECAFGHI $.
      $( [12-Sep-2013] $) $( [5-Oct-2003] $)
  $}

  ${
    $d A x $.  $d B x $.
    $( Any member of the cumulative hierarchy is well-founded.  (Contributed by
       Mario Carneiro, 28-May-2013.) $)
    r1elwf $p |- ( A e. ( R1 ` B ) -> A e. U. ( R1 " On ) ) $=
      ( vx cr1 cfv wcel cv csuc con0 wrex cima cuni cdm elfvdm wceq r1fnon fndm
      wfn ax-mp syl6eleq r1sssuc sseld fveq2d eleq2d rcla4ev syl2anc rankwflemb
      mpcom suceq sylibr ) ABDEZFZACGZHZDEZFZCIJZADIKLFULBIFZABHZDEZFZUQULBDMZI
      ABDNDIRVBIOPIDQSTZURULVAVCURUKUTABUAUBUHUPVACBIUMBOZUOUTAVDUNUSDUMBUIUCUD
      UEUFCAUGUJ $.
      $( [28-May-2013] $)
  $}

  ${
    $d A x y $.
    $( Value of the rank function.  Definition 9.14 of [TakeutiZaring] p. 79
       (proved as a theorem from our definition).  This variant of ~ rankval
       does not use Regularity, and so requires the assumption that ` A ` is in
       the range of ` R1 ` .  (Revised by Mario Carneiro, 22-Mar-2013.) $)
    rankvalb $p |- ( A e. U. ( R1 " On ) ->
        ( rank ` A ) = |^| { x e. On | A e. ( R1 ` suc x ) } ) $=
      ( vy cr1 con0 cima cuni wcel cvv csuc crab cint crnk wceq elex rankwflemb
      cv cfv wrex intexrab bitri biimpi rabbidv inteqd df-rank fvmptg syl2anc
      eleq1 ) BDEFGZHZBIHBAQJDRZHZAEKZLZIHZBMRUNNBUIOUJUOUJULAESUOABPULAETUAUBC
      BCQZUKHZAEKZLUNIIMUPBNZURUMUSUQULAEUPBUKUHUCUDCAUEUFUG $.
      $( [10-Sep-2013] $) $( [11-Oct-2003] $)
  $}

  ${
    $d A x $.  $d B x $.
    $( One direction of ~ rankr1a .  (Contributed by Mario Carneiro,
       28-May-2013.) $)
    rankr1ai $p |- ( A e. ( R1 ` B ) -> ( rank ` A ) e. B ) $=
      ( vx cr1 cfv wcel cv csuc con0 crab cint wss wrex wceq eleq2d syl sylbird
      wa wb wi crnk cdm elfvdm wfn r1fnon fndm ax-mp syl6eleq ciun r1val1 eliun
      cpw syl6bb onelon r1suc rabid intss1 sylbir sylan ex reximdva sylbid cima
      mpcom cuni r1elwf sseq1d adantr rankon ontr2 sylancr exp3acom23 rexlimdva
      rankvalb imp mpd ) ABDEZFZACGZHDEZFZCIJZKZVSLZCBMZAUAEZBFZBIFZVRWEVRBDUBZ
      IABDUCDIUDWIINUEIDUFUGUHZWHVRAVSDEULZFZCBMZWEWHVRACBWKUIZFWMWHVQWNACBUJOC
      ABWKUKUMWHWLWDCBWHVSBFZRZWLWAWDWPVSIFZWAWLSBVSUNZWQVTWKAVSUOOPWPWAWDWPWQW
      AWDWRWQWARVSWBFWDWACIUPVSWBUQURUSUTQVAVBVDVRWDWGCBVRWORWDWFVSLZWGVRWSWDSW
      OVRWFWCVSVRADIVCVEFWFWCNABVFCAVNPVGVHVRWOWSWGTVRWSWOWGVRWFIFWHWSWORWGTAVI
      WJWFVSBVJVKVLVOQVMVP $.
      $( [28-May-2013] $)
  $}

  ${
    $d x y z A $.
    $( Value of the rank function at a non-well-founded set.  (The antecedent
       is always false under Foundation, by ~ unir1 , unless ` A ` is a proper
       class.)  (Contributed by Mario Carneiro, 22-Mar-2013.) $)
    rankvaln $p |- ( -. A e. U. ( R1 " On ) -> ( rank ` A ) = (/) ) $=
      ( cr1 con0 cima cuni wcel crnk cdm cfv c0 wceq rankf eleq2i ndmfv sylnbir
      fdmi ) ABCDEZFAGHZFAGIJKRQAQCGLPMAGNO $.
      $( [10-Sep-2013] $) $( [22-Mar-2013] $)
  $}

  ${
    $d x y A $.
    $( Identity law for the rank function.  (Revised by Mario Carneiro,
       22-Mar-2013.) $)
    rankidb $p |- ( A e. U. ( R1 " On ) -> A e. ( R1 ` suc ( rank ` A ) ) ) $=
      ( vx vy cr1 con0 cima cuni wcel csuc crab cint crnk wrex rankwflemb ax-17
      cv cfv wceq suceq fveq2d hbrab1 hbint hbsuc eleq2d onminsb sylbi rankvalb
      hbfv hbel syl eleqtrrd ) ADEFGHZAABPZIZDQZHZBEJZKZIZDQZALQZIZDQULUPBEMAUT
      HZBANUPVCBBCCAUTCPZAHBOBCUSDVDDHBOBCURBCUQUPBCEUAUBUCUHUIUMURRZUOUTAVEUNU
      SDUMURSTUDUEUFULVBUSDULVAURRVBUSRBAUGVAURSUJTUK $.
      $( [22-Mar-2013] $) $( [3-Oct-2003] $)
  $}

  $( A version of ~ rankr1a that is suitable without assuming Regularity.
     (Contributed by Mario Carneiro, 3-Jun-2013.) $)
  rankr1ag $p |- ( ( A e. U. ( R1 " On ) /\ B e. On ) ->
      ( A e. ( R1 ` B ) <-> ( rank ` A ) e. B ) ) $=
    ( cr1 con0 cima cuni wcel wa cfv crnk rankr1ai csuc wss word eloni ordsucss
    wi syl rankon onsuci r1ord3 mpan syld rankidb ssel syl5 syl6 com3r impbid2
    imp ) ACDEFGZBDGZHABCIZGZAJIZBGZABKUKULUPUNQULUPUKUNULUPUOLZCIZUMMZUKUNQULU
    PUQBMZUSULBNUPUTQBOUOBPRUQDGULUTUSQUOASTUQBUAUBUCUKAURGUSUNAUDURUMAUEUFUGUH
    UJUI $.
    $( [3-Jun-2013] $)

  $( Any set is a subset of the hierarchy of its rank.  (Contributed by Mario
     Carneiro, 3-Jun-2013.) $)
  r1rankidb $p |- ( A e. U. ( R1 " On ) -> A C_ ( R1 ` ( rank ` A ) ) ) $=
    ( cr1 con0 cima cuni wcel crnk cfv cpw csuc rankidb wceq rankon r1suc ax-mp
    wss syl6eleq elpwi syl ) ABCDEFZAAGHZBHZIZFAUBPTAUAJBHZUCAKUACFUDUCLAMUANOQ
    AUBRS $.
    $( [3-Jun-2013] $)

  $( A power set is well-founded if the base set is.  (Contributed by Mario
     Carneiro, 8-Jun-2013.) $)
  pwwf $p |- ( A e. U. ( R1 " On ) -> ~P A e. U. ( R1 " On ) ) $=
    ( cr1 con0 cima cuni wcel cpw crnk cfv csuc wss r1rankidb sspwb wceq rankon
    sylib r1suc ax-mp syl6sseqr fvex elpw2 sylibr onsuci syl6eleqr r1elwf syl )
    ABCDEZFZAGZAHIZJZJZBIZFUIUGFUHUIUKBIZGZUMUHUIUNKUIUOFUHUIUJBIZGZUNUHAUPKUIU
    QKALAUPMPUJCFUNUQNAOZUJQRSUIUNUKBTUAUBUKCFUMUONUJURUCUKQRUDUIULUEUF $.
    $( [8-Jun-2013] $)

  ${
    $d x y A $.
    r1elss.1 $e |- A e. _V $.
    $( The range of the ` R1 ` function is transitive.  Lemma 2.10 of [Kunen]
       p. 97.  (Contributed by Mario Carneiro, 22-Mar-2013.) $)
    r1elss $p |- ( A e. U. ( R1 " On ) <-> A C_ U. ( R1 " On ) ) $=
      ( vx vy cr1 con0 wcel wss wtr wi cfv wceq wrex ax-mp syl mprg csuc rankon
      cv crnk cima cuni truni wfun wfn r1fnon fnfun fvelima mpan r1tr rexlimivw
      treq mpbii trss ciun fvex sucex iunon a1i cpw ssel rankidb syl6 weq fveq2
      onsuci suceq ssiun2s r1ord3 mp2an sseld sylcom ssrdv elpw r1suc syl6eleqr
      sylibr fveq2d eleq2d rcla4ev sylancr rankwflemb impbii ) AEFUAZUBZGZAWEHZ
      WEIZWFWGJCSZIZWHCWDCWDUCWIWDGZDSZEKZWILZDFMZWJEUDZWKWOEFUEWPUFFEUGNDWIFEU
      HUIWNWJDFWNWMIWJWLUJWMWIULUMUKOPWEAUNNWGAWIQZEKZGZCFMZWFWGDAWLTKZQZUOZFGZ
      AXCQZEKZGZWTXBFGZXDDADAXBBXAWLTUPUQURXHWLAGXAWLRVFUSPZWGAXCEKZUTZXFWGAXJH
      AXKGWGCAXJWGWIAGZWIWITKZQZEKZGZWIXJGWGXLWIWEGXPAWEWIVAWIVBVCXLXOXJWIXLXNX
      CHZXOXJHZDAXBWIXNDCVDXAXMLXBXNLWLWITVEXAXMVGOVHXNFGXDXQXRJXMWIRVFXIXNXCVI
      VJOVKVLVMAXJBVNVQXDXFXKLXIXCVONVPWSXGCXCFWIXCLZWRXFAXSWQXEEWIXCVGVRVSVTWA
      CAWBVQWC $.
      $( [22-Mar-2013] $)
  $}

  ${
    $d x A $.
    $( The range of the ` R1 ` function is transitive.  Lemma 2.10 of [Kunen]
       p. 97.  One direction of ~ r1elss that doesn't need ` A ` to be a set.
       (Contributed by Mario Carneiro, 22-Mar-2013.) $)
    r1elssi $p |- ( A e. U. ( R1 " On ) -> A C_ U. ( R1 " On ) ) $=
      ( vx cv cr1 con0 cima cuni wss sseq1 wcel vex r1elss biimpi vtoclga ) BCZ
      DEFGZHZAPHBAPOAPIOPJQOBKLMN $.
      $( [22-Mar-2013] $)
  $}

  ${
    $d x A $.  $d x B $.
    $( A singleton is well-founded if its element is.  (Contributed by Mario
       Carneiro, 10-Jun-2013.) $)
    snwf $p |- ( A e. U. ( R1 " On ) -> { A } e. U. ( R1 " On ) ) $=
      ( cr1 con0 cima cuni wcel csn wss snssi snex r1elss sylibr ) ABCDEZFAGZMH
      NMFAMINAJKL $.
      $( [10-Jun-2013] $)

    $( A binary union is well-founded if its elements are.  (Contributed by
       Mario Carneiro, 10-Jun-2013.) $)
    unwf $p |- ( ( A e. U. ( R1 " On ) /\ B e. U. ( R1 " On ) ) ->
        ( A u. B ) e. U. ( R1 " On ) ) $=
      ( vx cr1 con0 cima cuni wcel wa cun wss r1elssi unss biimpi syl2an cvv wb
      unexg cv eleq1 sseq1 vex r1elss vtoclbg syl mpbird ) ADEFGZHZBUGHZIZABJZU
      GHZUKUGKZUHAUGKZBUGKZUMUIALBLUNUOIUMABUGMNOUJUKPHULUMQABUGUGRCSZUGHUPUGKU
      LUMCUKPUPUKUGTUPUKUGUAUPCUBUCUDUEUF $.
      $( [10-Jun-2013] $)

    $( An unordered pair is well-founded if its elements are.  (Contributed by
       Mario Carneiro, 10-Jun-2013.) $)
    prwf $p |- ( ( A e. U. ( R1 " On ) /\ B e. U. ( R1 " On ) ) ->
        { A , B } e. U. ( R1 " On ) ) $=
      ( cr1 con0 cima cuni wcel wa cpr csn cun df-pr snwf unwf syl2an syl5eqel
      ) ACDEFZGZBQGZHABIAJZBJZKZQABLRTQGUAQGUBQGSAMBMTUANOP $.
      $( [10-Jun-2013] $)

    $( An ordered pair is well-founded if its elements are.  (Contributed by
       Mario Carneiro, 10-Jun-2013.) $)
    opwf $p |- ( ( A e. U. ( R1 " On ) /\ B e. U. ( R1 " On ) ) ->
        <. A , B >. e. U. ( R1 " On ) ) $=
      ( cr1 con0 cima cuni wcel wa cop csn cpr df-op snwf prwf syl2anc syl5eqel
      adantr ) ACDEFZGZBRGZHZABIAJZABKZKZRABLUAUBRGZUCRGUDRGSUETAMQABNUBUCNOP
      $.
      $( [10-Jun-2013] $)
  $}

  $( The cumulative hierarchy of sets covers the universe.  Proposition 4.45
     (b) to (a) of [Mendelson] p. 281.  (Revised by Mario Carneiro,
     8-Jun-2013.) $)
  unir1 $p |- U. ( R1 " On ) = _V $=
    ( vx cv cr1 con0 cima cuni wss wcel cvv wceq setind vex r1elss biimpri mpg
    wi ) ABZCDEFZGZQRHZPRIJAARKTSQALMNO $.
    $( [8-Jun-2013] $) $( [27-Sep-2004] $)

  $( Every set belongs to some value of the cumulative hierarchy of sets
     function ` R1 ` , i.e. the indexed union of all values of ` R1 ` is the
     universe.  Lemma 9.3 of [Jech] p. 71.  (Revised by Mario Carneiro,
     8-Jun-2013.) $)
  jech9.3 $p |- U_ x e. On ( R1 ` x ) = _V $=
    ( con0 cv cr1 cfv ciun crn cuni cima cvv wfn wceq r1fnon fniunfv ax-mp fndm
    cdm imaeq2i imadmrn eqtr3i unieqi unir1 3eqtr2i ) ABACDEFZDGZHZDBIZHJDBKZUD
    UFLMABDNOUGUEDDQZIUGUEUIBDUHUIBLMBDPORDSTUAUBUC $.
    $( [8-Jun-2013] $) $( [4-Oct-2003] $)

  ${
    $d x A $.
    $( Every set is well-founded, assuming the Axiom of Regularity.
       Proposition 9.13 of [TakeutiZaring] p. 78.  This variant of ~ tz9.13g is
       useful in proofs of theorems about the rank function. $)
    rankwflem $p |- ( A e. V -> E. x e. On A e. ( R1 ` suc x ) ) $=
      ( wcel cr1 con0 cima cuni cv csuc cfv wrex cvv unir1 syl6eleqr rankwflemb
      elex sylib ) BCDZBEFGHZDBAIJEKDAFLSBMTBCQNOABPR $.
      $( [4-Oct-2003] $)
  $}

  ${
    $d x y z A $.
    rankval.1 $e |- A e. _V $.
    $( Value of the rank function.  Definition 9.14 of [TakeutiZaring] p. 79
       (proved as a theorem from our definition). $)
    rankval $p |- ( rank ` A ) = |^| { x e. On | A e. ( R1 ` suc x ) } $=
      ( cr1 con0 cima cuni wcel crnk cfv csuc crab cint wceq cvv unir1 eleqtrri
      cv rankvalb ax-mp ) BDEFGZHBIJBARKDJHAELMNBOUACPQABST $.
      $( [10-Sep-2013] $) $( [24-Sep-2003] $)
  $}

  ${
    $d x y A $.
    $( Value of the rank function.  Definition 9.14 of [TakeutiZaring] p. 79
       (proved as a theorem from our definition).  This variant of ~ rankval
       expresses the class existence requirement as an antecedent instead of a
       hypothesis. $)
    rankvalg $p |- ( A e. V ->
                   ( rank ` A ) = |^| { x e. On | A e. ( R1 ` suc x ) } ) $=
      ( vy cv crnk cfv csuc wcel con0 crab cint wceq fveq2 eleq1 rabbidv inteqd
      cr1 eqeq12d vex rankval vtoclg ) DEZFGZUCAEHRGZIZAJKZLZMBFGZBUEIZAJKZLZMD
      BCUCBMZUDUIUHULUCBFNUMUGUKUMUFUJAJUCBUEOPQSAUCDTUAUB $.
      $( [5-Oct-2003] $)

    $( Value of an alternate definition of the rank function.  Definition of
       [BellMachover] p. 478. $)
    rankval2 $p |- ( A e. B ->
                   ( rank ` A ) = |^| { x e. On | A C_ ( R1 ` x ) } ) $=
      ( wcel crnk cfv cv csuc cr1 con0 crab cint wss rankvalg r1suc eleq2d fvex
      cpw elpw2 syl6bb rabbiia inteqi syl6eq ) BCDBEFBAGZHIFZDZAJKZLBUDIFZMZAJK
      ZLABCNUGUJUFUIAJUDJDZUFBUHRZDUIUKUEULBUDOPBUHUDIQSTUAUBUC $.
      $( [8-Oct-2003] $)
  $}

  ${
    $d x y A $.
    $( A union is well-founded if the base set is.  (Contributed by Mario
       Carneiro, 8-Jun-2013.) $)
    uniwf $p |- ( A e. U. ( R1 " On ) -> U. A e. U. ( R1 " On ) ) $=
      ( vx vy cuni cvv wcel cr1 con0 cima uniexg wss cv wel wrex eluni2 r1elssi
      wi sseld syl6 rexlimdv syl5bi ssrdv eleq1 sseq1 vex vtoclbg syl5ibr mpcom
      r1elss ) ADZEFZAGHIDZFZUJULFZAULJUMUNUKUJULKZUMBUJULBLZUJFBCMZCANUMUPULFZ
      CUPAOUMUQURCAUMCLZAFUSULFZUQURQUMAULUSAPRUTUSULUPUSPRSTUAUBURUPULKUNUOBUJ
      EUPUJULUCUPUJULUDUPBUEUIUFUGUH $.
      $( [8-Jun-2013] $)
  $}

  $( Lemma for ~ rankr1c . $)
  rankr1clem $p |- ( ( A e. U. ( R1 " On ) /\ B e. On ) ->
                  ( -. A e. ( R1 ` B ) -> B C_ ( rank ` A ) ) ) $=
    ( cr1 con0 cima cuni wcel wa cfv wn crnk csuc wss rankon onsuci ontri1 mpan
    wi wb r1ord3 rankidb ssel syl5 syl6 sylbird com23 impcom con1d mpan2 adantl
    onsssuc sylibrd ) ACDEFGZBDGZHZABCIZGZJBAKIZLZGZBURMZUOUTUQUNUMUTJZUQRUNVBU
    MUQUNVBUSBMZUMUQRZUSDGZUNVCVBSURANZOZUSBPQUNVCUSCIZUPMZVDVEUNVCVIRVGUSBTQUM
    AVHGVIUQAUAVHUPAUBUCUDUEUFUGUHUNVAUTSZUMUNURDGVJVFBURUKUIUJUL $.
    $( [22-Mar-2013] $) $( [6-Oct-2003] $)

  ${
    $d x y A $.  $d x y B $.
    $( A relationship between the rank function and the cumulative hierarchy of
       sets function ` R1 ` .  Proposition 9.15(2) of [TakeutiZaring] p. 79.
       (Contributed by Mario Carneiro, 22-Mar-2013.) $)
    rankr1c $p |- ( A e. U. ( R1 " On ) -> ( B = ( rank ` A ) <->
                 ( -. A e. ( R1 ` B ) /\ A e. ( R1 ` suc B ) ) ) ) $=
      ( vx vy cr1 con0 wcel cfv wceq wn csuc wa eleq1 adantl eleq2d wss imp cvv
      wi c0 cima cuni crnk rankon mpbiri word eloni cv wrex wlim w3o noel fveq2
      ordzsl r10 syl6eq mtbiri a1d vex sucid eleq2 suceloni eleq1a sylan ontri1
      wb simpl con2bid syl2anc mpbid adantr biimpa crab cint weq fveq2d onintss
      suceq rankvalb eqeq2d sseq1d syl5ibr sylan2i exp4d com3l imp31 mtod exp31
      rexlimiv simp2 oneli syl6bi anc2li r1sssuc sseld biimprcd syl6 syld com23
      w3a sseq1 biimprd sylan9r sylibd expr com4l com12 3imp mt2d 3exp rexlimdv
      adantrr con2d ciun r1lim eliun syl6bb mtbird 3jaoi sylbi mpcom rankwflemb
      fvex syl wne rabn0 bitr4i onint mpan eqeltrd syl5ibrcom elrab simprbi jca
      ssrab2 cdm elfvdm wfn r1fnon fndm ax-mp eleq2i sucelon rankr1clem ex syl5
      sylib imp32 eqsstrd adantrl eqssd impbida ) AEFUAUBGZBAUCHZIZABEHZGZJZABK
      ZEHZGZLZUUMUUOLZUURUVABFGZUVCUURUUOUVDUUMUUOUVDUUNFGAUDZBUUNFMUEZNUVDBUFZ
      UVCUURSZBUGUVGBTIZBCUHZKZIZCFUIZBUJZUKUVHCBUNUVIUVHUVMUVNUVIUURUVCUVIUUQA
      TGAULUVIUUPTAUVIUUPTEHTBTEUMUOUPOUQURUVLUVHCFUVJFGZUVLUVCUURUVOUVLLZUVCLU
      UQBUVJPZUVPUVQJZUVCUVPUVJBGZUVRUVLUVSUVOUVLUVSUVJUVKGUVJCUSUTBUVKUVJVAUEN
      UVPUVDUVOUVSUVRVFUVOUVKFGZUVLUVDUVJVBUVTUVLUVDUVKFBVCQVDUVOUVLVGUVDUVOLUV
      QUVSBUVJVEZVHVIVJVKUVOUVLUVCUUQUVQSZUVCUVOUVLUWBUVCUVOUVLUUQUVQUVLUUQLUVC
      UVOAUVKEHZGZUVQUVLUUQUWDUVLUUPUWCABUVKEUMOVLUVOUWDLUVQUVCADUHZKZEHZGZDFVM
      ZVNZUVJPZUVOUWDUWKUWHUWDDUVJDCVOZUWGUWCAUWLUWFUVKEUWEUVJVRVPOVQZQUVCBUWJU
      VJUUMUUOBUWJIUUMUUNUWJBDAVSZVTVLWAWBWCWDWEWFWGWHWIUVCUVNUURUUMUUOUVNUURUU
      MUUOUVNLZLUUQAUVJEHZGZCBUIZUUMUUOUWRJZUVNUUMUUOUWSUUMUWRUUOUUMUWQUUOJZCBU
      UMUVSUWQUWTUUMUVSUWQWTUUOUVSUUMUVSUWQWJUUMUVSUWQUUOUVSJZSZUVSUUMUWQUXBSUU
      OUVSUUMUWQUXAUUOUVSUUOUVOLUUMUWQUXASZSUUOUVSUVOUUOUVSUVJUUNGUVOBUUNUVJVAU
      UNUVJUVEWKWLWMUUOUVOUUMUXCUUOUVOUUMLZLUWQUVQUXAUXDUWQUUNUVJPZUUOUVQUVOUUM
      UWQUXESUVOUWQUUMUXEUVOUWQUWDUUMUXESZUVOUWPUWCAUVJWNWOUVOUWDUWKUXFUWMUUMUX
      EUWKUUMUUNUWJUVJUWNWAWPWQWRWSQUUOUVQUXEBUUNUVJXAXBXCUUOUVDUXDUVQUXAVFZUVF
      UVDUVOUXGUUMUWAXLVDXDXEWQXFXGXHXIXJXKXMQXLUWOUUQUWRVFUUMUWOUUQACBUWPXNZGU
      WRUWOUUPUXHAUUOBRGZUVNUUPUXHIUUOUXIUUNRGAUCYCBUUNRMUECBRXOVDOCABUWPXPXQNX
      RXEXGXSXTYDYAUUMUUOUVAUUMUUOBUWIGZUVAUUMUXJUUOUUNUWIGUUMUUNUWJUWIUWNUUMUW
      ITYEZUWJUWIGZUUMUWHDFUIUXKDAYBUWHDFYFYGUWIFPUXKUXLUWHDFYOUWIYHYIXTYJBUUNU
      WIMYKUXJUVDUVAUWHUVADBFUWEBIZUWGUUTAUXMUWFUUSEUWEBVRVPOZYLYMWQQYNUUMUVBLB
      UUNUUMUURUVABUUNPZUUMUVAUURUXOUVAUVDUUMUURUXOSZUVAUUSEYPZGZUVDAUUSEYQUXRU
      USFGUVDUXQFUUSEFYRUXQFIYSFEYTUUAUUBBUUCYGUUGZUUMUVDUXPABUUDUUEUUFWSUUHUUM
      UVAUUNBPUURUUMUVALUUNUWJBUUMUUNUWJIUVAUWNVKUVAUWJBPZUUMUVDUVAUXTUXSUWHUVA
      DBUXNVQYANUUIUUJUUKUUL $.
      $( [22-Mar-2013] $)
  $}

  $( The rank of a power set.  Part of Exercise 30 of [Enderton] p. 207.
     (Contributed by Mario Carneiro, 3-Jun-2013.) $)
  rankpwi $p |- ( A e. U. ( R1 " On ) ->
      ( rank ` ~P A ) = suc ( rank ` A ) ) $=
    ( cr1 con0 cima cuni wcel crnk cfv csuc cpw wceq wn wa rankr1c mpbii simpld
    eqid r1suc ax-mp wss rankon eleq2i elpwi ssid elpwg mpbiri ssel syl5 syl5bi
    syl5com mtod r1rankidb sspwb sylib syl6sseqr fvex elpw2 sylibr syl6eleqr wb
    onsuci pwwf syl mpbir2and eqcomd ) ABCDEZFZAGHZIZAJZGHZVGVIVKKZVJVIBHZFZLZV
    JVIIBHZFZVGVNAVHBHZFZVGVSLZAVMFZVGVHVHKVTWAMVHQAVHNOPVNVJVRJZFZVGVSVMWBVJVH
    CFVMWBKAUAZVHRSZUBWCVJVRTZVGVSVJVRUCVGAVJFZWFVSVGWGAATAUDAAVFUEUFVJVRAUGUJU
    HUIUKVGVJVMJZVPVGVJVMTVJWHFVGVJWBVMVGAVRTVJWBTAULAVRUMUNWEUOVJVMVIBUPUQURVI
    CFVPWHKVHWDVAVIRSUSVGVJVFFVLVOVQMUTAVBVJVINVCVDVE $.
    $( [3-Jun-2013] $)

  $( The membership relation is inherited by the rank function.  Proposition
     9.16 of [TakeutiZaring] p. 79.  (Revised by Mario Carneiro,
     8-Jun-2013.) $)
  rankelb $p |- ( B e. U. ( R1 " On ) -> ( A e. B ->
        ( rank ` A ) e. ( rank ` B ) ) ) $=
    ( cr1 con0 wcel crnk cfv wa wn sseld csuc wceq syl6 imp wi wss rankon mp2an
    wb word cima r1elssi rankr1c mpbii simpld rankidb ontri1 onordi ordsucsssuc
    cuni eqid bitr3i onsuci r1ord3 sylbi syl5com elpwi r1suc ax-mp eleq2s com23
    cpw mt3d ex ) BCDUAUJZEZABEZAFGZBFGZEZVFVGHVJAVHCGZEZVFVGVLIZVFVGAVEEZVMVFB
    VEABUBJVNVMAVHKZCGZEZVNVHVHLVMVQHVHUKAVHUCUDUEMNVFVGVJIZVLOVFVRVGVLVFVRBVPE
    ZVGVLOVFBVIKZCGZEVRVSBUFVRWAVPBVRVTVOPZWAVPPZVRVIVHPZWBVIDEVHDEZWDVRSBQZAQZ
    VIVHUGRVITVHTWDWBSVIWFUHVHWGUHVIVHUIRULVTDEVODEWBWCOVIWFUMVHWGUMVTVOUNRUOJU
    PVSBVKABVKPBVKVBZVPBVKUQWEVPWHLWGVHURUSUTJMVANVCVD $.
    $( [8-Jun-2013] $) $( [4-Oct-2003] $)

  ${
    $d x y A $.
    $( The value of the rank function expressed recursively: the rank of a set
       is the smallest ordinal number containing the ranks of all members of
       the set.  Proposition 9.17 of [TakeutiZaring] p. 79.  (Revised by Mario
       Carneiro, 8-Jun-2013.) $)
    rankval3b $p |- ( A e. U. ( R1 " On ) ->
          ( rank ` A ) = |^| { x e. On | A. y e. A ( rank ` y ) e. x } ) $=
      ( cr1 con0 cima cuni wcel crnk cfv cv wral crab cint csuc rankvalb wss wa
      wb cpw r1suc eleq2d fvex elpw2 dfss3 bitri syl6bb adantl r1elssi rankr1ag
      sseld com12 anim1d syl6 impcom ralbidva bitr2d ss2rabdv intss syl eqsstrd
      biimpd rankon rankelb ralrimiv wceq eleq2 ralbidv onintss mpsyl eqssd ) C
      DEFGZHZCIJZBKZIJZAKZHZBCLZAEMZNZVMVNCVQODJZHZAEMZNZWAACPVMVTWDQWEWAQVMVSW
      CAEVMVQEHZRZVSWCWGWCVOVQDJZHZBCLZVSWFWCWJSVMWFWCCWHTZHZWJWFWBWKCVQUAUBWLC
      WHQWJCWHVQDUCUDBCWHUEUFUGUHWGWIVRBCVOCHZWGWIVRSZWMWGVOVLHZWFRWNWMVMWOWFVM
      WMWOVMCVLVOCUIUKULUMVOVQUJUNUOUPUQVBURVTWDUSUTVAVNEHVMVPVNHZBCLZWAVNQCVCV
      MWPBCVOCVDVEVSWQAVNVQVNVFVRWPBCVQVNVPVGVHVIVJVK $.
      $( [8-Jun-2013] $) $( [11-Oct-2003] $)

    $( The rank of a singleton.  Theorem 15.17(v) of [Monk1] p. 112.
       (Contributed by Mario Carneiro, 10-Jun-2013.) $)
    ranksnb $p |- ( A e. U. ( R1 " On ) ->
        ( rank ` { A } ) = suc ( rank ` A ) ) $=
      ( vy vx cr1 con0 cima cuni wcel crnk cfv csn wral crab cint csuc wceq wal
      cv wi df-ral imbi1i albii bitri ax-17 fveq2 eleq1d ceqsalg syl5bb rabbidv
      elsn inteqd snwf rankval3b syl rankon onsucmin mp1i 3eqtr4d ) ADEFGZHZBRZ
      IJZCRZHZBAKZLZCEMZNZAIJZVCHZCEMZNZVEIJZVIOZUTVGVKUTVFVJCEVFVAAPZVDSZBQZUT
      VJVFVAVEHZVDSZBQVQVDBVETVSVPBVRVOVDBAUJUAUBUCVDVJBAUSVJBUDVOVBVIVCVAAIUEU
      FUGUHUIUKUTVEUSHVMVHPAULCBVEUMUNVIEHVNVLPUTAUOCVIUPUQUR $.
      $( [10-Jun-2013] $) $( [28-Nov-2003] $)
  $}

  ${
    $d x y z A $.
    $( Lemma for ~ rankonid . $)
    rankonidlem $p |- ( A e. On ->
        ( A e. U. ( R1 " On ) /\ ( rank ` A ) = A ) ) $=
      ( vx vy vz cv con0 wcel crnk cfv wceq wa eleq1 fveq2 eqeq12d anbi12d wral
      id wss ralimi dfss3 cr1 cima cuni weq simpl sylibr vex r1elss adantl crab
      cint rankval3b syl wb ralbi syl6bbr rabbidv inteqd eqtrd intmin sylan9eqr
      wel jca ex tfis3 ) BEZUAFUBUCZGZVFHIZVFJZKZCEZVGGZVLHIZVLJZKZAVGGZAHIZAJZ
      KBCABCUDZVHVMVJVOVFVLVGLVTVIVNVFVLVFVLHMVTQNOVFAJZVHVQVJVSVFAVGLWAVIVRVFA
      VFAHMWAQNOVFFGZVPCVFPZVKWBWCKVHVJWCVHWBWCVFVGRZVHWCVMCVFPWDVPVMCVFVMVOUES
      CVFVGTUFVFBUGUHUFZUIWCWBVIVFDEZRZDFUJZUKZVFWCVIVNWFGZCVFPZDFUJZUKZWIWCVHV
      IWMJWEDCVFULUMWCWLWHWCWKWGDFWCWKCDVBZCVFPZWGWCWJWNUNZCVFPWKWOUNVPWPCVFVOW
      PVMVNVLWFLUISWJWNCVFUOUMCVFWFTUPUQURUSDVFFUTVAVCVDVE $.
      $( [22-Mar-2013] $) $( [14-Oct-2003] $)
  $}

  ${
    $d x y z $.
    $( The rank of an ordinal number is itself.  Proposition 9.18 of
       [TakeutiZaring] p. 79 and its converse.  (Revised by Mario Carneiro,
       22-Mar-2013.) $)
    rankonid $p |- ( A e. On <-> ( rank ` A ) = A ) $=
      ( con0 wcel crnk cfv wceq cima cuni rankonidlem simprd rankon eleq1 mpbii
      cr1 impbii ) ABCZADEZAFZPANBGHCRAIJRQBCPAKQABLMO $.
      $( [22-Mar-2013] $) $( [14-Oct-2003] $)
  $}

  $( The ordinals are all well-founded.  (Contributed by Mario Carneiro,
     22-Mar-2013.) $)
  onwf $p |- On C_ U. ( R1 " On ) $=
    ( vx con0 cr1 cima cuni cv wcel crnk cfv wceq rankonidlem simpld ssriv ) AB
    CBDEZAFZBGONGOHIOJOKLM $.
    $( [22-Mar-2013] $)

  ${
    $d A x $.
    $( Initial segments of the ordinals are contained in initial segments of
       the cumulative hierarchy.  (Contributed by FL, 20-Apr-2011.)  (Revised
       by Mario Carneiro, 6-Jun-2013.) $)
    onssr1 $p |- ( A e. On -> A C_ ( R1 ` A ) ) $=
      ( vx con0 wcel cr1 cfv cv wa crnk wceq onelon rankonid sylib eqeltrd cima
      simpr cuni wb onwf sseldi simpl rankr1ag syl2anc mpbird ex ssrdv ) ACDZBA
      AEFZUGBGZADZUIUHDZUGUJHZUKUIIFZADZULUMUIAULUICDUMUIJAUIKZUILMUGUJPNULUIEC
      OQZDUGUKUNRULCUPUISUOTUGUJUAUIAUBUCUDUEUF $.
      $( [6-Jun-2013] $) $( [20-Apr-2011] $)
  $}

  ${
    $d x y A $.
    rankid.1 $e |- A e. _V $.
    $( Identity law for the rank function. $)
    rankid $p |- A e. ( R1 ` suc ( rank ` A ) ) $=
      ( vx vy cv csuc cr1 cfv wcel con0 crab cint crnk wrex cvv rankwflem ax-mp
      ax-17 wceq suceq hbrab1 hbint hbfv fveq2d eleq2d onminsb rankval eleqtrri
      hbsuc hbel fveq2i ) AACEZFZGHZIZCJKZLZFZGHZAMHZFZGHUOCJNZAUSIZAOIVBBCAOPQ
      UOVCCCDDAUSDEZAICRCDURGVDGICRCDUQCDUPUOCDJUAUBUIUCUJULUQSZUNUSAVEUMURGULU
      QTUDUEUFQVAURGUTUQSVAURSCABUGUTUQTQUKUH $.
      $( [3-Oct-2003] $)
  $}

  ${
    rankr1lem.1 $e |- A e. _V $.
    $( Lemma for ~ rankr1 . $)
    rankr1lem $p |- ( B e. On ->
                    ( -. A e. ( R1 ` B ) -> B C_ ( rank ` A ) ) ) $=
      ( con0 wcel cr1 cfv crnk csuc wss rankon onsuci ontri1 mpan r1ord3 rankid
      wn wb wi ssel syl6mpi sylbird con1d onsssuc mpan2 sylibrd ) BDEZABFGZEZQB
      AHGZIZEZBUJJZUGULUIUGULQZUKBJZUIUKDEZUGUOUNRUJAKZLZUKBMNUGUOUKFGZUHJZAUSE
      UIUPUGUOUTSURUKBONACPUSUHATUAUBUCUGUJDEUMULRUQBUJUDUEUF $.
      $( [6-Oct-2003] $)
  $}

  ${
    $d x y z A $.  $d x y z B $.
    rankr1.1 $e |- A e. _V $.
    $( A relationship between the rank function and the cumulative hierarchy of
       sets function ` R1 ` .  Proposition 9.15(2) of [TakeutiZaring] p. 79. $)
    rankr1 $p |- ( B = ( rank ` A ) <->
                 ( -. A e. ( R1 ` B ) /\ A e. ( R1 ` suc B ) ) ) $=
      ( vx vy cfv wceq cr1 wcel wn csuc wa con0 eleq1 mpbiri wi eleq2d wss cvv
      c0 crnk rankon word eloni cv wrex wlim w3o ordzsl fveq2 r10 syl6eq mtbiri
      noel a1d vex sucid eleq2 adantl wb suceloni eleq1a imp sylan simpl ontri1
      con2bid syl2anc mpbid adantr biimpa crab cint suceq fveq2d onintss eqeq2i
      rankval biimpi sseq1d syl5ibr exp4d com3l imp31 mtod exp31 rexlimiv oneli
      sylan2i syl6bi anc2li r1sssuc sseld sseq1i syl6ibr biimprd sylan9r sylibd
      syld sseq1 syl6 con2 pm2.43a con2i r1lim eliun syl6bb mtbird expcom 3jaoi
      ciun sylbi syl mpcom wne ssrab2 rankwflem ax-mp rabn0 mpbir onint eqeltri
      fvex mp2an elrab simprbi jca cdm elfvdm r1fnon fndm eleq2i sucelon bitr4i
      wfn sylib rankr1lem com12 syl5 syl5eqss eqssd impbii ) BAUAFZGZABHFZIZJZA
      BKZHFZIZLZUUDUUGUUJBMIZUUDUUGUUDUULUUCMIAUBZBUUCMNOZUULBUCZUUDUUGPZBUDUUO
      BTGZBDUEZKZGZDMUFZBUGZUHUUPDBUIUUQUUPUVAUVBUUQUUGUUDUUQUUFATIAUNUUQUUETAU
      UQUUETHFTBTHUJUKULQUMUOUUTUUPDMUURMIZUUTUUDUUGUVCUUTLZUUDLUUFBUURRZUVDUVE
      JZUUDUVDUURBIZUVFUUTUVGUVCUUTUVGUURUUSIUURDUPUQBUUSUURUROUSUVDUULUVCUVGUV
      FUTUVCUUSMIZUUTUULUURVAUVHUUTUULUUSMBVBVCVDUVCUUTVEUULUVCLUVEUVGBUURVFZVG
      VHVIVJUVCUUTUUDUUFUVEPZUUDUVCUUTUVJUUDUVCUUTUUFUVEUUTUUFLUUDUVCAUUSHFZIZU
      VEUUTUUFUVLUUTUUEUVKABUUSHUJQVKUVCUVLLUVEUUDAEUEZKZHFZIZEMVLZVMZUURRZUVCU
      VLUVSUVPUVLEUURUVMUURGZUVOUVKAUVTUVNUUSHUVMUURVNVOQVPZVCUUDBUVRUURUUDBUVR
      GUUCUVRBEACVRZVQVSVTWAWIWBWCWDWEWFWGUUDUVBUUGUUDUVBLZUUFAUURHFZIZDBUFZUUD
      UWFJUVBUWFUUDUWEUUDJZDBUWEUVGUWGUVGUWEUUDUVGJZPUVGUWGPUUDUVGUWEUWHUUDUVGU
      UDUVCLZUWEUWHPUUDUVGUVCUUDUVGUURUUCIUVCBUUCUURURUUCUURUUMWHWJWKUWIUWEUVEU
      WHUVCUWEUUCUURRZUUDUVEUVCUWEUVLUWJUVCUWDUVKAUURWLWMUVCUVLUVSUWJUWAUUCUVRU
      URUWBWNWOWSUUDUVEUWJBUUCUURWTWPWQUUDUULUVCUVEUWHUTUUNUVIVDWRXAWCUUDUVGXBX
      AXCWGXDVJUWCUUFADBUWDXKZIUWFUWCUUEUWKAUUDBSIZUVBUUEUWKGUUDUWLUUCSIAUAYCBU
      UCSNODBSXEVDQDABUWDXFXGXHXIXJXLXMXNUUDBUVQIZUUJUUDUWMUUCUVQIUUCUVRUVQUWBU
      VQMRUVQTXOZUVRUVQIUVPEMXPUWNUVPEMUFZASIUWOCEASXQXRUVPEMXSXTUVQYAYDYBBUUCU
      VQNOUWMUULUUJUVPUUJEBMUVMBGZUVOUUIAUWPUVNUUHHUVMBVNVOQZYEYFXMYGUUKBUUCUUG
      UUJBUUCRZUUJUULUUGUWRUUJUUHHYHZIZUULAUUHHYIUWTUUHMIUULUWSMUUHHMYOUWSMGYJM
      HYKXRYLBYMYNYPZUULUUGUWRABCYQYRYSVCUUJUUCBRUUGUUJUUCUVRBUWBUULUUJUVRBRUXA
      UVPUUJEBUWQVPXNYTUSUUAUUB $.
      $( [6-Oct-2003] $)
  $}

  ${
    $d x A $.  $d x B $.
    $( A relationship between the rank function and the cumulative hierarchy of
       sets function ` R1 ` .  Proposition 9.15(2) of [TakeutiZaring] p. 79. $)
    rankr1g $p |- ( A e. V -> ( B = ( rank ` A ) <->
                 ( -. A e. ( R1 ` B ) /\ A e. ( R1 ` suc B ) ) ) ) $=
      ( vx cv crnk cfv wceq cr1 wcel wn csuc wa fveq2 eqeq2d notbid anbi12d vex
      eleq1 rankr1 vtoclbg ) BDEZFGZHUBBIGZJZKZUBBLIGZJZMBAFGZHAUDJZKZAUGJZMDAC
      UBAHZUCUIBUBAFNOUMUFUKUHULUMUEUJUBAUDSPUBAUGSQUBBDRTUA $.
      $( [6-Oct-2003] $)
  $}

  ${
    ssrankr1.1 $e |- A e. _V $.
    $( A relationship between an ordinal number less than or equal to a rank,
       and the cumulative hierarchy of sets ` R1 ` .  Proposition 9.15(3) of
       [TakeutiZaring] p. 79. $)
    ssrankr1 $p |- ( B e. On ->
                   ( B C_ ( rank ` A ) <-> -. A e. ( R1 ` B ) ) ) $=
      ( con0 wcel crnk cfv wss cr1 wn wa csuc wceq eqid rankr1 simpli wi rankon
      mpbi r1ord3 mpan2 imp sseld mtoi ex rankr1lem impbid ) BDEZBAFGZHZABIGZEZ
      JZUHUJUMUHUJKZULAUIIGZEZUPJZAUILIGEZUIUIMUQURKUINAUICOSPUNUKUOAUHUJUKUOHZ
      UHUIDEUJUSQARBUITUAUBUCUDUEABCUFUG $.
      $( [8-Oct-2003] $)
  $}

  ${
    rankr1a.1 $e |- A e. _V $.
    $( A relationship between rank and ` R1 ` , clearly equivalent to
       ~ ssrankr1 and friends through trichotomy, but in Raph's opinion
       considerably more intuitive.  See ~ rankr1b for the subset verion.
       (Contributed by Raph Levien, 29-May-2004.) $)
    rankr1a $p |- ( B e. On -> ( A e. ( R1 ` B ) <-> ( rank ` A ) e. B ) ) $=
      ( con0 wcel cr1 cfv wss wn ssrankr1 wb rankon ontri1 mpan2 bitr3d con4bid
      crnk ) BDEZABFGEZAQGZBEZRBTHZSIUAIZABCJRTDEUBUCKALBTMNOP $.
      $( [29-May-2004] $)
  $}

  ${
    $d x y A $.
    $( The value of the cumulative hierarchy of sets function expressed in
       terms of rank.  Definition 15.19 of [Monk1] p. 113. $)
    r1val2 $p |- ( A e. On -> ( R1 ` A ) = { x | ( rank ` x ) e. A } ) $=
      ( con0 wcel cv crnk cfv cr1 vex rankr1a abbi2dv ) BCDAEZFGBDABHGLBAIJK $.
      $( [30-Nov-2003] $)

    $( The value of the cumulative hierarchy of sets function expressed in
       terms of rank.  Theorem 15.18 of [Monk1] p. 113. $)
    r1val3 $p |- ( A e. On ->
                 ( R1 ` A ) = U_ x e. A ~P { y | ( rank ` y ) e. x } ) $=
      ( con0 wcel cr1 cfv cpw ciun crnk cab r1val1 wceq onelon r1val2 pweq 3syl
      cv wa iuneq2dv eqtrd ) CDEZCFGACARZFGZHZIACBRJGUCEBKZHZIACLUBACUEUGUBUCCE
      SUCDEUDUFMUEUGMCUCNBUCOUDUFPQTUA $.
      $( [3-Jul-2004] $) $( [30-Nov-2003] $)
  $}

  ${
    rankel.1 $e |- B e. _V $.
    $( The membership relation is inherited by the rank function.  Proposition
       9.16 of [TakeutiZaring] p. 79. $)
    rankel $p |- ( A e. B -> ( rank ` A ) e. ( rank ` B ) ) $=
      ( wcel crnk cfv csuc cr1 wn wceq wss wi con0 rankon sylbi wb mp2an onordi
      word onsuci wa eqid rankr1g mpbii simpld cpw r1suc ax-mp eleq2i elpw ssel
      bitri com12 mtod ontri1 ordsucsssuc rankid r1ord3 sseld mpi sylbir nsyl2
      ) ABDZBAEFZGZHFZDZVDBEFZDZVCVGAVDHFZDZVCVKIZAVFDZVCVDVDJVLVMUAVDUBAVDBUCU
      DUEVGVCVKVGBVJKZVCVKLVGBVJUFZDVNVFVOBVDMDZVFVOJANZVDUGUHUIBVJCUJULBVJAUKO
      UMUNVIIZVHVDKZVGVHMDVPVSVRPBNZVQVHVDUOQVSVHGZVEKZVGVHSVDSVSWBPVHVTRVDVQRV
      HVDUPQWBBWAHFZDVGBCUQWBWCVFBWAMDVEMDWBWCVFKLVHVTTVDVQTWAVEURQUSUTOVAVB $.
      $( [4-Oct-2003] $)
  $}

  ${
    $d x y A $.
    rankval3.1 $e |- A e. _V $.
    $( The value of the rank function expressed recursively: the rank of a set
       is the smallest ordinal number containing the ranks of all members of
       the set.  Proposition 9.17 of [TakeutiZaring] p. 79. $)
    rankval3 $p |- ( rank ` A ) =
                  |^| { x e. On | A. y e. A ( rank ` y ) e. x } $=
      ( crnk cfv cv wcel wral con0 crab cint csuc cr1 rankval wss word wi eloni
      rankon ordsucss syl onsuci r1ord3 mpan syld vex rankid ssel syl6mpi r1suc
      ralimdv cpw eleq2d dfss3 bitri syl6bb sylibrd ss2rabi intss ax-mp eqsstri
      elpw rankel rgen wceq eleq2 ralbidv onintss mp2 eqssi ) CEFZBGZEFZAGZHZBC
      IZAJKZLZVLCVOMNFZHZAJKZLZVSACDOVRWBPWCVSPVQWAAJVOJHZVQVMVONFZHZBCIZWAWDVP
      WFBCWDVPVNMZNFZWEPZVMWIHWFWDVPWHVOPZWJWDVOQVPWKRVOSVNVOUAUBWHJHWDWKWJRVNV
      MTUCWHVOUDUEUFVMBUGUHWIWEVMUIUJULWDWACWEUMZHZWGWDVTWLCVOUKUNWMCWEPWGCWEDV
      CBCWEUOUPUQURUSVRWBUTVAVBVLJHVNVLHZBCIZVSVLPCTWNBCVMCDVDVEVQWOAVLVOVLVFVP
      WNBCVOVLVNVGVHVIVJVK $.
      $( [11-Oct-2003] $)
  $}

  ${
    $d x y A $.
    $( Any class whose elements have bounded rank is a set.  Proposition 9.19
       of [TakeutiZaring] p. 80. $)
    bndrank $p |- ( E. x e. On A. y e. A ( rank ` y ) C_ x -> A e. _V ) $=
      ( cv crnk cfv wss wral cvv wcel con0 csuc cr1 word wb rankon onordi eloni
      ordsucsssuc sylancr onsuci suceloni r1ord3 sylbid vex rankid ssel syl6mpi
      wi ralimdv dfss3 fvex ssex sylbir syl6 rexlimiv ) BDZEFZADZGZBCHZCIJZAKUS
      KJZVAUQUSLZMFZJZBCHZVBVCUTVFBCVCUTURLZMFZVEGZUQVIJVFVCUTVHVDGZVJVCURNUSNU
      TVKOURUQPZQUSRURUSSTVCVHKJVDKJVKVJUIURVLUAUSUBVHVDUCTUDUQBUEUFVIVEUQUGUHU
      JVGCVEGVBBCVEUKCVEVDMULUMUNUOUP $.
      $( [13-Oct-2003] $)

    $( The elements of a proper class have unbounded rank.  Exercise 2 of
       [TakeutiZaring] p. 80. $)
    unbndrank $p |- ( -. A e. _V -> A. x e. On E. y e. A x e. ( rank ` y ) ) $=
      ( cv crnk cfv wcel wrex con0 wral cvv wn wss wb rankon ontri1 mpan ralnex
      ralbidv syl6bb rexbiia rexnal bitri bndrank sylbir con1i ) ADZBDZEFZGZBCH
      ZAIJZCKGZULLZUIUGMZBCJZAIHZUMUQUKLZAIHUNUPURAIUGIGZUPUJLZBCJURUSUOUTBCUII
      GUSUOUTNUHOUIUGPQSUJBCRTUAUKAIUBUCABCUDUEUF $.
      $( [13-Oct-2003] $)
  $}

  ${
    rankpw.1 $e |- A e. _V $.
    $( The rank of a power set.  Part of Exercise 30 of [Enderton] p. 207. $)
    rankpw $p |- ( rank ` ~P A ) = suc ( rank ` A ) $=
      ( crnk cfv csuc cpw wceq cr1 wcel wn eqid rankr1 simplbi ax-mp elpw mtbir
      wss con0 r1suc mpbi pwid ssel mpi pwex rankon eleq2i rankid eleqtri sspwb
      mto sseqtr4i mpbir onsuci eleqtrri mpbir2an eqcomi ) ACDZEZAFZCDZURUTGUSU
      RHDZIZJUSUREHDZIVBUSUQHDZFZIZVFUSVDQZVGAVDIZUQUQGZVHJZUQKVIVJAVAIAUQBLMNV
      GAUSIVHABUAUSVDAUBUCUJUSVDABUDZOPVAVEUSUQRIVAVEGAUEZUQSNZUFPUSVAFZVCUSVNI
      USVAQUSVEVAAVDQZUSVEQAVEIVOAVAVEABUGVMUHAVDBOTAVDUITVMUKUSVAVKOULURRIVCVN
      GUQVLUMURSNUNUSURVKLUOUP $.
      $( [22-Nov-2003] $)
  $}

  ${
    $d x A $.  $d x B $.
    $( The rank of a set belongs to a limit ordinal iff the rank of its power
       set does. $)
    ranklim $p |- ( Lim B ->
                  ( ( rank ` A ) e. B <-> ( rank ` ~P A ) e. B ) ) $=
      ( vx cvv wcel wlim crnk cfv cpw wb wa csuc limsuc adantl cv eleq1d adantr
      wceq c0 fvprc pweq fveq2d fveq2 suceq syl eqeq12d rankpw vtoclg bitr4d wn
      vex pwexb sylnbi eqtr4d pm2.61ian ) ADEZBFZAGHZBEZAIZGHZBEZJZUPUQKUSURLZB
      EZVBUQUSVEJUPBURMNUPVBVEJUQUPVAVDBCOZIZGHZVFGHZLZRVAVDRCADVFARZVHVAVJVDVK
      VGUTGVFAUAUBVKVIURRVJVDRVFAGUCVIURUDUEUFVFCUKUGUHPQUIUPUJZVCUQVLURVABVLUR
      SVAAGTUPUTDEVASRAULUTGTUMUNPQUO $.
      $( [18-Sep-2006] $)

    $( A stronger property of ` R1 ` than ~ rankpw .  The latter merely proves
       that ` R1 ` of the successor is a power set, but here we prove that if
       ` A ` is in the cumulative hierarchy, then ` ~P A ` is in the cumulative
       hierarchy of the successor.  (Contributed by Raph Levien, 29-May-2004.)
       (Revised by Mario Carneiro, 8-Jun-2013.) $)
    r1pw $p |- ( B e. On ->
                 ( A e. ( R1 ` B ) <-> ~P A e. ( R1 ` suc B ) ) ) $=
      ( cr1 con0 cima cuni wcel cfv cpw csuc wb wi wa crnk rankpwi syl rankr1ag
      r1elwf wss cvv eleq1d eloni ordsucelsuc bicomd sylan9bb suceloni 3bitr4rd
      word pwwf syl2an ex ssid elex pwexb sylibr elpwg mpbiri r1elssi ssel 3syl
      wn mpd pm5.21ni a1d pm2.61i ) ACDEFZGZBDGZABCHGZAIZBJZCHZGZKZLVGVHVNVGVHM
      VJNHZVKGZANHZBGZVMVIVGVPVQJZVKGZVHVRVGVOVSVKAOUAVHVRVTVHBUHVRVTKBUBVQBUCP
      UDUEVGVJVFGZVKDGVMVPKVHAUIBUFVJVKQUJABQUGUKVGVAVNVHVIVGVMABRVMAVJGZVGVMWB
      AASZAULVMATGZWBWCKVMVJTGWDVJVLUMAUNUOAATUPPUQVMWAVJVFSWBVGLVJVKRVJURVJVFA
      USUTVBVCVDVE $.
      $( [8-Jun-2013] $) $( [29-May-2004] $)

    $( A stronger property of ` R1 ` than ~ rankpw .  The latter merely proves
       that ` R1 ` of the successor is a power set, but here we prove that if
       ` A ` is in the cumulative hierarchy, then ` ~P A ` is in the cumulative
       hierarchy of the successor.  (Contributed by Raph Levien,
       29-May-2004.) $)
    r1pwOLD $p |- ( B e. On ->
                 ( A e. ( R1 ` B ) <-> ~P A e. ( R1 ` suc B ) ) ) $=
      ( vx cvv wcel con0 cr1 cfv cpw csuc wb wi cv wceq eleq1 pweq crnk rankr1a
      syl elex eleq1d bibi12d imbi2d word eloni ordsucelsuc bitrd rankpw eleq1i
      vex syl6bbr suceloni pwex bitr4d vtoclg pwexb sylibr pm5.21ni a1d pm2.61i
      wn ) ADEZBFEZABGHZEZAIZBJZGHZEZKZLZVCCMZVDEZVLIZVHEZKZLVKCADVLANZVPVJVCVQ
      VMVEVOVIVLAVDOVQVNVFVHVLAPUAUBUCVCVMVNQHZVGEZVOVCVMVLQHZJZVGEZVSVCVMVTBEZ
      WBVLBCUJZRVCBUDWCWBKBUEVTBUFSUGVRWAVGVLWDUHUIUKVCVGFEVOVSKBULVNVGVLWDUMRS
      UNUOVBVAVJVCVEVBVIAVDTVIVFDEVBVFVHTAUPUQURUSUT $.
      $( [29-May-2004] $)
  $}

  ${
    $d A x y $.  $d B x y $.
    $( MAY BE REVISED - can ranklim + rankr1a shorten this? $)
    $( The cumulative hierarchy of a limit ordinal is closed under power set.
       (Contributed by Raph Levien, 29-May-2004.) $)
    r1pwcl $p |- ( Lim B -> ( A e. ( R1 ` B ) <-> ~P A e. ( R1 ` B ) ) ) $=
      ( vx vy cvv wcel cr1 cfv wb wi wa wrex eleq2d eliun syl6bb con0 wex fveq2
      cv wceq wlim cpw csuc ciun r1lim limelon onelon sylan syl rexbidva limsuc
      r1pw anbi1d vex sucex eleq1 anbi12d cla4ev syl6bi exlimdv 3imtr4g cbvrexv
      df-rex syl6ibr adantl ex r1sssuc sseld syl6 reximdvai impbid 3bitrd wn c0
      bitr4d n0i fvprc nsyl2 pm5.21ni a1d pm2.61i ) BEFZBUAZABGHZFZAUBZWDFZIZJW
      BWCWHWBWCKZWEWFCSZGHZFZCBLZWGWIWEAWKFZCBLZWFWJUCZGHZFZCBLZWMWIWEACBWKUDZF
      WOWIWDWTACBEUEZMCABWKNOWIWNWRCBWIWJBFZKWJPFZWNWRIWIBPFXBXCBEUFBWJUGUHZAWJ
      ULUIUJWIWSWMWCWSWMJWBWCWSWFDSZGHZFZDBLZWMWCXBWRKZCQXEBFZXGKZDQZWSXHWCXIXL
      CWCXIWPBFZWRKZXLWCXBXMWRBWJUKUMXKXNDWPWJCUNUOXEWPTZXJXMXGWRXEWPBUPXOXFWQW
      FXEWPGRMUQURUSUTWRCBVCXGDBVCVAWLXGCDBWJXETWKXFWFWJXEGRMVBVDVEWIWLWRCBWIXB
      XCWLWRJWIXBXCXDVFXCWKWQWFWJVGVHVIVJVKVLWIWGWFWTFWMWIWDWTWFXAMCWFBWKNOVOVF
      WBVMWHWCWEWBWGWEWDVNTZWBWDAVPBGVQZVRWGXPWBWDWFVPXQVRVSVTWA $.
      $( [29-May-2004] $)
  $}

  ${
    rankss.1 $e |- B e. _V $.
    $( The subset relation is inherited by the rank function.  Exercise 1 of
       [TakeutiZaring] p. 80. $)
    rankss $p |- ( A C_ B -> ( rank ` A ) C_ ( rank ` B ) ) $=
      ( cpw wcel crnk cfv wss pwex rankel elpw2 csuc rankpw eleq2i con0 onsssuc
      wb rankon mp2an bitr4i 3imtr3i ) ABDZEAFGZUBFGZEZABHUCBFGZHZAUBBCIJABCKUE
      UCUFLZEZUGUDUHUCBCMNUCOEUFOEUGUIQARBRUCUFPSTUA $.
      $( [25-Nov-2003] $)
  $}

  $( The subset relation is inherited by the rank function.  Exercise 1 of
     [TakeutiZaring] p. 80.  (Revised by Mario Carneiro, 8-Jun-2013.) $)
  rankssb $p |- ( B e. U. ( R1 " On ) ->
      ( A C_ B -> ( rank ` A ) C_ ( rank ` B ) ) ) $=
    ( cr1 con0 cima cuni wcel wss crnk cfv csuc cpw wi rankidb wb rankon onsuci
    r1pw ax-mp sylib r1elwf rankelb elpw2g rankpwi eleq2d 3imtr3d onsssuc mp2an
    3syl syl6ibr ) BCDEFZGZABHZAIJZBIJZKZGZUNUOHZULABLZGZUNUSIJZGZUMUQULUSUPKZC
    JGZUSUKGUTVBMULBUPCJGZVDBNUPDGVEVDOUOBPZQBUPRSTUSVCUAAUSUBUIABUKUCULVAUPUNB
    UDUEUFUNDGUODGURUQOAPVFUNUOUGUHUJ $.
    $( [8-Jun-2013] $)  $( [25-Nov-2003] $)

  ${
    $d A x y $.  $d B x y $.
    $( The rank of the union of two sets.  Theorem 15.17(iii) of [Monk1]
       p. 112.  (Contributed by Mario Carneiro, 10-Jun-2013.) $)
    rankunb $p |- ( ( A e. U. ( R1 " On ) /\ B e. U. ( R1 " On ) ) ->
        ( rank ` ( A u. B ) ) = ( ( rank ` A ) u. ( rank ` B ) ) ) $=
      ( vx vy con0 wcel cun crnk cfv cv wral wceq syl rankelb syl6 rankon eleq2
      wi wss rankssb cr1 cima cuni wel crab cint unwf rankval3b eleq2d elintrab
      wa syl6bb wo elun elun1 elun2 jaao syl5bi ralrimiv onun2i ralbidv imbi12d
      vex rcla4v ax-mp syl5com sylbid ssrdv ssun1 mpi ssun2 unssd eqssd ) AUAEU
      BUCZFZBVNFZUKZABGZHIZAHIZBHIZGZVQCVSWBVQCJZVSFZWCHIZDJZFZCVRKZCDUDZRZDEKZ
      WCWBFZVQWDWCWHDEUEUFZFWKVQVSWMWCVQVRVNFZVSWMLABUGZDCVRUHMUIWHDWCECVCUJULV
      QWEWBFZCVRKZWKWLVQWPCVRWCVRFWCAFZWCBFZUMVQWPWCABUNVOWRWPVPWSVOWRWEVTFWPWC
      ANWEVTWAUOOVPWSWEWAFWPWCBNWEWAVTUPOUQURUSWBEFWKWQWLRZRVTWAAPBPUTWJWTDWBEW
      FWBLZWHWQWIWLXAWGWPCVRWFWBWEQVAWFWBWCQVBVDVEVFVGVHVQWNWBVSSWOWNVTWAVSWNAV
      RSVTVSSABVIAVRTVJWNBVRSWAVSSBAVKBVRTVJVLMVM $.
      $( [10-Jun-2013] $)

    $( The rank of an unordered pair.  Part of Exercise 30 of [Enderton]
       p. 207.  (Contributed by Mario Carneiro, 10-Jun-2013.) $)
    rankprb $p |- ( ( A e. U. ( R1 " On ) /\ B e. U. ( R1 " On ) ) ->
        ( rank ` { A , B } ) = suc ( ( rank ` A ) u. ( rank ` B ) ) ) $=
      ( cr1 con0 cima cuni wcel wa csn cun crnk cfv csuc wceq snwf ranksnb word
      syl2an rankon onordi cpr rankunb uneq12 eqtrd df-pr fveq2i ordsucun mp2an
      3eqtr4g ) ACDEFZGZBUJGZHZAIZBIZJZKLZAKLZMZBKLZMZJZABUAZKLURUTJMZUMUQUNKLZ
      UOKLZJZVBUKUNUJGUOUJGUQVGNULAOBOUNUOUBRUKVEUSNVFVANVGVBNULAPBPVEUSVFVAUCR
      UDVCUPKABUEUFURQUTQVDVBNURASTUTBSTURUTUGUHUI $.
      $( [10-Jun-2013] $)

    $( The rank of an ordered pair.  Part of Exercise 4 of [Kunen] p. 107.
       (Contributed by Mario Carneiro, 10-Jun-2013.) $)
    rankopb $p |- ( ( A e. U. ( R1 " On ) /\ B e. U. ( R1 " On ) ) ->
        ( rank ` <. A , B >. ) = suc suc ( ( rank ` A ) u. ( rank ` B ) ) ) $=
      ( cr1 con0 cima cuni wcel cop crnk cfv csn cpr cun csuc df-op fveq2i wceq
      wa rankprb syl2anc snwf adantr syl5eq wss snsspr1 ssequn1 rankunb syl5eqr
      prwf mpbi eqtr3d suceq syl eqtrd ) ACDEFZGZBUOGZRZABHZIJZAKZIJABLZIJZMZNZ
      AIJBIJMNZNZURUTVAVBLZIJZVEUSVHIABOPURVAUOGZVBUOGZVIVEQUPVJUQAUAUBZABUIZVA
      VBSTUCURVDVFQVEVGQURVCVDVFURVCVAVBMZIJZVDVNVBIVAVBUDVNVBQABUEVAVBUFUJPURV
      JVKVOVDQVLVMVAVBUGTUHABSUKVDVFULUMUN $.
      $( [10-Jun-2013] $)
  $}

  ${
    $d x y z A $.
    ranksn.1 $e |- A e. _V $.
    $( The rank of a singleton.  Theorem 15.17(v) of [Monk1] p. 112. $)
    ranksn $p |- ( rank ` { A } ) = suc ( rank ` A ) $=
      ( vy vx cv crnk cfv wcel csn wral con0 crab cint csuc wb wi wal wceq elsn
      df-ral imbi1i albii fveq2 eleq1d ceqsalv 3bitri a1i rabbiia snex rankval3
      inteqi rankon onsucmin ax-mp 3eqtr4i ) CEZFGZDEZHZCAIZJZDKLZMAFGZURHZDKLZ
      MZUTFGVCNZVBVEVAVDDKVAVDOURKHVAUPUTHZUSPZCQUPARZUSPZCQVDUSCUTTVIVKCVHVJUS
      CASUAUBUSVDCABVJUQVCURUPAFUCUDUEUFUGUHUKDCUTAUIUJVCKHVGVFRAULDVCUMUNUO $.
      $( [28-Nov-2003] $)

    $( The rank of a union.  Part of Theorem 15.17(iv) of [Monk1] p. 112. $)
    rankuni2 $p |- ( rank ` U. A ) = U_ x e. A ( rank ` x ) $=
      ( vy vz cuni crnk cfv cv ciun wcel wral con0 crab cint uniex rankval3 wss
      fvex iunon rankon a1i mprg wrex eluni2 ax-17 hbiu1 hbel vex rankel ssiun2
      sseld syl5 rexlimi sylbi rgen eleq2 ralbidv elrab mpbir2an intss1 eqsstri
      wceq ax-mp iunss elssuni rankss syl mprgbir eqssi ) BFZGHZABAIZGHZJZVLDIZ
      GHZEIZKZDVKLZEMNZOZVOEDVKBCPZQVOWAKZWBVORWDVOMKZVQVOKZDVKLZVNMKZWEABABVNC
      VMGSTWHVMBKZVMUAUBUCWFDVKVPVKKVPVMKZABUDWFAVPBUEWJWFABAEEVQVOVRVQKAUFAEBV
      NUGUHWJVQVNKWIWFVPVMAUIUJWIVNVOVQABVNUKULUMUNUOUPVTWGEVOMVRVOVCVSWFDVKVRV
      OVQUQURUSUTVOWAVAVDVBVOVLRVNVLRZABABVNVLVEWIVMVKRWKVMBVFVMVKWCVGVHVIVJ $.
      $( [30-Nov-2003] $)
  $}

  ${
    $d x y z A $.
    $( The value of the rank function expressed recursively: the rank of a set
       is the smallest ordinal number containing the ranks of all members of
       the set.  Proposition 9.17 of [TakeutiZaring] p. 79.  (Contributed by
       Mario Carneiro, 8-Jun-2013.) $)
    rankuni2b $p |- ( A e. U. ( R1 " On ) ->
          ( rank ` U. A ) = U_ x e. A ( rank ` x ) ) $=
      ( vy vz con0 cuni wcel crnk cfv cv ciun wral wceq syl wss a1i ax-17 sseld
      wi ralrimiv cr1 cima crab cint uniwf rankval3b iuneq1 eleq1d iunon rankon
      fvex mprg vtoclg wrex eluni2 hbiu1 hbel r1elssi rankelb syl6 ssiun2 syldd
      rexlimd syl5bi eleq2 ralbidv elrab sylanbrc intss1 eqsstrd elssuni syl2im
      vex rankssb iunss sylibr eqssd ) BUAEUBFZGZBFZHIZABAJZHIZKZVSWACJZHIZDJZG
      ZCVTLZDEUCZUDZWDVSVTVRGZWAWKMBUEZDCVTUFNVSWDWJGZWKWDOVSWDEGZWFWDGZCVTLZWN
      AWEWCKZEGZWOCBVRWEBMWRWDEAWEBWCUGUHWCEGZWSAWEAWEWCCVMWBHUKUIWTWBWEGWBUJPU
      LUMVSWPCVTWEVTGWEWBGZABUNVSWPAWEBUOVSXAWPABVSAQADDWFWDWGWFGAQADBWCUPUQVSW
      BBGZXAWFWCGZWPVSXBWBVRGXAXCSVSBVRWBBURRWEWBUSUTXBXCWPSSVSXBWCWDWFABWCVARP
      VBVCVDTWIWQDWDEWGWDMWHWPCVTWGWDWFVEVFVGVHWDWJVINVJVSWCWAOZABLWDWAOVSXDABV
      SWLXBWBVTOXDWMWBBVKWBVTVNVLTABWCWAVOVPVQ $.
      $( [8-Jun-2013] $)
  $}

  ${
    $d x y z A $.  $d x y z B $.
    rankun.1 $e |- A e. _V $.
    rankun.2 $e |- B e. _V $.
    $( The rank of the union of two sets.  Theorem 15.17(iii) of [Monk1]
       p. 112. $)
    rankun $p |- ( rank ` ( A u. B ) ) = ( ( rank ` A ) u. ( rank ` B ) ) $=
      ( vx vz vy cun crnk cfv cv wcel wral wi con0 rankel syl sylbi ax-mp wss
      crab cint unex rankval3 eleq2i vex elintrab bitri wo elun elun1 jaoi rgen
      elun2 rankon onun2i eleq2 ralbidv imbi12d rcla4v ssriv ssun1 rankss ssun2
      wceq mpi unssi eqssi ) ABHZIJZAIJZBIJZHZEVJVMEKZVJLZFKZIJZGKZLZFVIMZVNVRL
      ZNZGOMZVNVMLZVOVNVTGOUAUBZLWCVJWEVNGFVIABCDUCZUDUEVTGVNOEUFUGUHWCVQVMLZFV
      IMZWDWGFVIVPVILVPALZVPBLZUIWGVPABUJWIWGWJWIVQVKLWGVPACPVQVKVLUKQWJVQVLLWG
      VPBDPVQVLVKUNQULRUMVMOLWCWHWDNZNVKVLAUOBUOUPWBWKGVMOVRVMVEZVTWHWAWDWLVSWG
      FVIVRVMVQUQURVRVMVNUQUSUTSVFRVAVKVLVJAVITVKVJTABVBAVIWFVCSBVITVLVJTBAVDBV
      IWFVCSVGVH $.
      $( [26-Nov-2003] $)

    $( The rank of an unordered pair.  Part of Exercise 30 of [Enderton]
       p. 207. $)
    rankpr $p |- ( rank ` { A , B } ) = suc ( ( rank ` A ) u. ( rank ` B ) ) $=
      ( cpr crnk cfv csuc cun csn fveq2i snex rankun ranksn uneq12i 3eqtri word
      df-pr rankon onordi wceq ordsucun mp2an eqtr4i ) ABEZFGZAFGZHZBFGZHZIZUGU
      IIHZUFAJZBJZIZFGUMFGZUNFGZIUKUEUOFABRKUMUNALBLMUPUHUQUJACNBDNOPUGQUIQULUK
      UAUGASTUIBSTUGUIUBUCUD $.
      $( [28-Nov-2003] $)

    $( The rank of an ordered pair.  Part of Exercise 4 of [Kunen] p. 107. $)
    rankop $p |- ( rank ` <. A , B >. ) =
                 suc suc ( ( rank ` A ) u. ( rank ` B ) ) $=
      ( cop crnk cfv csn cpr cun csuc df-op fveq2i snex prex rankpr wss snsspr1
      wceq ssequn1 mpbi rankun 3eqtr3i suceq ax-mp 3eqtri ) ABEZFGAHZABIZIZFGUH
      FGUIFGZJZKZAFGBFGJKZKZUGUJFABLMUHUIANZABOZPULUNSUMUOSUHUIJZFGUKULUNURUIFU
      HUIQURUISABRUHUITUAMUHUIUPUQUBABCDPUCULUNUDUEUF $.
      $( [13-Sep-2006] $)
  $}

  $( Any set is a subset of the hierarchy of its rank. $)
  r1rankid $p |- ( A e. V -> A C_ ( R1 ` ( rank ` A ) ) ) $=
    ( wcel crnk cfv cr1 cpw wss csuc wn wceq wa eqid rankr1g simprd con0 rankon
    mpbii r1suc ax-mp syl6eleq elpwg mpbid ) ABCZAADEZFEZGZCAUFHUDAUEIFEZUGUDAU
    FCJZAUHCZUDUEUEKUIUJLUEMAUEBNROUEPCUHUGKAQUESTUAAUFBUBUC $.
    $( [14-Oct-2003] $)

  ${
    $d x A $.
    rankeq0.1 $e |- A e. _V $.
    $( A set is empty iff its rank is empty. $)
    rankeq0 $p |- ( A = (/) <-> ( rank ` A ) = (/) ) $=
      ( vx wceq crnk cfv fveq2 con0 wcel 0elon rankonid mpbi syl6eq cr1 wss cvv
      c0 cv ax-mp sylbi crab cint rankval2 eqeq1i wa ssrab2 onint0 sseq2d elrab
      wb biantrur r10 sseq2i bitr3i 3bitri ss0 impbii ) AQDZAEFZQDZURUSQEFZQAQE
      GQHIZVAQDJQKLMUTACRZNFZOZCHUAZUBZQDZURUSVGQAPIUSVGDBCAPUCSUDVHAQOZURVHQVF
      IZVBAQNFZOZUEZVIVFHOVHVJUJVECHUFVFUGSVEVLCQHVCQDVDVKAVCQNGUHUIVMVLVIVBVLJ
      UKVKQAULUMUNUOAUPTTUQ $.
      $( [18-Sep-2006] $)
  $}

  ${
    $d x y z A $.
    $( The rank of the hierarchy of an ordinal number is itself. $)
    rankr1id $p |- ( A e. On <-> ( rank ` ( R1 ` A ) ) = A ) $=
      ( vx vy con0 wcel cr1 cfv crnk wceq cv fveq2 fveq2d eqeq12d wss crab cint
      id cvv ax-mp syl rankval2 r1ord3 ss2rabdv intss sseqtrd syl5eqss rankonid
      fvex intmin vex r1rankid syl5sseq rankss sseq1 mpbid sylbi vtoclga rankon
      eqssd eleq1 mpbii impbii ) ADEZAFGZHGZAIZBJZFGZHGZVGIVFBADVGAIZVIVEVGAVJV
      HVDHVGAFKLVJQMVGDEZVIVGVKVIVHCJZFGNZCDOZPZVGVHREVIVOIVGFUHZCVHRUASVKVOVGV
      LNZCDOZPZVGVKVRVNNVOVSNVKVQVMCDVGVLUBUCVRVNUDTCVGDUIUEUFVKVGHGZVGIZVGVINZ
      VGUGWAVTVINZWBWAVGVHNWCWAVTFGZVGVHVGREVGWDNBUJVGRUKSVTVGFKULVGVHVPUMTVTVG
      VIUNUOUPUSUQVFVEDEVCVDURVEADUTVAVB $.
      $( [14-Oct-2003] $)

    $( The rank of a union.  Part of Exercise 4 of [Kunen] p. 107. $)
    rankuni $p |- ( rank ` U. A ) = U. ( rank ` A ) $=
      ( vx vy vz cvv wcel cuni crnk cfv wceq cv fveq2 unieqd fvex wss wex ax-mp
      wa cr1 c0 unieq fveq2d eqeq12d wrex cab ciun rankuni2 dfiun2 eqtri df-rex
      vex rankel anim1i eximi 19.42v eleq1 pm5.32ri exbii simpl rankon rankr1id
      con0 oneli sylib eqcomd eqeq2d cla4ev syl ancli 3bitr3i sylbi abssi uniss
      impbii eqsstri csuc cpw pwuni uniex rankss rankpw sseqtri onunisuci eqssi
      pwex vtoclg wn uniexb fvprc sylnbi uni0 syl6eqr eqtr4d pm2.61i ) AEFZAGZH
      IZAHIZGZJZBKZGZHIZXAHIZGZJWTBAEXAAJZXCWQXEWSXFXBWPHXAAUAUBXFXDWRXAAHLMUCX
      CXEXCCKZDKZHIZJZDXAUDZCUEZGZXEXCDXAXIUFXMDXABUKZUGDCXAXIXHHNUHUIXLXDOXMXE
      OXKCXDXKXHXAFZXJRZDPZXGXDFZXJDXAUJXQXIXDFZXJRZDPZXRXPXTDXOXSXJXHXAXNULUMU
      NXRXJRZDPXRXJDPZRZYAXRXRXJDUOYBXTDXJXRXSXGXIXDUPUQURYDXRXRYCUSXRYCXRXGXGS
      IZHIZJZYCXRYFXGXRXGVBFYFXGJXDXGXAUTVCXGVAVDVEXJYGDYEXGSNXHYEJXIYFXGXHYEHL
      VFVGVHVIVNVJVDVKVLXLXDVMQVOXEXCVPZGZXCXDYHOXEYIOXDXBVQZHIZYHXAYJOXDYKOXAV
      RXAYJXBXAXNVSZWEVTQXBYLWAWBXDYHVMQXCXBUTWCWBWDWFWOWGZWQTGZWSYMWQTYNWOWPEF
      WQTJAWHWPHWIWJWKWLYMWRTAHWIMWMWN $.
      $( [15-Sep-2006] $)
  $}

  ${
    $d x y z A $.  $d x B $.
    rankr1b.1 $e |- A e. _V $.
    $( A relationship between rank and ` R1 ` .  See ~ rankr1a for the
       membership version. $)
    rankr1b $p |- ( B e. On -> ( A C_ ( R1 ` B ) <-> ( rank ` A ) C_ B ) ) $=
      ( con0 wcel cr1 cfv wss crnk fvex rankss rankr1id biimpi sseq2d syl5ib wi
      wceq rankon mpan cvv r1ord3 r1rankid ax-mp sstr syl6 impbid ) BDEZABFGZHZ
      AIGZBHZUIUJUHIGZHUGUKAUHBFJKUGULBUJUGULBQBLMNOUGUKUJFGZUHHZUIUJDEUGUKUNPA
      RUJBUASAUMHZUNUIATEUOCATUBUCAUMUHUDSUEUF $.
      $( [15-Sep-2006] $)

    $( The rank of a successor. $)
    ranksuc $p |- ( rank ` suc A ) = suc ( rank ` A ) $=
      ( csuc crnk cfv csn cun df-suc fveq2i snex rankun ranksn wss wceq sssucid
      uneq2i ssequn1 mpbi eqtri 3eqtri ) ACZDEAAFZGZDEADEZUBDEZGZUDCZUAUCDAHIAU
      BBAJKUFUDUGGZUGUEUGUDABLPUDUGMUHUGNUDOUDUGQRST $.
      $( [18-Sep-2006] $)

    $( Upper bound of the rank of a union.  Part of Exercise 30 of [Enderton]
       p. 207. $)
    rankuniss $p |- ( rank ` U. A ) C_ ( rank ` A ) $=
      ( cuni crnk cfv rankuni word wss rankon onordi orduniss ax-mp eqsstri ) A
      CDEADEZCZNAFNGONHNAIJNKLM $.
      $( [30-Nov-2003] $)

    $( The rank of a set is the supremum of the successors of the ranks of its
       members.  Exercise 9.1 of [Jech] p. 72.  Also a special case of Theorem
       7V(b) of [Enderton] p. 204. $)
    rankval4 $p |- ( rank ` A ) = U_ x e. A suc ( rank ` x ) $=
      ( vy crnk cfv cv cr1 wss wcel wi ax-17 con0 rankon fvex r1ord3 ax-mp crab
      cint cvv csuc ciun hbiu1 hbfv dfss2f vex rankid ssiun2 onsuci sucex iunon
      a1i mprg mp2an syl sseld mpi mpgbir rankss mpan ss2rabi intss wceq intmin
      rankval2 eqcomi 3sstr4i sstri iunss rankel onsucssi sylib mprgbir eqssi )
      BEFZABAGZEFZUAZUBZVOVSHFZEFZVSBVTIZVOWAIWBVPBJZVPVTJZKAADBVTDGZBJALADVSHW
      EHJALADBVRUCUDUEWCVPVRHFZJWDVPAUFUGWCWFVTVPWCVRVSIZWFVTIZABVRUHVRMJZVSMJZ
      WGWHKVQVPNZUIZWIWJABABVRCVQVPEOUJUKWIWCWLULUMZVRVSPUNUOUPUQURBVTVSHOZUSQV
      TWEHFIZDMRZSZVSWEIZDMRZSZWAVSWSWPIWQWTIWRWODMWJWEMJWRWOKWMVSWEPUTVAWSWPVB
      QVTTJWAWQVCWNDVTTVEQWTVSWJWTVSVCWMDVSMVDQVFVGVHVSVOIVRVOIZABABVRVOVIWCVQV
      OJXAVPBCVJVQVOWKBNVKVLVMVN $.
      $( [7-Nov-2004] $) $( [12-Oct-2003] $)

    $( The rank of a set is bounded by a bound for the successor of its
       members. $)
    rankbnd $p |- ( A. x e. A suc ( rank ` x ) C_ B <-> ( rank ` A ) C_ B ) $=
      ( crnk cfv wss cv csuc ciun wral rankval4 sseq1i iunss bitr2i ) BEFZCGABA
      HEFIZJZCGQCGABKPRCABDLMABQCNO $.
      $( [18-Sep-2006] $)

    $( The rank of a set is bounded by the successor of a bound for its
       members. $)
    rankbnd2 $p |- ( B e. On -> ( A. x e. A ( rank ` x ) C_ B <->
                  ( rank ` A ) C_ suc B ) ) $=
      ( cv crnk cfv wss wral cuni con0 wcel csuc rankuni rankuni2 eqtr3i sseq1i
      ciun iunss bitr2i word wb rankon onssi eloni ordunisssuc sylancr syl5bb )
      AEFGZCHABIZBFGZJZCHZCKLZUKCMHZUMABUIRZCHUJULUPCBJFGULUPBNABDOPQABUICSTUNU
      KKHCUAUMUOUBUKBUCUDCUEUKCUFUGUH $.
      $( [15-Sep-2006] $)

    $( A relationship that can be used for computation of rank. $)
    rankc1 $p |- ( A. x e. A ( rank ` x ) e. ( rank ` U. A ) <->
                 ( rank ` A ) = ( rank ` U. A ) ) $=
      ( crnk cfv cuni wa cv wcel wral wceq rankuniss biantru csuc ciun rankval4
      wss iunss sseq1i rankon onsucssi ralbii 3bitr4ri eqss 3bitr4i ) BDEZBFZDE
      ZQZUIUHUFQZGAHZDEZUHIZABJZUFUHKUJUIBCLMABULNZOZUHQUOUHQZABJUIUNABUOUHRUFU
      PUHABCPSUMUQABULUHUKTUGTUAUBUCUFUHUDUE $.
      $( [16-Sep-2006] $)

    $( A relationship that can be used for computation of rank. $)
    rankc2 $p |- ( E. x e. A ( rank ` x ) = ( rank ` U. A ) ->
                 ( rank ` A ) = suc ( rank ` U. A ) ) $=
      ( cv crnk cfv cuni wceq wrex csuc wss cpw pwuni uniex rankss ax-mp rankpw
      pwex wcel rankon a1i rankel eleq1 syl5ibcom rexlimiv onsucssi sylib eqssd
      sseqtri ) ADZEFZBGZEFZHZABIZBEFZUMJZUPUQKUOUPULLZEFZUQBURKUPUSKBMBURULBCN
      ZROPULUTQUIUAUOUMUPSZUQUPKUNVAABUJBSUKUPSUNVAUJBCUBUKUMUPUCUDUEUMUPULTBTU
      FUGUH $.
      $( [7-Jul-2007] $) $( [16-Sep-2006] $)
  $}

  ${
    rankelun.1 $e |- A e. _V $.
    rankelun.2 $e |- B e. _V $.
    rankelun.3 $e |- C e. _V $.
    rankelun.4 $e |- D e. _V $.
    $( Rank membership is inherited by union. $)
    rankelun $p |- ( ( ( rank ` A ) e. ( rank ` C ) /\ ( rank ` B ) e.
          ( rank ` D ) ) -> ( rank ` ( A u. B ) ) e. ( rank ` ( C u. D ) ) ) $=
      ( crnk cfv wcel wa cun cr1 con0 ax-mp wss fvex wceq rankun rankon rankr1a
      wb cvv csuc cpr rankpr suceq eqtr4i elun1 elun2 anim12i prss sylib rankss
      unex syl syl5eqssr sucssel mpsyl syl2anbr rankr1id mpbi uneq12i syl6eleq
      3eqtr4i ) AIJZCIJZKZBIJZDIJZKZLABMZIJZVHNJZVKNJZMZIJZCDMIJZVIAVOKZBVPKZVN
      VRKZVLVHOKZVTVIUCCUAZAVHEUBPVKOKZWAVLUCDUAZBVKFUBPVNUDKVTWALZVNUEZVRQWBVM
      IRWGWHABUFZIJZVRWJVGVJMZUEZWHABEFUGVNWKSWHWLSABEFTVNWKUHPUIWGWIVQQZWJVRQW
      GAVQKZBVQKZLWMVTWNWAWOAVOVPUJBVPVOUKULABVQEFUMUNWIVQVOVPVHNRZVKNRZUPUOUQU
      RVNVRUDUSUTVAVOIJZVPIJZMVHVKMVRVSWRVHWSVKWCWRVHSWDVHVBVCWEWSVKSWFVKVBVCVD
      VOVPWPWQTCDGHTVFVE $.
      $( [18-Sep-2006] $)

    $( Rank membership is inherited by unordered pairs. $)
    rankelpr $p |- ( ( ( rank ` A ) e. ( rank ` C ) /\ ( rank ` B ) e.
            ( rank ` D ) ) -> ( rank ` { A , B } ) e. ( rank ` { C , D } ) ) $=
      ( crnk cfv wcel wa cpr cun csuc rankpr rankun rankelun syl6eleq rankon wb
      syl5eqelr word onun2i onordi ordsucelsuc ax-mp sylib syl6eleqr syl5eqel )
      AIJZCIJZKBIJZDIJZKLZABMIJUKUMNZOZCDMIJZABEFPUOUQULUNNZOZURUOUPUSKZUQUTKZU
      OUPABNIJZUSABEFQUOVCCDNIJUSABCDEFGHRCDGHQSUBUSUCVAVBUAUSULUNCTDTUDUEUPUSU
      FUGUHCDGHPUIUJ $.
      $( [18-Sep-2006] $)

    $( Rank membership is inherited by ordered pairs. $)
    rankelop $p |- ( ( ( rank ` A ) e. ( rank ` C ) /\ ( rank ` B ) e.
        ( rank ` D ) ) -> ( rank ` <. A , B >. ) e. ( rank ` <. C , D >. ) ) $=
      ( crnk cfv wcel cop cpr csuc cun rankop wceq rankpr suceq ax-mp wa eqtr4i
      rankelpr word wb rankon onordi ordsucelsuc sylib syl6eleq syl5eqel ) AIJZ
      CIJZKBIJZDIJZKUAZABLIJZABMIJZNZCDLIJZUQULUNONZNZUSABEFPURVAQUSVBQABEFRURV
      ASTUBUPUSCDMZIJZNZUTUPURVDKZUSVEKZABCDEFGHUCVDUDVFVGUEVDVCUFUGURVDUHTUIVE
      UMUOONZNZUTVDVHQVEVIQCDGHRVDVHSTCDGHPUBUJUK $.
      $( [25-Jun-2007] $) $( [18-Sep-2006] $)
  $}

  ${
    rankxpl.1 $e |- A e. _V $.
    rankxpl.2 $e |- B e. _V $.
    $( A lower bound on the rank of a cross product. $)
    rankxpl $p |- ( ( A X. B ) =/= (/) -> ( rank ` ( A u. B ) ) C_
                  ( rank ` ( A X. B ) ) ) $=
      ( cxp c0 wne cun crnk cfv cuni unixp fveq2d wss uniex rankuniss sstri a1i
      xpex eqsstr3d ) ABEZFGZABHZIJUAKZKZIJZUAIJZUBUEUCIABLMUFUGNUBUFUDIJUGUDUA
      ABCDSZOPUAUHPQRT $.
      $( [18-Sep-2006] $)

    $( An upper bound on the rank of a cross product. $)
    rankxpu $p |- ( rank ` ( A X. B ) ) C_
                 suc suc ( rank ` ( A u. B ) ) $=
      ( cxp crnk cfv cun cpw csuc wss xpsspw unex pwex rankss ax-mp rankpw wceq
      suceq eqtri sseqtri ) ABEZFGZABHZIZIZFGZUDFGJZJZUBUFKUCUGKABLUBUFUEUDABCD
      MZNZNOPUGUEFGZJZUIUEUKQULUHRUMUIRUDUJQULUHSPTUA $.
      $( [18-Sep-2006] $)
  $}

  ${
    $d x y z A $.  $d x y z B $.
    rankxplim.1 $e |- A e. _V $.
    rankxplim.2 $e |- B e. _V $.
    $( The rank of a cross product when the rank of the union of its arguments
       is a limit ordinal.  Part of Exercise 4 of [Kunen] p. 107.  See
       ~ rankxpsuc for the successor case. $)
    rankxplim $p |- ( ( Lim ( rank ` ( A u. B ) ) /\ ( A X. B ) =/= (/) ) ->
                    ( rank ` ( A X. B ) ) = ( rank ` ( A u. B ) ) ) $=
      ( vx vy vz cun crnk cfv wa wss cv csuc wral wcel cpw cuni pwuni wceq wlim
      cxp c0 wne cop cpr uniop pweqi sseqtri unipr sspwb mpbi sstri unex rankss
      vex pwex ax-mp rankel rankelun syl2an adantl wb ranklim bitrd adantr con0
      mpbid wi rankon ontr2 mp2an sylancr onsucssi sylib ralrimivva fveq2 suceq
      syl sseq1d ralxp xpex rankbnd bitr3i rankxpl eqssd ) ABHZIJZUAZABUBZUCUDZ
      KWJIJZWHWIWLWHLZWKWIEMZFMZUEZIJZNZWHLZFBOEAOZWMWIWSEFABWIWNAPZWOBPZKZKZWQ
      WHPZWSXDWQWNWOHZQZQZIJZLZXIWHPZXEWPXHLXJWPWNWOUFZQZXHWPWPRZQXMWPSXNXLWNWO
      UGUHUIXLXGLXMXHLXLXLRZQXGXLSXOXFWNWOEUPZFUPZUJUHUIXLXGUKULUMWPXHXGXFWNWOX
      PXQUNUQUQUOURXDXFIJWHPZXKXCXRWIXAWNIJAIJPWOIJBIJPXRXBWNACUSWOBDUSWNWOABXP
      XQCDUTVAVBWIXRXKVCXCWIXRXGIJWHPXKXFWHVDXGWHVDVEVFVHWQVGPWHVGPXJXKKXEVIWPV
      JZWGVJZWQXIWHVKVLVMWQWHXSXTVNVOVPWTGMZIJZNZWHLZGWJOWMYDWSGEFABYAWPTZYCWRW
      HYEYBWQTYCWRTYAWPIVQYBWQVRVSVTWAGWJWHABCDWBWCWDVOVFWKWHWLLWIABCDWEVBWF $.
      $( [19-Sep-2006] $)


    $( If the rank of a cross product is a limit ordinal, so is the rank of the
       union of its arguments. $)
    rankxplim2 $p |- ( Lim ( rank ` ( A X. B ) ) ->
                     Lim ( rank ` ( A u. B ) ) ) $=
      ( cxp wne crnk cfv wlim cun wcel wceq 0ellim n0i cuni limuni2 syl rankuni
      c0 wn df-ne xpex rankeq0 notbii bitr2i biimpi 3syl wb unieqi eqtr2i unixp
      fveq2d syl5eq limeq syl5ib mpcom ) ABEZSFZUQGHZIZABJZGHZIZUTSUSKUSSLZTZUR
      USMUSSNVEURURUQSLZTVEUQSUAVFVDUQABCDUBUCUDUEUFUGUTUSOZOZIZURVCUTVGIVIUSPV
      GPQURVHVBLVIVCUHURVHUQOZOZGHZVBVLVJGHZOVHVJRVMVGUQRUIUJURVKVAGABUKULUMVHV
      BUNQUOUP $.
      $( [19-Sep-2006] $)

    $( The rank of a cross product is a limit ordinal iff its union is. $)
    rankxplim3 $p |- ( Lim ( rank ` ( A X. B ) ) <->
                     Lim U. ( rank ` ( A X. B ) ) ) $=
      ( vx vy crnk cfv cuni c0 wceq wn csuc con0 wrex wa wcel wss wb adantr cxp
      wlim limuni2 cun cv 0ellim n0i unieq uni0 syl6eq con3i 3syl rankon onsuci
      elexi sucid ontri1 mp2an con2bii mpbi rankxpu sstr mpan2 reeanv wi simprl
      mto simpr rankuni unieqi eqtri wne df-ne xpex rankeq0 notbii bitr2i sylib
      unixp syl fveq2d syl5reqr eqimss eqsstr3d adantrr limuni sseqtr4d cvv vex
      word onordi orduni ax-mp ordelsuc sylibr limsuc mpbid eqeltrd ordsucelsuc
      onsucuni2 mpan ad2antll eleqtrd onsucssi ex a1d rexlimdvv syl5bir mtoi wo
      ianor un00 olc adantl sylbir xpeq0 unex 3imtr3i ordzsl 3ori sylan orim12d
      w3o syl5bi imp simpl necon3abii rankxplim sylan2br mpbird expcom idd jaod
      limeq mpd syl2anc impbii ) ABUAZGHZUBZYSIZUBZYSUCUUBYSJKZLZABUDZGHZEUEZMZ
      KZENOZYSFUEZMKZFNOZPZLZYTUUBJUUAQUUAJKZLUUDUUAUFUUAJUGUUCUUPUUCUUAJIJYSJU
      HUIUJUKULZUUBUUNUUFMZMZMZYSRZUVAUUTUUSRZUUSUUTQZUVBLUUSUUSNUURUUFUUEUMZUN
      UNZUOUPUVBUVCUUTNQUUSNQUVBUVCLSUUSUVEUNUVEUUTUUSUQURUSUTUVAYSUUSRUVBABCDV
      AUUTYSUUSVBVCVGUUNUUIUULPZFNOENOUUBUVAUUIUULEFNNVDUUBUVFUVAEFNNUUBUVFUVAV
      EUUGNQUUKNQPUUBUVFUVAUUBUVFPZUUSYSQUVAUVGUUSUUAMZYSUVGUURUUAQZUUSUVHQZUVG
      UUFUUAQZUVIUVGUUFUUHUUAUUBUUIUULVFUVGUUGUUAQZUUHUUAQZUVGUUHUUARZUVLUVGUUH
      UUAIZUUAUUBUUIUUHUVORUULUUBUUIPUUHUUFUVOUUBUUIVHUUBUUFUVORZUUIUUBUUFUVOKU
      VPUUBUVOYRIZIZGHZUUFUVSUVQGHZIUVOUVQVIUVTUUAYRVIVJVKUUBUVRUUEGUUBYRJVLZUV
      RUUEKUUBUUDUWAUUQUWAYRJKZLZUUDYRJVMUWBUUCYRABCDVNVOZVPZVQVRABVSVTWAWBUUFU
      VOWCVTTWDWEUUBUUAUVOKUVFUUAWFTWGUUGWHQUUAWJZUVLUVNSEWIYSWJZUWFYSYRUMZWKZY
      SWLWMZUUGUUAWHWNURWOUUBUVLUVMSUVFUUAUUGWPTWQWRUUBUVKUVISUVFUUAUUFWPTWQUWF
      UVIUVJSUWJUURUUAWSWMVRUULUVHYSKZUUBUUIYSNQUULUWKUWHYSUUKWTXAXBXCUUSYSUVEU
      WHXDVRXEXFXGXHXIUUDUUOPUUFUBZYTXJZYTUUDUUOUWMUUOUUJLZUUMLZXJUUDUWMUUJUUMX
      KUUDUWNUWLUWOYTUUDUWNUWLUUDUUFJKZLZUWNUWLUWCUUEJKZLUUDUWQUWRUWBUWRAJKZBJK
      ZXJZUWBUWRUWSUWTPUXAABXLUWTUXAUWSUWTUWSXMXNXOABXPWOUKUWEUWRUWPUUEABCDXQVO
      VPXRUWPUUJUWLUUFWJUWPUUJUWLYCUUFUVDWKEUUFXSUTXTYAXEUUDUWOYTUUCUUMYTUWGUUC
      UUMYTYCUWIFYSXSUTXTXEYBYDYEUUDUWMYTVEUUOUUDUWLYTYTUWLUUDYTUWLUUDPZYTUWLUW
      LUUDYFUXBYSUUFKZYTUWLSUUDUWLUWAUXCUUCYRJUWDYGABCDYHYIYSUUFYNVTYJYKUUDYTYL
      YMTYOYPYQ $.
      $( [19-Sep-2006] $)

    $( The rank of a cross product when the rank of the union of its arguments
       is a successor ordinal.  Part of Exercise 4 of [Kunen] p. 107.  See
       ~ rankxplim for the limit ordinal case. $)
    rankxpsuc $p |- ( ( ( rank ` ( A u. B ) ) = suc C /\ ( A X. B ) =/= (/) )
                  -> ( rank ` ( A X. B ) ) = suc suc ( rank ` ( A u. B ) ) ) $=
      ( vx crnk cfv csuc wceq c0 cuni sylibr con0 wlim wn cvv wcel wo mpbi wrex
      cun cxp wne wa rankuni unieqi eqtri unixp fveq2d syl5reqr suc11reg adantl
      cv wi fvex eleq1 mpbii sucexb nlimsucg limeq mtbird rankxplim2 con3i xpex
      syl rankeq0 necon3abii w3o word rankon onordi ordzsl 3orass ori sylbi ord
      con1d com12 ax-mp mtbiri rexlimivw rankxplim3 sylnib syl6com unixp0 uniex
      3syl vex eqeq1i 3bitri onuni syld impcom onsucuni2 mpan eqtrd imp eqtr2d
      ) ABUBZGHZCIZJZABUCZKUDZUEZXAIZIZXDGHZLZIZXIXFXGXJJXHXKJXFXGXJLZIZXJXEXGX
      MJZXCXEXAXLJXNXEXLXDLZLZGHZXAXQXOGHZLXLXOUFXRXJXDUFZUGUHXEXPWTGABUIUJUKXA
      XLULMUMXFXJFUNZIZJZFNUAZXMXJJZXEXCYCXEXCXJOZPZYCXCXEXIYAJZFNUAZYFXCXAOZPX
      IOZPZXEYHUOXCYIXBOZXCCQRZYLPXCXBQRZYMXCXAQRYNWTGUPXAXBQUQURCUSMCQUTVFXAXB
      VAVBYJYIABDEVCVDXEYKYHXEYHYJXEYHYJXEXIKJZPYHYJSZYOXDKXDABDEVEZVGVHYOYPYOY
      HYJVIZYOYPSXIVJYRXIXDVKZVLFXIVMTYOYHYJVNTVOVPVQVRVSWHZYHYJYEYGYKFNYGYJYAO
      ZXTQRUUAPFWIXTQUTVTXIYAVAWAWBABDEWCWDWEXEYCYEXEYCYEXEXJKJZPYCYESZUUBXDKXD
      KJXOKJXRKJUUBABWFXOXDYQWGVGXRXJKXSWJWKVHUUBUUCUUBYCYEVIZUUBUUCSXJVJUUDXJX
      INRZXJNRZYSXIWLVTZVLFXJVMTUUBYCYEVNTVOVPVQVRWMWNYBYDFNUUFYBYDUUGXJXTWOWPW
      BVFWQXGXJULMXFYHXKXIJZXCXEYHYTWRYGUUHFNUUEYGUUHYSXIXTWOWPWBVFWS $.
      $( [19-Sep-2006] $)
  $}

  ${
    $( The transitive closure function is well-founded if its argument is.
       (Contributed by Mario Carneiro, 23-Jun-2013.) $)
    tcwf $p |- ( A e. U. ( R1 " On ) -> ( TC ` A ) e. U. ( R1 " On ) ) $=
      ( vx cr1 con0 cima cuni wcel ctc cfv wss r1elssi wtr dftr3 mprgbir mpan2i
      cv tcmin mpd fvex r1elss sylibr ) ACDEFZGZAHIZUBJZUDUBGUCAUBJZUEAKUCUFUBL
      ZUEUGBPZUBJBUBBUBMUHKNAUBUBQORUDAHSTUA $.
      $( [23-Jun-2013] $)
  $}

  ${
    $d A x y z $.  $d x y z w u $.
    $( This theorem expresses two different facts from the two subset
       implications in this equality.  In the forward direction, it says that
       the transitive closure has members of every rank below ` A ` .  Stated
       another way, to construct a set at a given rank, you have to climb the
       entire hierarchy of ordinals below ` ( rank `` A ) ` , constructing at
       least one set at each level in order to move up the ranks.  In the
       reverse direction, it says that every member of ` ( TC `` A ) ` has a
       rank below the rank of ` A ` , since intuitively it contains only the
       members of ` A ` and the members of those and so on, but nothing
       "bigger" than ` A ` .  (Contributed by Mario Carneiro, 23-Jun-2013.) $)
    tcrank $p |- ( A e. U. ( R1 " On ) ->
        ( rank ` A ) = ( rank " ( TC ` A ) ) ) $=
      ( vy vz vx vu cr1 con0 cima wcel crnk cfv ctc wrex wss wral wi wceq fveq2
      wa syl vw cuni cv csuc rankwflemb suceloni raleqdv imaeq2d sseq12d syl6bb
      cbvralv wn simpr simprl simplr rankr1ai rcla4v r1elwf r1rankidb 3syl syld
      ssralv sylc crab cint rankval3b eleq2d biimpd rankon oneli eleq2 onnminsb
      ralbidv sylcom imp rexnal sylibr adantl r19.29 syl2anc w3a w3o word eloni
      wo ordtri3or syl2an sylancr 3orass sylib orcanai ad2ant2l 3adant2 cvv vex
      simp2 tcid ax-mp sseli eqeq1d rcla4ev ex simp3l sseld simp1l wfn wb rankf
      wf ffn r1tr trel tcwf fvex r1elss fvelimab tcel ssrexv adantr sylbid jaod
      wtr mpd 3exp rexlimdv expr r1elssi sylan2 sylibrd ssrdv ralrimiva rcla4cv
      tfis3 rexlimiv sylbi cab tcvalg sseq2 treq anbi12d intss1 sylancl eqsstrd
      elab sylbir imass2 wfun ffun fvelima eleq1 syl5ibcom ssriv syl6ss eqssd
      mpan ) AFGHUBZIZAJKZJALKZHZUUQABUCZUDZFKZIZBGMUURUUTNZBAUEUVDUVEBGUVAGIUV
      BGICUCZJKZJUVFLKZHZNZCUVCOZUVDUVEPUVAUFUVJCDUCZFKZOZEUCZJKZJUVOLKZHZNZEUV
      AFKZOZUVKDBUVBUVLUVAQZUVNUVJCUVTOUWAUWBUVJCUVMUVTUVLUVAFRUGUVJUVSCEUVTUVF
      UVOQZUVGUVPUVIUVRUVFUVOJRUWCUVHUVQJUVFUVOLRUHUIUKUJUVLUVBQUVJCUVMUVCUVLUV
      BFRUGUVLGIZUWABUVLOZUVNUWDUWESZUVJCUVMUWFUVFUVMIZSZUAUVGUVIUWHUAUCZUVGIZU
      VLJKZUWIQZDUVHMZUWIUVIIZUWFUWGUWJUWMUWFUWGUWJSZSZUWOUVSUVPUWIIZULZSZEUVFM
      ZUWMUWFUWOUMUWPUVSEUVFOZUWREUVFMZUWTUWPUWGUWEUXAUWFUWGUWJUNUWDUWEUWOUOUWG
      UWEUVSEUVGFKZOZUXAUWGUVGUVLIUWEUXDPUVFUVLUPUWAUXDBUVGUVLUVAUVGQUVSEUVTUXC
      UVAUVGFRUGUQTUWGUVFUUPIZUVFUXCNUXDUXAPUVFUVLURZUVFUSUVSEUVFUXCVBUTVAVCUWO
      UXBUWFUWOUWQEUVFOZULZUXBUWGUWJUXHUWGUXEUWJUXHPUXFUXEUWJUWIUVPUVLIZEUVFOZD
      GVDVEZIZUXHUXEUWJUXLUXEUVGUXKUWIDEUVFVFVGVHUWJUWIGIZUXLUXHPUVGUWIUVFVIVJZ
      UXJUXGDUWIUVLUWIQUXIUWQEUVFUVLUWIUVPVKVMVLTVNTVOUWQEUVFVPVQVRUVSUWREUVFVS
      VTUWOUWSUWMEUVFUWOUVOUVFIZUWSUWMUWOUXOUWSWAZUVPUWIQZUWIUVPIZWEZUWMUWOUWSU
      XSUXOUWJUWRUXSUWGUVSUWJUWQUXSUWJUWQUXQUXRWBZUWQUXSWEUWJUVPGIZUXMUXTUVOVIU
      XNUYAUVPWCUWIWCUXTUXMUVPWDUWIWDUVPUWIWFWGWHUWQUXQUXRWIWJWKWLWMUXPUXQUWMUX
      RUXPUXOUVOUVHIZUXQUWMPUWOUXOUWSWPZUVFUVHUVOUVFWNIUVFUVHNCWOZUVFWNWQWRWSUY
      BUXQUWMUWLUXQDUVOUVHUVLUVOQUWKUVPUWIUVLUVOJRWTXAXBUTUXPUXRUWIUVRIZUWMUXPU
      VPUVRUWIUWOUXOUVSUWRXCXDUXPUXOUWGUYEUWMPUYCUWGUWJUXOUWSXEUXOUWGSZUYEUWLDU
      VQMZUWMUYFJUUPXFZUVQUUPNZUYEUYGXGUUPGJXIZUYHXHUUPGJXJWRZUYFUVOUVMIZUVOUUP
      IZUYIUVMYBUYFUYLPUVLXKUVMUVOUVFXLWRUVOUVLURUYMUVQUUPIUYIUVOXMUVQUVOLXNXOW
      JUTDUUPUVQUWIJXPWHUXOUYGUWMPZUWGUXOUVQUVHNUYNUVFUVOUYDXQUWLDUVQUVHXRTXSXT
      VTVAYAYCYDYEVCYFUWGUWNUWMXGZUWFUWGUXEUYOUXFUXEUYHUVHUUPIZUYOUYKUVFXMUYPUY
      HUVHUUPNUYOUVHYGDUUPUVHUWIJXPYHWHTVRYIYJYKXBYMUVJUVECAUVCUVFAQZUVGUURUVIU
      UTUVFAJRUYQUVHUUSJUVFALRUHUIYLUTYNYOUUQUUSUURFKZNZUUTUURNUUQUUSAUVLNZUVLY
      BZSZDYPZVEZUYRDAUUPYQUUQAUYRNZUYRYBZVUDUYRNZAUSUURXKVUEVUFSZUYRVUCIVUGVUB
      VUHDUYRUURFXNUVLUYRQUYTVUEVUAVUFUVLUYRAYRUVLUYRYSYTUUDUYRVUCUUAUUEUUBUUCU
      YSUUTJUYRHZUURUUSUYRJUUFDVUIUURUVLVUIIZUVAJKZUVLQZBUYRMZUVLUURIZJUUGZVUJV
      UMUYJVUOXHUUPGJUUHWRBUVLUYRJUUIUUOVULVUNBUYRUVAUYRIVUKUURIVULVUNUVAUURUPV
      UKUVLUURUUJUUKYNTUULUUMTUUN $.
      $( [23-Jun-2013] $)
  $}


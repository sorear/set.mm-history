$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
   B&eacute;zout's identity, Euler's theorem and the order of an integer mod N
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c od $.
  $c phi $.

  $( Extend class notation with the order function on the class of integers mod
     N. $)
  cod $a class od $.

  $( Extend class notation with the Euler phi function. $)
  cphi $a class phi $.

  ${
    $d m n x $.
    $( Define the order function on the class of integers mod N. $)
    df-od $a |- od = ( n e. NN |-> ( x e. { x e. ZZ | ( x gcd n ) = 1 } |->
                sup ( { m e. NN | n || ( ( x ^ m ) - 1 ) } , RR , `' < ) ) ) $.

    $( Define the Euler phi function, which counts the number of integers less
       than ` n ` and coprime to it. $)
    df-phi $a |- phi = ( n e. NN |-> ( # `
                         { x e. ( 1 ... n ) | ( x gcd n ) = 1 } ) ) $.
  $}

  ${
    $d n x N $.
    $( Value of the Euler ` phi ` function.  (Contributed by Mario Carneiro,
       23-Feb-2014.) $)
    phival $p |- ( N e. NN -> ( phi ` N ) = ( # `
                         { x e. ( 1 ... N ) | ( x gcd N ) = 1 } ) ) $=
      ( vn cv cgcd co c1 wceq cfz crab chash cfv opreq2 eqeq1d rabeqbidv fveq2d
      cn cphi df-phi fvex fvmpt ) CBADZCDZEFZGHZAGUCIFZJZKLUBBEFZGHZAGBIFZJZKLQ
      RUCBHZUGUKKULUEUIAUFUJUCBGIMULUDUHGUCBUBEMNOPACSUKKTUA $.
      $( [23-Feb-2014] $)
  $}

  ${
    $d x N $.
    $( Bounds and closure for the value of the Euler ` phi ` function.
       (Contributed by Mario Carneiro, 23-Feb-2014.) $)
    phicl $p |- ( N e. NN -> ( phi ` N ) e. ( 1 ... N ) ) $=
      ( vx cn wcel cfv cgcd co c1 wceq chash cz cle wbr cfn mp2an ax-mp syl cvv
      1z wb cphi cv cfz crab phival w3a cn0 wss fzfi ssrab2 ssfi hashcl a1i csn
      nn0zi hashsng cdom cuz eluzfz1 nnuz eleq2s gcdcom mpan gcd1 opreq1 eqeq1d
      nnz eqtrd elrab sylanbrc elisseti snss wi snex ssdomg snfi hashdom sylibr
      sylib syl5eqbrr oprex rabex mp2 mpbir nnnn0 hashfz1 syl5breq 3jca sylancr
      elfz1 mpbird eqeltrd ) ACDZAUAEBUBZAFGZHIZBHAUCGZUDZJEZWQBAUEWMWSWQDZWSKD
      ZHWSLMZWSALMZUFZWMXAXBXCXAWMWSWRNDZWSUGDWQNDZWRWQUHZXEHAUIZWPBWQUJZWQWRUK
      OZWRULPUOUMWMHHUNZJEZWSLHKDZXLHISHKUPPWMXKWRUQMZXLWSLMZWMXKWRUHZXNWMHWRDZ
      XPWMHWQDZHAFGZHIZXQXRAHURECHAUSUTVAWMAKDZXTAVGZYAXSAHFGZHXMYAXSYCISHAVBVC
      AVDVHQWPXTBHWQWNHIWOXSHWNHAFVEVFVIVJHWRHKSVKVLVSXKRDXPXNVMHVNXKWRRVOPQXKN
      DXEXOXNTHVPXJXKWRVQOVRVTWMWSWQJEZALWSYDLMZWRWQUQMZWRRDXGYFWPBWQHAUCWAWBXI
      WRWQRVOWCXEXFYEYFTXJXHWRWQVQOWDWMAUGDYDAIAWEAWFQWGWHWMXMYAWTXDTSYBWSHAWJW
      IWKWL $.
      $( [23-Feb-2014] $)

    $( Lemma for ~ phibnd . $)
    phibndlem $p |- ( N e. ( ZZ>= ` 2 ) ->
             { x e. ( 1 ... N ) | ( x gcd N ) = 1 } C_ ( 1 ... ( N - 1 ) ) ) $=
      ( c2 cuz cfv wcel cv cgcd co c1 wceq cfz wi wa wne cn wbr syl cr syl11anc
      cmin wral crab wss wn eluz2b2 simplbi wo wb fzm1 nnuz eleq2s biimpa sylan
      clt ord cabs cz eluzelz gcdid cc0 cle nnre cn0 nnnn0 absid eqtrd eluzelre
      nn0ge0 simprbi ltne mp3an1 eqnetrd opreq1 neeq1d syl5ibrcom syld necon4bd
      1re adantr ralrimiva rabss sylibr ) BCDEFZAGZBHIZJKZWEJBJUAILIZFZMZAJBLIZ
      UBWGAWKUCWHUDWDWJAWKWDWEWKFZNZWIWFJWMWIUEZWEBKZWFJOZWDBPFZWLWNWOMWDWQJBUO
      QZBUFZUGZWQWLNWIWOWQWLWIWOUHZWLXAUIBJDEPWEJBUJUKULUMUPUNWDWOWPMWLWDWPWOBB
      HIZJOWDXBBJWDXBBUQEZBWDBURFXBXCKCBUSBUTRWDWQXCBKZWTWQBSFZVABVBQZXDBVCWQBV
      DFXFBVEBVIRBVFTRVGWDXEWRBJOZCBVHWDWQWRWSVJJSFXEWRXGVSJBVKVLTVMWOWFXBJWEBB
      HVNVOVPVTVQVRWAWGAWKWHWBWC $.
      $( [23-Feb-2014] $)

    $( A slightly tighter bound on the value of the Euler ` phi ` function.
       (Contributed by Mario Carneiro, 23-Feb-2014.) $)
    phibnd $p |- ( N e. ( ZZ>= ` 2 ) -> ( phi ` N ) <_ ( N - 1 ) ) $=
      ( vx c2 cuz cfv wcel cv co c1 wceq cfz chash cle wbr cvv wss cfn fzfi syl
      mp2an cgcd crab cmin cphi cdom oprex rabex phibndlem ssdomg mpsyl wb ssfi
      ssrab2 hashdom sylibr clt eluz2b2 simplbi phival nnm1nn0 hashfz1 3brtr4d
      cn cn0 eqcomd ) ACDEFZBGAUAHIJZBIAKHZUBZLEZIAIUCHZKHZLEZAUDEZVKMVFVIVLUEN
      ZVJVMMNZVIOFVFVIVLPVOVGBVHIAKUFUGBAUHVIVLOUIUJVIQFZVLQFVPVOUKVHQFVIVHPVQI
      ARVGBVHUMVHVIULTIVKRVIVLUNTUOVFAVCFZVNVJJVFVRIAUPNAUQURZBAUSSVFVMVKVFVKVD
      FZVMVKJVFVRVTVSAUTSVKVASVEVB $.
      $( [23-Feb-2014] $)
  $}

  $( Value of the Euler ` phi ` function at 1.  (Contributed by Mario Carneiro,
     23-Feb-2014.) $)
  phi1 $p |- ( phi ` 1 ) = 1 $=
    ( c1 cphi cfv csn wcel wceq cfz co cn 1nn phicl ax-mp cz fzsn eleqtri elsni
    1z ) ABCZADZERAFRAAGHZSAIERTEJAKLAMETSFQANLORAPL $.
    $( [23-Feb-2014] $)

  ${
    $d x N $.
    $( Alternate definition of the Euler ` phi ` function.  (Contributed by
       Mario Carneiro, 23-Feb-2014.) $)
    dfphi2 $p |- ( N e. NN -> ( phi ` N ) = ( # `
                          { x e. ( 0 ... ( N - 1 ) ) | ( x gcd N ) = 1 } ) ) $=
      ( wcel c1 wceq c2 cfv cphi cgcd co cc0 cmin cfz crab chash 0z syl cin wss
      ax-mp cn cuz wo cv elnn1uz2 csn phi1 wral elsni opreq1 gcd1 syl6eq rabid2
      rgen mpbir fveq2i hashsng eqtr3i eqtr4i ax-1cn subidi opreq2d fzsn opreq2
      cz fveq2 eqeq1d rabeqbidv fveq2d 3eqtr4a wne eluz2b3 simplbi phival caddc
      cvv oprex fzssp1 cc eluzelre recnd npcan sylancl syl5sseq sseqin2 addid2i
      sylib opreq1i fzp1ss mp2an eqsstr3i mpbi syl6eqr inrab2 3eqtr4g phibndlem
      rabeq df-ss wi wa wn cabs eluzelz gcd0id cr cle wbr cn0 nnnn0 nn0ge0 3syl
      absid syl11anc eqtrd simprbi eqnetrd neeq1d syl5ibrcom necon2bd adantr wb
      nnm1nn0 nn0uz eleq2s biimpa ord syld eleq2i syl6ib ralrimiva rabss sylibr
      elfzp12 3eqtr3d jaoi sylbi ) BUACZBDEZBFUBGCZUCBHGZAUDZBIJZDEZAKBDLJZMJZN
      ZOGZEZBUEYRUUHYSYRDHGZUUADIJZDEZAKUFZNZOGZYTUUGUUIDUUNUGUULOGZUUNDUULUUMO
      UULUUMEUUKAUULUHUUKAUULUUAUULCUUAKEZUUKUUAKUIUUPUUJKDIJZDUUAKDIUJKVECZUUQ
      DEPKUKTULQUNUUKAUULUMUOUPUURUUODEPKVEUQTURUSBDHVFYRUUFUUMOYRUUCUUKAUUEUUL
      YRUUEKKMJZUULYRUUDKKMYRUUDDDLJKBDDLUJDUTVAULVBUURUUSUULEPKVCTULYRUUBUUJDB
      DUUAIVDVGVHVIVJYSYTUUCADBMJZNZOGZUUGYSYQYTUVBEYSYQBDVKZBVLZVMZABVNQYSUVAU
      UFOYSUVADUUDMJZRZUUFUVFRZUVAUUFYSUUCAUUTUVFRZNZUUCAUUEUVFRZNZUVGUVHYSUVIU
      VKEUVJUVLEYSUVIUVFUVKYSUVFUUTSUVIUVFEYSDUUDDVOJZMJZUVFUUTUUDVPCZUVFUVNSBD
      LVQZDUUDVPVRTYSUVMBDMYSBVSCDVSCUVMBEYSBFBVTZWAUTBDWBWCVBWDUVFUUTWEWGUVFUU
      ESUVKUVFEUVFKDVOJZUUDMJZUUEUVRDUUDMDUTWFWHZUURUVOUVSUUESPUVPKUUDVPWIWJWKU
      VFUUEWEWLWMUUCAUVIUVKWQQUUCAUUTUVFWNUUCAUUEUVFWNWOYSUVAUVFSUVGUVAEABWPUVA
      UVFWRWGYSUUFUVFSZUVHUUFEYSUUCUUAUVFCZWSZAUUEUHUWAYSUWCAUUEYSUUAUUECZWTZUU
      CUUAUVSCZUWBUWEUUCUUPXAZUWFYSUUCUWGWSUWDYSUUPUUBDYSUUBDVKUUPKBIJZDVKYSUWH
      BDYSUWHBXBGZBYSBVECUWHUWIEFBXCBXDQYSBXECKBXFXGZUWIBEUVQYSYQBXHCUWJUVEBXIB
      XJXKBXLXMXNYSYQUVCUVDXOXPUUPUUBUWHDUUAKBIUJXQXRXSXTUWEUUPUWFYSUWDUUPUWFUC
      ZYSYQUUDXHCUWDUWKYAZUVEBYBUWLUUDKUBGXHUUAKUUDYMYCYDXKYEYFYGUVSUVFUUAUVTYH
      YIYJUUCAUUEUVFYKYLUUFUVFWRWGYNVIXNYOYP $.
      $( [23-Feb-2014] $)
  $}

  $( Unequal prime numbers are relatively prime.  (Contributed by Mario
     Carneiro, 23-Feb-2014.) $)
  prmrp $p |- ( ( P e. Prime /\ Q e. Prime ) ->
                ( ( P gcd Q ) = 1 <-> P =/= Q ) ) $=
    ( cprime wcel wa cdivides wbr wn cgcd co c1 wceq cz wb prmz coprm sylan2 c2
    wne cuz cfv prmuz2 dvdsprm sylan necon3bbid bitr3d ) ACDZBCDZEZABFGZHZABIJK
    LZABSUHUGBMDUKULNBOABPQUIUJABUGARTUADUHUJABLNAUBBAUCUDUEUF $.
    $( [23-Feb-2014] $)

  $( ` A ` is equal to its gcd with ` B ` if and only if ` A ` divides ` B ` .
     (Contributed by Mario Carneiro, 23-Feb-2014.) $)
  gcdeq $p |- ( ( A e. NN /\ B e. NN ) -> ( ( A gcd B ) = A <-> A || B ) ) $=
    ( cn wcel wa cgcd cdivides wbr cz nnz syl2an cle adantr syl cc0 wi syl11anc
    wceq simpl cr co simprd breq1 syl5ibcom iddvds wn adantl wne nnne0 necon3ai
    gcddvds dvdslegcd syl31anc mpand simpld cn0 gcdcl nn0z dvdsle mpd jctild wb
    nn0re nnre letri3 sylibrd impbid ) ACDZBCDZEZABFUAZARZABGHZVJVKBGHZVLVMVJVK
    AGHZVNVHAIDZBIDZVOVNEVIAJZBJZABUKKZUBVKABGUCUDVJVMVKALHZAVKLHZEZVLVJVMWBWAV
    JAAGHZVMWBVJVPWDVHVPVIVRMZAUENVJVPVPVQAORZBORZEZUFZWDVMEWBPWEWEVIVQVHVSUGVH
    WIVIVHAOUHWIAUIWHAOWFWGSUJNMAABULUMUNVJVOWAVJVOVNVTUOVJVKIDZVHVOWAPVJVKUPDZ
    WJVHVPVQWKVIVRVSABUQKZVKURNVHVISVKAUSQUTVAVJVKTDZATDZVLWCVBVJWKWMWLVKVCNVHW
    NVIAVDMVKAVEQVFVG $.
    $( [23-Feb-2014] $)

  ${
    $d p A $.  $d p B $.  $d p N $.
    $( If two numbers ` A ` and ` B ` are relatively prime, then they are still
       relatively prime if raised to a power.  (Contributed by Mario Carneiro,
       24-Feb-2014.) $)
    rpexp $p |- ( ( A e. ZZ /\ B e. ZZ /\ N e. NN ) ->
                  ( ( ( A ^ N ) gcd B ) = 1 <-> ( A gcd B ) = 1 ) ) $=
      ( vp cz wcel cc0 wceq wa co c1 wb wi wn cdivides wbr syl adantr syl111anc
      cgcd w3a cexp 0exp opreq1d eqeq1d opreq1 opreq12 sylan bibi12d syl5ibrcom
      cn 3ad2ant3 c2 cuz cfv cv cprime wrex exprmfct simpl1 simpl3 nnnn0 zexpcl
      wne cn0 syl11anc simpl2 gcddvds simpld prmz adantl simpr cc expeq0 anbi1d
      zcn mtbird gcdn0cl dvdstr mpan2d simpll1 prmdvdsexp sylibd simprd dvdsgcd
      syl21anc nnz jcad nprmdvds1 breq2 notbid necon2ad 3syld rexlimdva eluz2b3
      3adantl3 baib sylibrd syl5 iddvdsexp mp2and 3bitr3d necon4bid ex pm2.61d
      impbid ) AEFZBEFZCUKFZUAZAGHZBGHZIZACUBJZBTJZKHZABTJZKHZLZXIXGXMXSMXHXIXS
      XMGCUBJZGTJZKHZGGTJZKHZLXIYAYCKXIXTGGTCUCUDUEXMXPYBXRYDXMXOYAKXKXNXTHXLXO
      YAHAGCUBUFXNXTBGTUGUHUEXMXQYCKAGBGTUGUEUIUJULXJXMNZXSXJYEIZXOKXQKYFXOUMUN
      UOZFZXQYGFZXOKVDZXQKVDZYFYHYIYHDUPZXOOPZDUQURZYFYIXODUSYFYNYKYIYFYMYKDUQY
      FYLUQFZIZYMYLAOPZYLBOPZIZYLXQOPZYKYPYMYQYRYPYMYLXNOPZYQYPYMXOXNOPZUUAYPUU
      BXOBOPZYPXNEFZXHUUBUUCIYFUUDYOYFXGCVEFZUUDXGXHXIYEUTZYFXIUUEXGXHXIYEVAZCV
      BQACVCVFZRZYFXHYOXGXHXIYEVGZRZXNBVHVFZVIYPYLEFZXOEFZUUDYMUUBIUUAMYOUUMYFY
      LVJVKZYFUUNYOYFXOUKFZUUNYFUUDXHXNGHZXLIZNUUPUUHUUJYFUURXMXJYEVLYFUUQXKXLY
      FAVMFZXIUUQXKLYFXGUUSUUFAVPQUUGACVNVFVOVQXNBVRWFZXOWGQRZUUIYLXOXNVSSVTYPY
      OXGXIUUAYQLYFYOVLXGXHXIYEYOWAZYFXIYOUUGRZAYLCWBSWCYPYMUUCYRYPUUBUUCUULWDY
      PUUMUUNXHYMUUCIYRMUUOUVAUUKYLXOBVSSVTWHYPUUMXGXHYSYTMUUOUVBUUKYLABWESYOYT
      YKMYFYOYTXQKYOYTNXRYLKOPZNZYLWIZXRYTUVDXQKYLOWJWKUJWLVKWMWNYFXQUKFZYIYKLX
      GXHYEUVGXIABVRWPZYIUVGYKXQWOWQQZWRWSYIYTDUQURZYFYHXQDUSYFUVJYJYHYFYTYJDUQ
      YPYTUUAYRIZYMYJYPYTUUAYRYPYTXQXNOPZUUAYPXQAOPZAXNOPZUVLYPUVMXQBOPZYPXGXHU
      VMUVOIUVBUUKABVHVFZVIYPXGXIUVNUVBUVCACWTVFYPXQEFZXGUUDUVMUVNIUVLMYFUVQYOY
      FUVGUVQUVHXQWGQRZYFXGYOUUFRUUIXQAXNVSSXAYPUUMUVQUUDYTUVLIUUAMUUOUVRUUIYLX
      QXNVSSVTYPYTUVOYRYPUVMUVOUVPWDYPUUMUVQXHYTUVOIYRMUUOUVRUUKYLXQBVSSVTWHYPU
      UMUUDXHUVKYMMUUOUUIUUKYLXNBWESYOYMYJMYFYOYMXOKYOYMNXPUVEUVFXPYMUVDXOKYLOW
      JWKUJWLVKWMWNYFUUPYHYJLUUTYHUUPYJXOWOWQQZWRWSXFUVSUVIXBXCXDXE $.
      $( [24-Feb-2014] $)
  $}

  ${
    $d p K $.  $d p M $.  $d p N $.
    $( If ` K ` is relatively prime to ` M ` and to ` N ` , it is also
       relatively prime to their product.  (Contributed by Mario Carneiro,
       24-Feb-2014.) $)
    rpmul $p |- ( ( K e. ZZ /\ M e. ZZ /\ N e. ZZ ) ->
                  ( ( ( K gcd M ) = 1 /\ ( K gcd N ) = 1 ) ->
                    ( K gcd ( M x. N ) ) = 1 ) ) $=
      ( vp cz wcel w3a cgcd co c1 wa cdivides wbr cprime wn wo syl11anc syl cc0
      wceq cmul cuz cfv wrex nprmdvds1 adantl prmz ad2antrl cn0 simpll1 simpll2
      c2 cv simpll3 zmulcl gcdcl nn0z simprr gcddvds simprd dvdstr imp syl32anc
      wb simprl euclemma syl111anc mpbid simpld wi dvdsgcd mpand simplrl breq2d
      sylibd simplrr jaod mpd expr mtod nrexdv exprmfct cn simpl1 simpl2 simpl3
      nsyl wne ax-1ne0 gcd0val neeqtrri necomi df-ne mpbi cc mul0or anbi2d andi
      zcn syl6bb opreq12 eqeq1d syl5ibcom sylbid mtoi gcdn0cl syl21anc elnn1uz2
      sylib ord mt3d ex ) AEFZBEFZCEFZGZABHIZJTZACHIZJTZKZABCUAIZHIZJTZXPYAKZYD
      YCULUBUCFZYEDUMZYCLMZDNUDYFYEYHDNYEYGNFZKYHYGJLMZYIYJOYEYGUEUFYEYIYHYJYEY
      IYHKZKZYGBLMZYGCLMZPZYJYLYGYBLMZYOYLYGEFZYCEFZYBEFZYHYCYBLMZYPYIYQYEYHYGU
      GUHZYLYCUIFZYRYLXMYSUUBXMXNXOYAYKUJZYLXNXOYSXMXNXOYAYKUKZXMXNXOYAYKUNZBCU
      OZQZAYBUPQYCUQRZUUGYEYIYHURZYLYCALMZYTYLXMYSUUJYTKUUCUUGAYBUSQZUTYQYRYSGY
      HYTKYPYGYCYBVAVBVCYLYIXNXOYPYOVDYEYIYHVEUUDUUEYGBCVFVGVHYLYMYJYNYLYMYGXQL
      MZYJYLYGALMZYMUULYLYQYRXMYHUUJUUMUUAUUHUUCUUIYLUUJYTUUKVIYQYRXMGYHUUJKUUM
      YGYCAVAVBVCZYLYQXMXNUUMYMKUULVJUUAUUCUUDYGABVKVGVLYLXQJYGLXPXRXTYKVMVNVOY
      LYNYGXSLMZYJYLUUMYNUUOUUNYLYQXMXOUUMYNKUUOVJUUAUUCUUEYGACVKVGVLYLXSJYGLXP
      XRXTYKVPVNVOVQVRVSVTWAYCDWBWGYEYDYFYEYCWCFZYDYFPYEXMYSASTZYBSTZKZOUUPXMXN
      XOYAWDYEXNXOYSXMXNXOYAWEZXMXNXOYAWFZUUFQYEUUSSSHIZJTZUVBJWHUVCOJUVBJSUVBW
      IWJWKWLUVBJWMWNYEUUSUUQBSTZKZUUQCSTZKZPZUVCYEUUSUUQUVDUVFPZKUVHYEUURUVIUU
      QYEBWOFZCWOFZUURUVIVDYEXNUVJUUTBWSRYEXOUVKUVACWSRBCWPQWQUUQUVDUVFWRWTYEUV
      EUVCUVGYEXRUVEUVCXPXRXTVEUVEXQUVBJASBSHXAXBXCYEXTUVGUVCXPXRXTURUVGXSUVBJA
      SCSHXAXBXCVQXDXEAYBXFXGYCXHXIXJXKXL $.
      $( [24-Feb-2014] $)
  $}

  ${
    $d x y z K $.  $d x y z P $.
    $( Value of the Euler ` phi ` function at a prime power.  (Contributed by
       Mario Carneiro, 24-Feb-2014.) $)
    phiprmpw $p |- ( ( P e. Prime /\ K e. NN ) -> ( phi ` ( P ^ K ) ) =
                     ( ( P ^ ( K - 1 ) ) x. ( P - 1 ) ) ) $=
      ( vx wcel cn wa co cfv c1 wceq chash syl cc adantr syl11anc wbr cz wb cle
      cmul vz vy cprime cexp cphi cv cgcd cfz crab cmin cn0 prmnn nnnn0 nnexpcl
      syl2an phival nnm1nn0 nncn ax-1cn subdi mp3an3 opreq2d caddc cdivides cun
      mulid1 cin c0 inrab wn wral elfzelz prmz rpexp syl3an1 3expa an32s zexpcl
      wi simpr gcdcom eqeq1d coprm adantlr 3bitr4d sylan2 imnan sylib ralrimiva
      biimpd rabeq0 sylibr syl5eq cfn wss fzfi ssrab2 ssfi mp2an hashun mp3an12
      hashfz1 3syl eqcomd cdiv cvv oprex a1i a1i12 elfznn adantl 1z elfz mp3an2
      nnz nnge1 elfzle2 cc0 clt nnre jca lemul1 syl111anc mpbid mpbir2and breq2
      cr elrab sylanbrc eleq1 opreq1 eqeq2d anbi12d syl5ibrcom expimpd ad2antrl
      crp nnrp mpbird eqtrd wo biimprd con1d orrd rabid2 syl6reqr fveq2d expm1t
      unrab sylan 3eqtr3d cen nnmulcl nngt0 breqtrrd dvdsmul2 wne nnne0 divcan4
      simprr ad2antrr divides2 rpdivcl rpgt0 elnnz divcan1 3brtr3d sylan2b en2d
      impbid hashen eqtr3d hashcl nn0cni addcom sylancr 3eqtr3rd subadd 3eqtrrd
      ax-mp mulcl ) AUCDZBEDZFZABUDGZUEHZCUFZUWEUGGZIJZCIUWEUHGZUIZKHZABIUJGZUD
      GZAIUJGTGZUWDUWEEDZUWFUWLJUWBAEDZBUKDZUWPUWCAULZBUMZABUNUOZCUWEUPLUWDUWOU
      WNATGZUWNITGZUJGZUXBUWNUJGZUWLUWDUWNMDZAMDZUWOUXDJZUWDUWNEDZUXFUWBUWQUWMU
      KDUXIUWCUWSBUQAUWMUNUOZUWNURLZUWBUXGUWCUWBUWQUXGUWSAURLZNZUXFUXGIMDUXHUSU
      WNAIUTVAOUWDUXCUWNUXBUJUWDUXFUXCUWNJUXKUWNVFLVBUWDUXEUWLJZUWNUWLVCGZUXBJZ
      UWDUWKAUWGVDPZCUWJUIZVEZKHZUWLUXRKHZVCGZUXBUXOUWDUWKUXRVGZVHJZUXTUYBJZUWD
      UYCUWIUXQFZCUWJUIZVHUWIUXQCUWJVIUWDUYFVJZCUWJVKUYGVHJUWDUYHCUWJUWDUWGUWJD
      ZFZUWIUXQVJZVSUYHUYJUWIUYKUYIUWDUWGQDZUWIUYKRUWGIUWEVLUWDUYLFZUWEUWGUGGZI
      JZAUWGUGGIJZUWIUYKUWBUYLUWCUYOUYPRZUWBUYLUWCUYQUWBAQDZUYLUWCUYQAVMZAUWGBV
      NVOVPVQUYMUWHUYNIUYMUYLUWEQDZUWHUYNJUWDUYLVTUWDUYTUYLUWBUYRUWRUYTUWCUYSUW
      TABVRUOZNUWGUWEWAOWBUWBUYLUYKUYPRUWCAUWGWCWDWEWFZWJUWIUXQWGWHWIUYFCUWJWKW
      LWMUWKWNDZUXRWNDZUYDUYEUWJWNDZUWKUWJWOVUCIUWEWPZUWICUWJWQUWJUWKWRWSZVUEUX
      RUWJWOVUDVUFUXQCUWJWQUWJUXRWRWSZUWKUXRWTXALUWDUWJKHZUWEUXTUXBUWDUWPUWEUKD
      VUIUWEJUXAUWEUMUWEXBXCUWDUXTVUIUWDUXSUWJKUWDUWJUWIUXQUUAZCUWJUIZUXSUWDVUJ
      CUWJVKUWJVUKJUWDVUJCUWJUYJUWIUXQUYJUXQUWIUYJUWIUYKVUBUUBUUCUUDWIVUJCUWJUU
      EWLUWIUXQCUWJUUIUUFUUGXDUWBUXGUWCUWEUXBJZUXLABUUHUUJZUUKUWDUYBUWLUWNVCGZU
      XOUWDUYAUWNUWLVCUWDIUWNUHGZKHZUYAUWNUWDVUOUXRUULPZVUPUYAJZUWDUAUBVUOUXRUA
      UFZATGZUBUFZAXEGZVUOXFDUWDIUWNUHXGXHUWDVUSVUODZVUTXFDVUSATXGXIUWDVVAUXRDZ
      VVBXFDVVAAXEXGXIUWDVVCVVAVUTJZFZVVDVUSVVBJZFZUWDVVCVVEVVHUWDVVCFZVVHVVEVU
      TUXRDZVUSVUTAXEGZJZFVVIVVJVVLVVIVUTUWJDZAVUTVDPZVVJVVIVVMIVUTSPZVUTUWESPZ
      VVIVUTQDZUYTVVMVVOVVPFRZVVIVUTEDZVVQVVIVUSEDZUWQVVSVVCVVTUWDVUSUWNXJXKZUW
      DUWQVVCUWBUWQUWCUWSNZNZVUSAUUMOZVUTXOLUWDUYTVVCVUANVVQIQDZUYTVVRXLVUTIUWE
      XMXNOVVIVVSVVOVWDVUTXPLVVIVUTUXBUWESVVIVUSUWNSPZVUTUXBSPZVVCVWFUWDVUSIUWN
      XQXKVVIVUSYGDZUWNYGDZAYGDZXRAXSPZFZVWFVWGRVVIVVTVWHVWAVUSXTLUWDVWIVVCUWDU
      XIVWIUXJUWNXTLZNUWDVWLVVCUWDUWQVWLVWBUWQVWJVWKAXTAUUNYALZNVUSUWNAYBYCYDUW
      DVULVVCVUMNUUOYEVVIVUSQDZUYRVVNVVIVVTVWOVWAVUSXOLVVIUWQUYRVWCAXOLVUSAUUPO
      UXQVVNCVUTUWJUWGVUTAVDYFYHYIVVIVVKVUSVVIVUSMDZUXGAXRUUQZVVKVUSJVVIVVTVWPV
      WAVUSURLUWDUXGVVCUXMNUWDVWQVVCUWDUWQVWQVWBAUURLZNVUSAUUSYCXDYAVVEVVDVVJVV
      GVVLVVAVUTUXRYJVVEVVBVVKVUSVVAVUTAXEYKYLYMYNYOUWDVVDVVGVVFVVDUWDVVAUWJDZA
      VVAVDPZFZVVGVVFVSUXQVWTCVVAUWJUWGVVAAVDYFYHUWDVXAFZVVFVVGVVBVUODZVVAVVBAT
      GZJZFVXBVXCVXEVXBVXCIVVBSPZVVBUWNSPZVXBVVBQDZUWNQDZVXCVXFVXGFRZVXBVWTVXHU
      WDVWSVWTUUTVXBUYRVWQVVAQDZVWTVXHRUWBUYRUWCVXAUYSUVAUWDVWQVXAVWRNZVXBVVAED
      ZVXKVWSVXMUWDVWTVVAUWEXJYPZVVAXOLAVVAUVBYCYDZUWDVXIVXAUWDUXIVXIUXJUWNXOLN
      VXHVWEVXIVXJXLVVBIUWNXMXNOVXBVVBEDZVXFVXBVXHXRVVBXSPZVXPVXOVXBVVBYQDZVXQV
      XBVXMUWQVXRVXNUWDUWQVXAVWBNVXMVVAYQDAYQDVXRUWQVVAYRAYRVVAAUVCUOOVVBUVDLVV
      BUVEYIZVVBXPLVXBVXGVXDUXBSPZVXBVVAUWEVXDUXBSVWSVVAUWESPUWDVWTVVAIUWEXQYPV
      XBVXDVVAVXBVVAMDZUXGVWQVXDVVAJVXBVXMVYAVXNVVAURLUWDUXGVXAUXMNVXLVVAAUVFYC
      XDZUWDVULVXAVUMNUVGVXBVVBYGDZVWIVWLVXGVXTRVXBVXPVYCVXSVVBXTLUWDVWIVXAVWMN
      UWDVWLVXAVWNNVVBUWNAYBYCYSYEVYBYAVVGVVCVXCVVEVXEVUSVVBVUOYJVVGVUTVXDVVAVU
      SVVBATYKYLYMYNUVHYOUVJUVIVUOWNDVUDVURVUQRIUWNWPVUHVUOUXRUVKWSWLUWDUWNUKDZ
      VUPUWNJUWDUXIVYDUXJUWNUMLUWNXBLUVLVBUWDUWLMDZUXFVUNUXOJUWLVUCUWLUKDVUGUWK
      UVMUVTUVNZUXKUWLUWNUVOUVPYTUVQUWDUXBMDZUXFVYEUXNUXPRUWDUXFUXGVYGUXKUXMUWN
      AUWAOUXKVYEUWDVYFXHUXBUWNUWLUVRYCYSUVSYT $.
      $( [24-Feb-2014] $)
  $}

  $( Value of the Euler ` phi ` function at a prime. $)
  phiprm $p |- ( P e. Prime -> ( phi ` P ) = ( P - 1 ) ) $=
    ( cprime wcel c1 cexp co cphi cfv cmin cmul cn 1nn phiprmpw mpan2 cc cz syl
    wceq cc0 ax-1cn prmz exp1 fveq2d subidi opreq2i exp0 syl5eq opreq1d sylancl
    zcn subcl mulid2 eqtrd 3eqtr3d ) ABCZADEFZGHZADDIFZEFZADIFZJFZAGHUTUODKCUQV
    ARLADMNUOUPAGUOAOCZUPARUOAPCVBAUAAUJQZAUBQUCUOVADUTJFZUTUOUSDUTJUOUSASEFZDU
    RSAEDTUDUEUOVBVEDRVCAUFQUGUHUOUTOCZVDUTRUOVBDOCVFVCTADUKUIUTULQUMUN $.
    $( [28-Feb-2014] $)

  $( Special case: 0 modulo a positive real number is 0.  (Contributed by Mario
     Carneiro, 22-Feb-2014.) $)
  0mod $p |- ( N e. RR+ -> ( 0 mod N ) = 0 ) $=
    ( crp wcel cc0 cr wa cle wbr clt cmo co wceq 0re rpgt0 leidi jctil syl11anc
    jctl modid ) ABCZDECZTFDDGHZDAIHZFDAJKDLTUAMRTUCUBANDMOPDASQ $.
    $( [22-Feb-2014] $)

  $( Special case: 1 modulo a real number greater than 1 is 1.  (Contributed by
     Mario Carneiro, 18-Feb-2014.) $)
  1mod $p |- ( ( N e. RR /\ 1 < N ) -> ( 1 mod N ) = 1 ) $=
    ( cr wcel c1 clt wbr wa crp cc0 cle cmo co wceq lt01 0re lttr mp3an12 jctil
    wi 1re mpani imdistani elrp sylibr simpr ltleii modid syl11anc ) ABCZDAEFZG
    ZDBCZAHCZGIDJFZUJGDAKLDMUKUMULUKUIIAEFZGUMUIUJUOUIIDEFZUJUONIBCULUIUPUJGUOS
    OTIDAPQUAUBAUCUDTRUKUJUNUIUJUEIDOTNUFRDAUGUH $.
    $( [18-Feb-2014] $)

  $( Two ways to say ` A == B ( mod N ) ` . $)
  moddvds $p |- ( ( N e. NN /\ A e. ZZ /\ B e. ZZ ) ->
                  ( ( A mod N ) = ( B mod N ) <-> N || ( A - B ) ) ) $=
    ( wcel cz cmo co wceq wb wa cc0 caddc cr wi zre syl modadd1 3expia syl11anc
    opreq1d cn cmin cdivides wbr cneg crp ad2antrl ad2antll renegcl nnrp adantr
    syl22anc cc recnd negsub negid eqeq12d sylibd resubcl 0re a1i addid2 impbid
    npcan 0mod eqeq2d bitrd zsubcl divides3 sylan2 bitr4d 3impb ) CUADZAEDZBEDZ
    ACFGZBCFGZHZCABUBGZUCUDZIVMVNVOJZJZVRVSCFGZKHZVTWBVRWCKCFGZHZWDWBVRWFWBVRAB
    UEZLGZCFGZBWGLGZCFGZHZWFWBAMDZBMDZWGMDZCUFDZVRWLNVNWMVMVOAOUGZVOWNVMVNBOUHZ
    WBWNWOWRBUIPVMWPWACUJUKZWMWNJWOWPJVRWLABWGCQRULWBWIWCWKWEWBWHVSCFWBAUMDZBUM
    DZWHVSHWBAWQUNZWBBWRUNZABUOSTWBWJKCFWBXAWJKHXCBUPPTUQURWBWFVSBLGZCFGZKBLGZC
    FGZHZVRWBVSMDZKMDZWNWPWFXHNWBWMWNXIWQWRABUSSXJWBUTVAWRWSXIXJJWNWPJWFXHVSKBC
    QRULWBXEVPXGVQWBXDACFWBWTXAXDAHXBXCABVDSTWBXFBCFWBXAXFBHXCBVBPTUQURVCWBWEKW
    CWBWPWEKHWSCVEPVFVGWAVMVSEDVTWDIABVHCVSVIVJVKVL $.
    $( [18-Feb-2014] $)

  ${
    $d s t u v w x y z A $.  $d s t u v w x y z B $.
    ${
      $d s t u v w x y z G $.  $d s t u v w x y M $.  $d s t u v w x y ph $.
      bezout.1 $e |- M = { z e. NN | E. x e. ZZ E. y e. ZZ
                           z = ( ( A x. x ) + ( B x. y ) ) } $.
      bezout.2 $e |- G = sup ( M , RR , `' < ) $.
      bezout.3 $e |- ( ph -> A e. ZZ ) $.
      bezout.4 $e |- ( ph -> B e. ZZ ) $.
      bezout.5 $e |- ( ph -> -. ( A = 0 /\ B = 0 ) ) $.
      $( Lemma for ~ bezout . $)
      bezoutlem $p |- ( ph -> ( A gcd B ) e. M ) $=
        ( co wceq wcel cz syl cmul wrex vu vv vs vt vw cgcd cle wbr cr wa gcdcl
        wb cn0 syl11anc nn0re cn cv caddc clt ccnv c1 cfv wne cc0 wo wn cabs wi
        nnabscl ex fveq2 opreq1 eqeq12d rexbidv 1z eqcomd opreq2 eqeq2d rcla4ev
        cneg sylancr eqeq1 syl5ibrcom ax-mp zcn jaod mpd vtoclga adantr opreq2d
        cc mul01 mulcl syl2an eqtrd 0z mpan syl6bir 2rexbidv elrab2 simplbi2com
        syld ne0i syl6 cbvrexv syl6bb opreq1d sylib nnre cdivides divides mpbid
        simpld simprd simprrl simprll zmulcl simprrr simprlr syl111anc opreq12d
        adddir mul32 opreq12 breq2 expr rexlimdvv mp2and nnz cmin zsubcl mulass
        ad2antrr subdi eqeq1d rcla4cv dvdsabsb sylibrd imp pm2.61ne csup cuz c0
        wss crab ssrab2 eqsstri sseqtri neorian sylibr zre absor ax-1rid znegcl
        mulm1 mulcom eqtr3d addid1 reximdva addid2 rexbidva infmssuzcl syl5eqel
        nnuz recn syl5bb letri3 gcddvds reeanv zaddcl dvdsmul2 breq2d syl5ibcom
        nn0z breqtrd imbi2d com23 syl5bir dvdsle wral cmo crp simpr nnrp zmodcl
        modlt ltnle elnn00nn ord cdiv cfl nndivre flcl addsub4 syl22anc 3eqtr4d
        rcla42ev sylan2 exp3acom23 modval infmssuzle syl5eqbr mt3d mpbird dvds0
        divides3 ralrimiva dvdslegcd syl31anc mpbir2and eqeltrd ) AEFUFNZGHAUXL
        GOZUXLGUGUHZGUXLUGUHZAUXLUIPZGUIPZUXMUXNUXOUJULAUXLUMPZUXPAEQPZFQPZUXRK
        LEFUKUNZUXLUORAGUPPZUXQAUYBGEUAUQZSNZFUBUQZSNZURNZOZUBQTUAQTZAGHPUYBUYI
        UJAGHUIUSUTUUAZHJAHVAUUBVBZUUDZHUUCVCZUYJHPHUPUYKHDUQZEBUQZSNZFCUQZSNZU
        RNZOZCQTZBQTZDUPUUEUPIVUBDUPUUFUUGUVDUUHZAEVDVCZFVDVCZVEZUYMAEVDOFVDOUJ
        VFZVUFMEVDFVDUUIUUJAVUDUYMVUEAVUDEVGVBZHPZUYMAVUDVUHUPPZVUIAUXSVUDVUJVH
        KUXSVUDVUJEVIVJRAVUHUYSOZCQTZBQTZVUJVUIVHAVUHUYPOZBQTZVUMAUXSVUOKUYNVGV
        BZUYNUYOSNZOZBQTZVUODEQUYNEOZVURVUNBQVUTVUPVUHVUQUYPUYNEVGVKUYNEUYOSVLV
        MVNUYNQPUYNUIPZVUSUYNUUKVVAVUPUYNOZVUPUYNVTZOZVEVUSUYNUULVVAVVBVUSVVDVV
        AVUSVVBUYNVUQOZBQTZVVAVAQPZUYNUYNVASNZOZVVFVOVVAVVHUYNUYNUUMVPVVEVVIBVA
        QUYOVAOVUQVVHUYNUYOVAUYNSVQVRVSWAVVBVURVVEBQVUPUYNVUQWBVNWCVVAVUSVVDVVC
        VUQOZBQTZVVAVAVTZQPZVVCUYNVVLSNZOZVVKVVGVVMVOVAUUNWDZVVAVVLUYNSNZVVCVVN
        VVAUYNWKPZVVQVVCOUYNUVEZUYNUUORVVAVVLWKPZVVRVVQVVNOVVMVVTVVPVVLWEWDVVSV
        VLUYNUUPWAUUQVVJVVOBVVLQUYOVVLOVUQVVNVVCUYOVVLUYNSVQVRVSWAVVDVURVVJBQVU
        PVVCVUQWBVNWCWFWGRZWHRAVUNVULBQAUYOQPZUJZVUNVUHUYPFVDSNZURNZOZVULVWCVWE
        UYPVUHVWCVWEUYPVDURNZUYPVWCVWDVDUYPURVWCFWKPZVWDVDOAVWHVWBAUXTVWHLFWERZ
        WIFWLRWJVWCUYPWKPZVWGUYPOAEWKPZUYOWKPVWJVWBAUXSVWKKEWERZUYOWEEUYOWMWNUY
        PUURRWOVRVDQPZVWFVULWPVUKVWFCVDQUYQVDOZUYSVWEVUHVWNUYRVWDUYPURUYQVDFSVQ
        WJVRVSWQWRUUSWGVUIVUJVUMVUBVUMDVUHUPHUYNVUHOUYTVUKBCQQUYNVUHUYSWBWSIWTX
        ARXBZHVUHXCXDAVUEFVGVBZHPZUYMAVUEVWPUPPZVWQAUXTVUEVWRVHLUXTVUEVWRFVIVJR
        AVWPUYSOZCQTZBQTZVWRVWQVHAVWPUYROZCQTZVXAAUXTVXCLVUSVXCDFQUYNFOZVUSVWPF
        UYOSNZOZBQTVXCVXDVURVXFBQVXDVUPVWPVUQVXEUYNFVGVKUYNFUYOSVLVMVNVXFVXBBCQ
        UYOUYQOVXEUYRVWPUYOUYQFSVQVRXEXFVWAWHRAVXCVWPEVDSNZUYRURNZOZCQTZVXAAVXI
        VXBCQAUYQQPZUJZVXHUYRVWPVXLVXHVDUYRURNZUYRVXLVXGVDUYRURVXLVWKVXGVDOAVWK
        VXKVWLWIEWLRXGVXLUYRWKPZVXMUYROAVWHUYQWKPVXNVXKVWIUYQWEFUYQWMWNUYRUUTRW
        OVRUVAVWMVXJVXAWPVWTVXJBVDQUYOVDOZVWSVXICQVXOUYSVXHVWPVXOUYPVXGUYRURUYO
        VDESVQXGVRVNVSWQWRWGVWQVWRVXAVUBVXADVWPUPHUYNVWPOUYTVWSBCQQUYNVWPUYSWBW
        SIWTXARXBZHVWPXCXDWFWGHVAUVBWAUVCZVUBUYIDGUPHVUBUYNUYGOZUBQTZUAQTUYNGOZ
        UYIVUAVXSBUAQUYOUYCOZVUAUYNUYDUYRURNZOZCQTVXSVYAUYTVYCCQVYAUYSVYBUYNVYA
        UYPUYDUYRURUYOUYCESVQXGVRVNVYCVXRCUBQUYQUYEOZVYBUYGUYNVYDUYRUYFUYDURUYQ
        UYEFSVQWJVRXEXFXEVXTVXRUYHUAUBQQUYNGUYGWBWSUVFIWTXHZXMZGXIRZUXLGUVGUNAU
        XLGXJUHZUXNAUCUQZUXLSNZEOZUCQTZUDUQZUXLSNZFOZUDQTZVYHAUXLEXJUHZVYLAVYQU
        XLFXJUHZAUXSUXTVYQVYRUJKLEFUVHUNZXMAUXLQPZUXSVYQVYLULAUXRVYTUYAUXLUVNRZ
        KUCUXLEXKUNXLAVYRVYPAVYQVYRVYSXNAVYTUXTVYRVYPULWUALUDUXLFXKUNXLVYLVYPUJ
        VYKVYOUJZUDQTUCQTAVYHVYKVYOUCUDQQUVIAWUBVYHUCUDQQAUYIVYIQPZVYMQPZUJZWUB
        VYHVHZVHZAUYBUYIVYEXNZAUYHWUGUAUBQQAUYCQPZUYEQPZUJZUYHWUGVHAWUKUJWUEUYH
        WUFAWUKWUEUYHWUFVHAWUKWUEUJZUJZWUFUYHWUBUXLUYGXJUHZVHWUMUXLVYJUYCSNZVYN
        UYESNZURNZXJUHWUBWUNWUMUXLVYIUYCSNZVYMUYESNZURNZUXLSNZWUQXJWUMWUTQPZVYT
        UXLWVAXJUHWUMWURQPZWUSQPZWVBWUMWUCWUIWVCAWUKWUCWUDXOZAWUIWUJWUEXPZVYIUY
        CXQUNZWUMWUDWUJWVDAWUKWUCWUDXRZAWUIWUJWUEXSZVYMUYEXQUNZWURWUSUVJUNAVYTW
        ULWUAWIZWUTUXLUVKUNWUMWVAWURUXLSNZWUSUXLSNZURNZWUQWUMWURWKPZWUSWKPZUXLW
        KPZWVAWVNOWUMWVCWVOWVGWURWERWUMWVDWVPWVJWUSWERWUMVYTWVQWVKUXLWERZWURWUS
        UXLYBXTWUMWVLWUOWVMWUPURWUMVYIWKPZUYCWKPZWVQWVLWUOOWUMWUCWVSWVEVYIWEZRW
        UMWUIWVTWVFUYCWEZRWVRVYIUYCUXLYCXTWUMVYMWKPZUYEWKPZWVQWVMWUPOWUMWUDWWCW
        VHVYMWEZRWUMWUJWWDWVIUYEWEZRWVRVYMUYEUXLYCXTYAWOUVOWUBWUQUYGUXLXJVYKWUO
        UYDOWUPUYFOWUQUYGOVYOVYJEUYCSVLVYNFUYESVLWUOUYDWUPUYFURYDWNUVLUVMUYHVYH
        WUNWUBGUYGUXLXJYEUVPWCYFUVQVJYGWGYGUVRYHAVYTUYBVYHUXNVHWUAVYFUXLGUVSUNW
        GAGEXJUHZGFXJUHZUXOAWWGGVDXJUHZEVDEVDGXJYEAVUDWWGAVUDGVUHXJUHZWWGAVUDVU
        IWWJVWOAGUEUQZXJUHZUEHUVTZVUIWWJVHAWWLUEHAWWKHPZUJZWWLWWKGUWANZVDOZWWOW
        WQGWWPUGUHZWWOWWPGUSUHZWWRVFZWWOWWKUIPZGUWBPZWWSWWOWWKUPPZWXAWWOWXCWWKE
        VYISNZFVYMSNZURNZOZUDQTZUCQTZWWOWWNWXCWXIUJAWWNUWCVUBWXIDWWKUPHUYNWWKOZ
        VUBWWKUYSOZCQTZBQTWXIWXJUYTWXKBCQQUYNWWKUYSWBWSWXLWXHBUCQUYOVYIOZWXLWWK
        WXDUYRURNZOZCQTWXHWXMWXKWXOCQWXMUYSWXNWWKWXMUYPWXDUYRURUYOVYIESVQXGVRVN
        WXOWXGCUDQUYQVYMOZWXNWXFWWKWXPUYRWXEWXDURUYQVYMFSVQWJVRXEXFXEXFIWTXHZXM
        ZWWKXIRZAWXBWWNAUYBWXBVYFGUWDRWIZWWKGUWFUNWWOWWPUIPZUXQWWSWWTULWWOWWPUM
        PZWYAWWOWWKQPZUYBWYBWWOWXCWYCWXRWWKYIRZAUYBWWNVYFWIZWWKGUWEUNZWWPUORAUX
        QWWNVYGWIWWPGUWGUNXLWWOWWQVFZWWPHPZWWRWWOWYGWWPUPPZWYHWWOWWQWYIWWOWYBWW
        QWYIVEWYFWWPUWHXHUWIWWOWWPUYSOZCQTBQTZWYIWYHVHWWOWWKGWWKGUWJNZUWKVBZSNZ
        YJNZUYSOZCQTBQTZWYKWWOWXIWYQWWOWXCWXIWXQXNWWOWXGWYQUCUDQQWWOWUEWXGWYQVH
        ZWWOWUEUJZUYIWYRAUYIWWNWUEWUHYMWYSUYHWYRUAUBQQWWOWUEWUKUYHWYRVHWWOWUEWU
        KUJZUJZWXGUYHWYQXUAWYQWXGUYHUJZWXFUYGWYMSNZYJNZUYSOZCQTBQTZXUAVYIUYCWYM
        SNZYJNZQPZVYMUYEWYMSNZYJNZQPZXUDEXUHSNZFXUKSNZURNZOZXUFXUAWUCXUGQPZXUIW
        WOWUCWUDWUKXPZXUAWUIWYMQPZXUQWWOWUEWUIWUJXOZWWOXUSWYTWWOWYLUIPZXUSWWOWX
        AUYBXVAWXSWYEWWKGUWLUNWYLUWMRZWIZUYCWYMXQUNZVYIXUGYKUNXUAWUDXUJQPZXULWW
        OWUCWUDWUKXSZXUAWUJXUSXVEWWOWUEWUIWUJXRZXVCUYEWYMXQUNZVYMXUJYKUNXUAWXFE
        XUGSNZFXUJSNZURNZYJNZWXDXVIYJNZWXEXVJYJNZURNZXUDXUOXUAWXDWKPZWXEWKPZXVI
        WKPZXVJWKPZXVLXVOOXUAVWKWVSXVPAVWKWWNWYTVWLYMZXUAWUCWVSXURWWARZEVYIWMUN
        XUAVWHWWCXVQAVWHWWNWYTVWIYMZXUAWUDWWCXVFWWERZFVYMWMUNXUAVWKXUGWKPZXVRXV
        TXUAXUQXWDXVDXUGWERZEXUGWMUNXUAVWHXUJWKPZXVSXWBXUAXVEXWFXVHXUJWERZFXUJW
        MUNWXDWXEXVIXVJUWNUWOXUAXUCXVKWXFYJXUAXUCUYDWYMSNZUYFWYMSNZURNZXVKXUAUY
        DWKPZUYFWKPZWYMWKPZXUCXWJOXUAVWKWVTXWKXVTXUAWUIWVTXUTWWBRZEUYCWMUNXUAVW
        HWWDXWLXWBXUAWUJWWDXVGWWFRZFUYEWMUNWWOXWMWYTWWOXUSXWMXVBWYMWERWIZUYDUYF
        WYMYBXTXUAXWHXVIXWIXVJURXUAVWKWVTXWMXWHXVIOXVTXWNXWPEUYCWYMYLXTXUAVWHWW
        DXWMXWIXVJOXWBXWOXWPFUYEWYMYLXTYAWOWJXUAXUMXVMXUNXVNURXUAVWKWVSXWDXUMXV
        MOXVTXWAXWEEVYIXUGYNXTXUAVWHWWCXWFXUNXVNOXWBXWCXWGFVYMXUJYNXTYAUWPXUEXU
        PXUDXUMUYRURNZOBCXUHXUKQQUYOXUHOZUYSXWQXUDXWRUYPXUMUYRURUYOXUHESVQXGVRU
        YQXUKOZXWQXUOXUDXWSUYRXUNXUMURUYQXUKFSVQWJVRUWQXTXUBWYPXUEBCQQXUBWYOXUD
        UYSUYHWXGWYNXUCOWYOXUDOGUYGWYMSVLWWKWXFWYNXUCYJYDUWRYOWSWCUWSYFYGWGVJYG
        WGWWOWYPWYJBCQQWWOWYOWWPUYSWWOWWPWYOWWOWXAWXBWWPWYOOWXSWXTWWKGUWTUNVPYO
        WSXLWYHWYIWYKVUBWYKDWWPUPHUYNWWPOUYTWYJBCQQUYNWWPUYSWBWSIWTXARXBWYHGUYJ
        WWPUGJUYLWYHUYJWWPUGUHVUCWWPHVAUXAWQUXBXDUXCWWOUYBWYCWWLWWQULWYEWYDGWWK
        UXFUNUXDUXGZWWLWWJUEVUHHWWKVUHGXJYEYPRXBAGQPZUXSWWGWWJULAUYBXXAVYFGYIRZ
        KGEYQUNYRYSAXXAWWIXXBGUXERZYTAWWHWWIFVDFVDGXJYEAVUEWWHAVUEGVWPXJUHZWWHA
        VUEVWQXXDVXPAWWMVWQXXDVHXWTWWLXXDUEVWPHWWKVWPGXJYEYPRXBAXXAUXTWWHXXDULX
        XBLGFYQUNYRYSXXCYTAXXAUXSUXTVUGWWGWWHUJUXOVHXXBKLMGEFUXHUXIYHUXJVXQUXK
        $.
        $( [22-Feb-2014] $)
    $}

    $( B&eacute;zout's identity:  For any integers ` A ` and ` B ` , there are
       integers ` x , y ` such that ` ( A gcd B ) = A x. x + B x. y ` .
       (Contributed by Mario Carneiro, 22-Feb-2014.) $)
    bezout $p |- ( ( A e. ZZ /\ B e. ZZ ) ->
           E. x e. ZZ E. y e. ZZ ( A gcd B ) = ( ( A x. x ) + ( B x. y ) ) ) $=
      ( vz vu vv vw cz wcel cc0 wceq co cv cmul caddc wrex opreq2 eqeq2d cn 0cn
      wa cgcd wi 00id mul01i opreq12i gcd0val 3eqtr4ri opreq1d opreq2d rcla42ev
      0z mp3an opreq12 opreq1 syl2an eqeq12d 2rexbidv mpbiri a1i wn crab cr clt
      ccnv csup eqeq1 rexbidv cbvrexv syl6bb eqid simpll simplr simpr bezoutlem
      cbvrabv elrab simprbi syl ex pm2.61d ) CIJZDIJZUBZCKLZDKLZUBZCDUCMZCANZOM
      ZDBNZOMZPMZLZBIQAIQZWHWPUDWEWHWPKKUCMZKWJOMZKWLOMZPMZLZBIQAIQZKIJZXCWQKKO
      MZXDPMZLZXBUMUMKKPMKXEWQUEXDKXDKPKUAUFZXGUGUHUIXAXFWQXDWSPMZLABKKIIWJKLZW
      TXHWQXIWRXDWSPWJKKORUJSWLKLZXHXEWQXJWSXDXDPWLKKORUKSULUNWHWOXAABIIWHWIWQW
      NWTCKDKUCUOWFWKWRLWMWSLWNWTLWGCKWJOUPDKWLOUPWKWRWMWSPUOUQURUSUTVAWEWHVBZW
      PWEXKUBZWIENZWNLZBIQAIQZETVCZJZWPXLFGHCDXPVDVEVFVGZXPXOHNZCFNZOMZDGNZOMZP
      MZLZGIQZFIQZEHTXMXSLZXOXSWNLZBIQZAIQYGYHXNYIABIIXMXSWNVHUSYJYFAFIWJXTLZYJ
      XSYAWMPMZLZBIQYFYKYIYMBIYKWNYLXSYKWKYAWMPWJXTCORUJSVIYMYEBGIWLYBLZYLYDXSY
      NWMYCYAPWLYBDORUKSVJVKVJVKVQXRVLWCWDXKVMWCWDXKVNWEXKVOVPXQWITJWPXOWPEWITX
      MWILXNWOABIIXMWIWNVHUSVRVSVTWAWB $.
      $( [22-Feb-2014] $)
  $}

  ${
    $d w y z F $.  $d w x y M $.  $d w x y z ph $.  $d w x y z S $.  $d x T $.
    $d w x y N $.  $d w z U $.  $d w z V $.  $d w z W $.
    crt.1 $e |- S = ( 0 ... ( ( M x. N ) - 1 ) ) $.
    crt.2 $e |- T = ( ( 0 ... ( M - 1 ) ) X. ( 0 ... ( N - 1 ) ) ) $.
    crt.3 $e |- F = ( x e. S |-> <. ( x mod M ) , ( x mod N ) >. ) $.
    crt.4 $e |- ( ph -> ( M e. NN /\ N e. NN /\ ( M gcd N ) = 1 ) ) $.
    $( The Chinese Remainder Theorem: the function that maps ` x ` to its
       remainder classes ` mod M ` and ` mod N ` is 1-1 and onto when ` M ` and
       ` N ` are coprime.  (Contributed by Mario Carneiro, 24-Feb-2014.) $)
    crt $p |- ( ph -> F : S -1-1-onto-> T ) $=
      ( cen wbr wcel wceq cmo co cc0 c1 syl11anc vy vz wf1 cfn wf1o wf cfv wral
      cv wi cop cz cmul cmin cfz elfzelz eleq2s wa cxp simpr cgcd simp1d adantr
      cn zmodcl2 simp2d opelxpi syl6eleqr sylan2 ralrimiva sylib opreq1 opeq12d
      fmpt opex fvmpt ad2antrl ad2antll eqeq12d oprex opth cdivides nnz syl cle
      syl6bb clt w3a simprl syl6eleq wb 0z zmulcl elfzm11 sylancr simprr zsubcl
      mpbid simp3d coprmdvds2 syl31anc moddvds syl111anc anbi12d cr crp nnmulcl
      zre modid syl22anc bitr3d 3imtr4d sylbid ralrimivva dff13 sylanbrc fz01en
      nnrp syl5eqbr 3syl cn0 nnnn0 chash nn0mulcl hashfz1 fzfi mp2an opreqan12d
      hashxp syl5eq eqtr4d xpfi hashen syl2an entr xpen xpex ensym eqeltri a1i
      f1finf1o ) ACDEUCZCDLMZDUDNZCDEUEACDEUFZUAUIZEUGZUBUIZEUGZOZUUFUUHOZUJZUB
      CUHUACUHUUBABUIZFPQZUUMGPQZUKZDNZBCUHUUEAUUQBCUUMCNAUUMULNZUUQUURUUMRFGUM
      QZSUNQZUOQZCUUMRUUTUPHUQAUURURZUUPRFSUNQZUOQZRGSUNQZUOQZUSZDUVBUUNUVDNZUU
      OUVFNZUUPUVGNUVBUURFVDNZUVHAUURUTZAUVJUURAUVJGVDNZFGVAQSOZKVBZVCUUMFVETUV
      BUURUVLUVIUVKAUVLUURAUVJUVLUVMKVFZVCUUMGVETUUNUUOUVDUVFVGTIVHVIVJBCDUUPEJ
      VNVKAUULUAUBCCAUUFCNZUUHCNZURZURZUUJUUFFPQZUUHFPQZOZUUFGPQZUUHGPQZOZURZUU
      KUVSUUJUVTUWCUKZUWAUWDUKZOUWFUVSUUGUWGUUIUWHUVPUUGUWGOAUVQBUUFUUPUWGCEUUM
      UUFOUUNUVTUUOUWCUUMUUFFPVLUUMUUFGPVLVMJUVTUWCVOVPVQUVQUUIUWHOAUVPBUUHUUPU
      WHCEUUMUUHOUUNUWAUUOUWDUUMUUHFPVLUUMUUHGPVLVMJUWAUWDVOVPVRVSUVTUWCUWAUWDU
      UFFPVTUUFGPVTUUHGPVTWAWFUVSFUUFUUHUNQZWBMZGUWIWBMZURZUUSUWIWBMZUWFUUKUVSF
      ULNZGULNZUWIULNZUVMUWLUWMUJUVSUVJUWNAUVJUVRUVNVCZFWCZWDZUVSUVLUWOAUVLUVRU
      VOVCZGWCZWDZUVSUUFULNZUUHULNZUWPUVSUXCRUUFWEMZUUFUUSWGMZUVSUUFUVANZUXCUXE
      UXFWHZUVSUUFCUVAAUVPUVQWIHWJUVSRULNZUUSULNZUXGUXHWKWLUVSUWNUWOUXJUWSUXBFG
      WMTZUUFRUUSWNWOWRZVBZUVSUXDRUUHWEMZUUHUUSWGMZUVSUUHUVANZUXDUXNUXOWHZUVSUU
      HCUVAAUVPUVQWPHWJUVSUXIUXJUXPUXQWKWLUXKUUHRUUSWNWOWRZVBZUUFUUHWQTAUVMUVRA
      UVJUVLUVMKWSVCUWIFGWTXAUVSUWBUWJUWEUWKUVSUVJUXCUXDUWBUWJWKUWQUXMUXSUUFUUH
      FXBXCUVSUVLUXCUXDUWEUWKWKUWTUXMUXSUUFUUHGXBXCXDUVSUUFUUSPQZUUHUUSPQZOZUUK
      UWMUVSUXTUUFUYAUUHUVSUUFXENZUUSXFNZUXEUXFUXTUUFOUVSUXCUYCUXMUUFXHWDUVSUUS
      VDNZUYDUVSUVJUVLUYEUWQUWTFGXGZTZUUSXRWDZUVSUXCUXEUXFUXLVFUVSUXCUXEUXFUXLW
      SUUFUUSXIXJUVSUUHXENZUYDUXNUXOUYAUUHOUVSUXDUYIUXSUUHXHWDUYHUVSUXDUXNUXOUX
      RVFUVSUXDUXNUXOUXRWSUUHUUSXIXJVSUVSUYEUXCUXDUYBUWMWKUYGUXMUXSUUFUUHUUSXBX
      CXKXLXMXNUAUBCDEXOXPACSFUOQZSGUOQZUSZLMZUYLDLMZUUCAUVJUVLUYMUVNUVOUVJUVLU
      RZCSUUSUOQZLMZUYPUYLLMZUYMUYOUYEUXJUYQUYFUUSWCUXJCUVAUYPLHUUSXQXSXTUVJFYA
      NZGYANZUYRUVLFYBGYBUYSUYTURZUYPYCUGZUYLYCUGZOZUYRVUAVUBUUSVUCVUAUUSYANVUB
      UUSOFGYDUUSYEWDVUAVUCUYJYCUGZUYKYCUGZUMQZUUSUYJUDNZUYKUDNZVUCVUGOSFYFZSGY
      FZUYJUYKYIYGUYSUYTVUEFVUFGUMFYEGYEYHYJYKUYPUDNUYLUDNZVUDUYRWKSUUSYFVUHVUI
      VULVUJVUKUYJUYKYLYGUYPUYLYMYGVKYNCUYPUYLYOTTAUVJUVLUYNUVNUVOUYODUYLLMZUYN
      UVJUWNUWOVUMUVLUWRUXAUWNUWOURDUVGUYLLIUWNUVDUYJLMUVFUYKLMUVGUYLLMUWOFXQGX
      QUVDUYJUVFUYKSFUOVTZSGUOVTZYPYNXSYNDUYLUYJUYKVUNVUOYQYRWDTCUYLDYOTUUDADUV
      GUDIUVDUDNUVFUDNUVGUDNRUVCYFRUVEYFUVDUVFYLYGYSYTCDEUUAXC $.
      $( [24-Feb-2014] $)

    phimul.4 $e |- U = { y e. ( 0 ... ( M - 1 ) ) | ( y gcd M ) = 1 } $.
    phimul.5 $e |- V = { y e. ( 0 ... ( N - 1 ) ) | ( y gcd N ) = 1 } $.
    phimul.6 $e |- W = { y e. S | ( y gcd ( M x. N ) ) = 1 } $.
    $( Lemma for ~ phimul . $)
    phimullem $p |- ( ph ->
                   ( phi ` ( M x. N ) ) = ( ( phi ` M ) x. ( phi ` N ) ) ) $=
      ( wcel wceq vw vz chash cfv cmul co cphi cxp cfn cv cgcd c1 cc0 cmin crab
      cfz wss fzfi ssrab2 ssfi mp2an eqeltri hashxp cen wbr cima wral wa opreq1
      cmo cop eqeq1d elrab2 simplbi opeq12d opex fvmpt syl adantl cz cn elfzelz
      syl6eleq simp1d adantr zmodcl2 syl11anc modgcd cle cdivides simpld simprd
      nnz gcddvds simp2d dvdsmul1 wi nnne0 simpr necon3ai 3syl gcdn0cl syl21anc
      wn wne nnmulcl dvdstr syl111anc mp2and dvdslegcd syl31anc simprbi breqtrd
      nnle1eq1 mpbid eqtrd sylanbrc dvdsmul2 opelxpi eqeltrd ralrimiva wfn wf1o
      wb crt f1ofn wfun cdm fnfun eqsstri fndm syl2an cmpt eqtri eqtr3d sylancl
      sylib dfphi2 fveq2i syl6eqr syl5sseqr funimass4 mpbird wrex f1ocnv xpss12
      ccnv wf f1of sseqtr4i sseli ffvelrn f1ocnvfv2 eqeltrrd oprex opelxp rpmul
      cbvmptv fveq2 rcla4ev fvelimab sylibrd ssrdv eqssd f1of1 elisseti f1imaen
      ex wf1 eqbrtrrd xpfi hashen sylibr syl5reqr rabeq ax-mp opreq12d 3eqtr4d
      ) AKUCUDZFUCUDZJUCUDZUEUFZHIUEUFZUGUDZHUGUDZIUGUDZUEUFAUWBFJUHZUCUDZUVSFU
      ISZJUISZUWHUWBTFCUJZHUKUFZULTZCUMHULUNUFZUPUFZUOZUIPUWOUISUWPUWOUQUWPUISU
      MUWNURUWMCUWOUSZUWOUWPUTVAVBZJUWKIUKUFZULTZCUMIULUNUFZUPUFZUOZUIQUXBUISUX
      CUXBUQUXCUISUMUXAURUWTCUXBUSZUXBUXCUTVAVBZFJVCVAAUWGKVDVEZUWHUVSTZAGKVFZU
      WGKVDAUXHUWGAUXHUWGUQZUAUJZGUDZUWGSZUAKVGZAUXLUAKAUXJKSZVHZUXKUXJHVJUFZUX
      JIVJUFZVKZUWGUXNUXKUXRTZAUXNUXJDSZUXSUXNUXTUXJUWCUKUFZULTZUWKUWCUKUFZULTZ
      UYBCUXJDKUWKUXJTUYCUYAULUWKUXJUWCUKVIVLRVMZVNZBUXJBUJZHVJUFZUYGIVJUFZVKZU
      XRDGUYGUXJTUYHUXPUYIUXQUYGUXJHVJVIUYGUXJIVJVIVOZNUXPUXQVPVQVRVSUXOUXPFSZU
      XQJSZUXRUWGSUXOUXPUWOSZUXPHUKUFZULTZUYLUXOUXJVTSZHWASZUYNUXOUXJUMUWCULUNU
      FZUPUFZSZUYQUXNVUAAUXNUXJDUYTUYFLWCVSUXJUMUYSWBVRZAUYRUXNAUYRIWASZHIUKUFU
      LTZOWDZWEZUXJHWFWGUXOUYOUXJHUKUFZULUXOUYQUYRUYOVUGTVUBVUFUXJHWHWGUXOVUGUL
      WIVEZVUGULTZUXOVUGUYAULWIUXOVUGUXJWJVEZVUGUWCWJVEZVUGUYAWIVEZUXOVUJVUGHWJ
      VEZUXOUYQHVTSZVUJVUMVHVUBUXOUYRVUNVUFHWMZVRZUXJHWNWGZWKUXOVUMHUWCWJVEZVUK
      UXOVUJVUMVUQWLUXOVUNIVTSZVURVUPUXOVUCVUSAVUCUXNAUYRVUCVUDOWOZWEZIWMZVRZHI
      WPWGUXOVUGVTSZVUNUWCVTSZVUMVURVHVUKWQUXOVUGWASZVVDUXOUYQVUNUXJUMTZHUMTZVH
      ZXDZVVFVUBVUPUXOUYRHUMXEVVJVUFHWRVVIHUMVVGVVHWSWTXAUXJHXBXCZVUGWMVRZVUPUX
      OUWCWASZVVEUXOUYRVUCVVMVUFVVAHIXFZWGZUWCWMVRZVUGHUWCXGXHXIUXOVVDUYQVVEVVG
      UWCUMTZVHZXDZVUJVUKVHVULWQVVLVUBVVPUXOVVMUWCUMXEVVSVVOUWCWRVVRUWCUMVVGVVQ
      WSWTXAZVUGUXJUWCXJXKXIUXNUYBAUXNUXTUYBUYEXLVSZXMUXOVVFVUHVUIYDVVKVUGXNVRX
      OXPUWMUYPCUXPUWOFUWKUXPTUWLUYOULUWKUXPHUKVIVLPVMXQUXOUXQUXBSZUXQIUKUFZULT
      ZUYMUXOUYQVUCVWBVUBVVAUXJIWFWGUXOVWCUXJIUKUFZULUXOUYQVUCVWCVWETVUBVVAUXJI
      WHWGUXOVWEULWIVEZVWEULTZUXOVWEUYAULWIUXOVWEUXJWJVEZVWEUWCWJVEZVWEUYAWIVEZ
      UXOVWHVWEIWJVEZUXOUYQVUSVWHVWKVHVUBVVCUXJIWNWGZWKUXOVWKIUWCWJVEZVWIUXOVWH
      VWKVWLWLUXOVUNVUSVWMVUPVVCHIXRWGUXOVWEVTSZVUSVVEVWKVWMVHVWIWQUXOVWEWASZVW
      NUXOUYQVUSVVGIUMTZVHZXDZVWOVUBVVCUXOVUCIUMXEVWRVVAIWRVWQIUMVVGVWPWSWTXAUX
      JIXBXCZVWEWMVRZVVCVVPVWEIUWCXGXHXIUXOVWNUYQVVEVVSVWHVWIVHVWJWQVWTVUBVVPVV
      TVWEUXJUWCXJXKXIVWAXMUXOVWOVWFVWGYDVWSVWEXNVRXOXPUWTVWDCUXQUXBJUWKUXQTUWS
      VWCULUWKUXQIUKVIVLQVMXQUXPUXQFJXSWGXTYAAGDYBZUXIUXMYDZADEGYCZVXAABDEGHILM
      NOYEZDEGYFVRZVXAGYGKGYHZUQVXBDGYIVXADKVXFKUYDCDUOZDRUYDCDUSYJZDGYKUUAUAKU
      WGGUUBWGVRUUCAUBUWGUXHAUBUJZUWGSZUXKVXITZUAKUUDZVXIUXHSZAVXJVXLAVXJVHZVXI
      GUUGZUDZKSZVXPGUDZVXITZVXLVXNVXPDSZVXPUWCUKUFZULTZVXQAEDVXOUUHZVXIESZVXTV
      XJAVXCEDVXOYCVYCVXDDEGUUEEDVXOUUIXAUWGEVXIUWGUWOUXBUHZEFUWOUQJUXBUQUWGVYE
      UQFUWPUWOPUWQYJJUXCUXBQUXDYJFUWOJUXBUUFVAMUUJUUKZEDVXIVXOUULYLZVXNVXPHUKU
      FZULTZVXPIUKUFZULTZVYBVXNVXPHVJUFZHUKUFZVYHULVXNVXPVTSZUYRVYMVYHTVXNVXPUY
      TSVYNVXNVXPDUYTVYGLWCVXPUMUYSWBVRZAUYRVXJVUEWEVXPHWHWGVXNVYLUWOSZVYMULTZV
      XNVYLFSZVYPVYQVHVXNVYRVXPIVJUFZJSZVXNVYLVYSVKZUWGSVYRVYTVHVXNVXIWUAUWGVXN
      VXRVXIWUAAVXCVYDVXSVXJVXDVYFDEVXIGUUMYLZVXNVXTVXRWUATVYGUAVXPUXRWUADGUXJV
      XPTZUXPVYLUXQVYSUXJVXPHVJVIUXJVXPIVJVIVOGBDUYJYMUADUXRYMNBUADUYJUXRUYKUUR
      YNVYLVYSVPVQVRYOAVXJWSUUNVYLVYSFJVXPIVJUUOUUPYQZWKUWMVYQCVYLUWOFUWKVYLTUW
      LVYMULUWKVYLHUKVIVLPVMYQWLYOVXNVYSIUKUFZVYJULVXNVYNVUCWUEVYJTVYOAVUCVXJVU
      TWEVXPIWHWGVXNVYSUXBSZWUEULTZVXNVYTWUFWUGVHVXNVYRVYTWUDWLUWTWUGCVYSUXBJUW
      KVYSTUWSWUEULUWKVYSIUKVIVLQVMYQWLYOVXNVYNVUNVUSVYIVYKVHVYBWQVYOAVUNVXJAUY
      RVUNVUEVUOVRWEAVUSVXJAVUCVUSVUTVVBVRWEVXPHIUUQXHXIUYDVYBCVXPDKUWKVXPTUYCV
      YAULUWKVXPUWCUKVIVLRVMXQWUBVXKVXSUAVXPKWUCUXKVXRVXIUXJVXPGUUSVLUUTWGUVHAV
      XAKDUQZVXMVXLYDVXEVXHUADKVXIGUVAYPUVBUVCUVDADEGUVIZWUHUXHKVDVEAVXCWUIVXDD
      EGUVEVRVXHDEKGKUIDUISWUHKUISZDUYTUILUMUYSURVBVXHDKUTVAZUVFUVGYPUVJUWGUISZ
      WUJUXGUXFYDUWIUWJWULUWRUXEFJUVKVAWUKUWGKUVLVAUVMUVNAVVMUWDUVSTAUYRVUCVVMV
      UEVUTVVNWGVVMUWDUYDCUYTUOZUCUDUVSCUWCYRKWUMUCKVXGWUMRDUYTTVXGWUMTLUYDCDUY
      TUVOUVPYNYSYTVRAUWEUVTUWFUWAUEAUYRUWEUVTTVUEUYRUWEUWPUCUDUVTCHYRFUWPUCPYS
      YTVRAVUCUWFUWATVUTVUCUWFUXCUCUDUWACIYRJUXCUCQYSYTVRUVQUVR $.
      $( [24-Feb-2014] $)
  $}

  ${
    $d x y M $.  $d x y N $.
    $( The Euler ` phi ` function is a multiplicative function, meaning that it
       distributes over multiplication at relatively prime arguments.
       (Contributed by Mario Carneiro, 24-Feb-2014.) $)
    phimul $p |- ( ( M e. NN /\ N e. NN /\ ( M gcd N ) = 1 ) ->
                   ( phi ` ( M x. N ) ) = ( ( phi ` M ) x. ( phi ` N ) ) ) $=
      ( vx vy cn wcel cgcd co c1 wceq w3a cc0 cmul cmin cfz cxp crab cmo eqid
      cv cop cmpt id phimullem ) AEFBEFABGHIJKZCDLABMHZINHOHZLAINHOHZLBINHOHZPZ
      DTZAGHIJDUHQZCUGCTZARHUMBRHUAUBZABUKBGHIJDUIQZUKUFGHIJDUGQZUGSUJSUNSUEUCU
      LSUOSUPSUD $.
      $( [24-Feb-2014] $)
  $}

  ${
    $d x y z A $.  $d w x y z F $.  $d w x y z G $.  $d w x y z N $.  $d x S $.
    $d x y z ph $.  $d x y z T $.
    eulerth.1 $e |- ( ph -> ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) ) $.
    eulerth.2 $e |- S = { y e. ( 0 ... ( N - 1 ) ) | ( y gcd N ) = 1 } $.
    eulerth.3 $e |- T = ( 1 ... ( phi ` N ) ) $.
    eulerth.4 $e |- ( ph -> F : T -1-1-onto-> S ) $.
    eulerth.5 $e |- G = ( x e. T |-> ( ( A x. ( F ` x ) ) mod N ) ) $.
    $( Lemma for ~ eulerth . $)
    eulerthlem $p |- ( ph -> ( ( A ^ ( phi ` N ) ) mod N ) = ( 1 mod N ) ) $=
      ( co cmo c1 wceq wcel syl vz vw cfv cexp cmin cdivides wbr cmul cseq cgcd
      cle wa cr cn cfz cz simp1d 3syl adantr cv wi breq1 anbi2d opreq2 opreq12d
      nnre fveq2 opreq1d eqeq12d opreq2d eqeq1d anbi12d imbi12d simp2d cc0 wf1o
      cuz nnuz syl6eleq syl6eleqr ffvelrn syl11anc opreq1 elrab2 simpld elfzelz
      wf sylib zmulcl zre modabs2 seq1NEW ax-mp oprex fvmpt syl5eq zcn 3eqtr4rd
      1z cc a1i nnz gcdcom simprd eqtrd jca adantl syl111anc cn0 nnnn0 ad2antrl
      zexpcl wral wss mpbird sylan sylan2br ralrimiva ssralv seqcl simp3d rpmul
      wb sylc mp2and sylanbrc sseli mp3an2 modmul1 syl22anc seqp1 eqtr4d mulcom
      recnd sylibd mpan2d wf1 cfn mpbid moddvds cphi phicl elfznn leid crp f1of
      caddc eluzfz1 nnrp exp1 lep1 peano2re letr mpand imdistanda imim1d simprl
      opreq2i simprr letrd eluz fzss2 eleq2i zmodcl2 modgcd 3eqtrd fmpt eqsstri
      crab ssrab2 peano2nn elfz nnge1 mpbir2and 3expia mul4 expp1 modcl 3eqtr4d
      syl221anc sylibrd anim12d an12s ex a2d syld nnind mpcom mpdan ccnv f1ocnv
      ccom cen clt w3a adantrr elfzm11 sylancr adantrl eqeqan12d breq2d 3bitr4d
      subdi zsubcl coprmdvds modid f1of1 f1fveq 3bitr3d sylbid ralrimivva dff13
      0z eqeltri f1oen fzfi ssfi mp2an f1finf1o f1oco f1oeq23 wfun f1ofun simpr
      fvco3 fveq2d f1ocnvfv2 eqtr2d ax-mulcl ax-mulcom ax-mulass serf1o eqeltrd
      cvv mulid2 ax-1cn subdir sylancl breqtrd mp3an3 ) ADIUUAUCZUDOZIPOQIPORZI
      VUBQUEOZUFUGZAIVUAUHGQUIZUCZVUDUHOZUFUGZIVUGUJOZQRZVUEAIVUBVUGUHOZVUAUHHQ
      UIZUCZUEOZVUHUFAVULIPOZVUNIPOZRZIVUOUFUGZAVURVUKAVUAVUAUKUGZVURVUKULZAVUA
      UMSZVUTAVUAUNSZVVBAIUNSZVUAQIUOOSVVCAVVDDUPSZDIUJOZQRZJUQZIUUBVUAIUUCURZV
      UAVFTZVUAUUDTVVCAVUTULZVVAAVVCVUTVVIUSABUTZVUAUKUGZULZDVVLUDOZVVLVUFUCZUH
      OZIPOZVVLVUMUCZIPOZRZIVVPUJOZQRZULZVAAQVUAUKUGZULZDQUDOZQVUFUCZUHOZIPOZQV
      UMUCZIPOZRZIVWHUJOZQRZULZVAAUAUTZVUAUKUGZULZDVWQUDOZVWQVUFUCZUHOZIPOZVWQV
      UMUCZIPOZRZIVXAUJOZQRZULZVAZAVWQQUUGOZVUAUKUGZULZDVXKUDOZVXKVUFUCZUHOZIPO
      ZVXKVUMUCZIPOZRZIVXOUJOZQRZULZVAZVVKVVAVABUAVUAVVLQRZVVNVWFVWDVWPVYEVVMVW
      EAVVLQVUAUKVBVCVYEVWAVWMVWCVWOVYEVVRVWJVVTVWLVYEVVQVWIIPVYEVVOVWGVVPVWHUH
      VVLQDUDVDVVLQVUFVGZVEVHVYEVVSVWKIPVVLQVUMVGVHVIVYEVWBVWNQVYEVVPVWHIUJVYFV
      JVKVLVMVVLVWQRZVVNVWSVWDVXIVYGVVMVWRAVVLVWQVUAUKVBVCVYGVWAVXFVWCVXHVYGVVR
      VXCVVTVXEVYGVVQVXBIPVYGVVOVWTVVPVXAUHVVLVWQDUDVDVVLVWQVUFVGZVEVHVYGVVSVXD
      IPVVLVWQVUMVGVHVIVYGVWBVXGQVYGVVPVXAIUJVYHVJVKVLVMVVLVXKRZVVNVXMVWDVYCVYI
      VVMVXLAVVLVXKVUAUKVBVCVYIVWAVXTVWCVYBVYIVVRVXQVVTVXSVYIVVQVXPIPVYIVVOVXNV
      VPVXOUHVVLVXKDUDVDVVLVXKVUFVGZVEVHVYIVVSVXRIPVVLVXKVUMVGVHVIVYIVWBVYAQVYI
      VVPVXOIUJVYJVJVKVLVMVVLVUARZVVNVVKVWDVVAVYKVVMVUTAVVLVUAVUAUKVBVCVYKVWAVU
      RVWCVUKVYKVVRVUPVVTVUQVYKVVQVULIPVYKVVOVUBVVPVUGUHVVLVUADUDVDVVLVUAVUFVGZ
      VEVHVYKVVSVUNIPVVLVUAVUMVGVHVIVYKVWBVUJQVYKVVPVUGIUJVYLVJVKVLVMAVWPVWEAVW
      MVWOADQGUCZUHOZIPOZIPOZVYOVWLVWJAVYNUMSZIUUESZVYPVYORAVYNUPSZVYQAVVEVYMUP
      SZVYSAVVDVVEVVGJVNZAVYMVOIQUEOZUOOZSZVYTAWUDVYMIUJOZQRZAVYMESZWUDWUFULAFE
      GWGZQFSZWUGAFEGVPZWUHMFEGUUFTZAQQVUAUOOZFAVUAQVQUCZSZQWULSAVUAUNWUMVVIVRV
      SZQVUAUUHTLVTZFEQGWAWBCUTZIUJOZQRZWUFCVYMWUCEWUQVYMRWURWUEQWUQVYMIUJWCVKK
      WDWHZWEVYMVOWUBWFTZDVYMWIWBVYNWJTAVVDVYRVVHIUUITZVYNIWKWBAVWKVYOIPAVWKQHU
      CZVYOQUPSZVWKWVCRWSUHHQWLWMAWUIWVCVYORWUPBQDVVLGUCZUHOZIPOZVYOFHVYEWVFVYN
      IPVYEWVEVYMDUHVVLQGVGVJVHNVYNIPWNWOTWPVHAVWIVYNIPAVWGDVWHVYMUHADWTSZVWGDR
      AVVEWVHWUADWQTZDUUJTVWHVYMRZAWVDWVJWSUHGQWLWMZXAVEVHWRAVWNIVYMUJOZQVWHVYM
      IUJWVKUURAWVLWUEQAIUPSZVYTWVLWUERAVVDWVMVVHIXBTZWVAIVYMXCWBAWUDWUFWUTXDXE
      WPXFUSVWQUNSZVXJVXMVXIVAVYDWVOVXMVWSVXIWVOAVXLVWRWVOAULZVWQVXKUKUGZVXLVWR
      WVPVWQUMSZWVQWVOWVRAVWQVFZUSZVWQUUKZTWVPWVRVXKUMSZVVBWVQVXLULVWRVAWVTWVPW
      VRWWBWVTVWQUULZTAVVBWVOVVJXGVWQVXKVUAUUMXHUUNUUOUUPWVOVXMVXIVYCWVOVXMVXIV
      YCVAZAWVOVXLWWDAWVOVXLULZULZVXFVXTVXHVYBWWFVXFVXBDVXKGUCZUHOZUHOZIPOZVXDW
      WHUHOZIPOZRZVXTWWFVXBUMSZVXDUMSZWWHUPSZVYRVXFWWMVAWWFVXBUPSZWWNWWFVWTUPSZ
      VXAUPSZWWQWWFVVEVWQXISZWWRAVVEWWEWUAUSZWVOWWTAVXLVWQXJXKZDVWQXLWBZWWFVWQW
      UMSZWVEUPSZBQVWQUOOZXMZWWSWWFVWQUNWUMAWVOVXLUUQVRVSZWWFWXFWULXNZWXEBWULXM
      ZWXGWWFVUAVWQVQUCSZWXIWWFWXKVWRWWFVWQVXKVUAWVOWVRAVXLWVSXKZWWFWVRWWBWXLWW
      CTAVVBWWEVVJUSWWFWVRWVQWXLWWATAWVOVXLUUSZUUTWWFVWQUPSZVUAUPSZWXKVWRYCWVOW
      XNAVXLVWQXBXKAWXOWWEAVVCWXOVVIVUAXBTUSZVWQVUAUVAWBXOVWQQVUAUVBTZAWXJWWEAW
      XEBWULVVLWULSZAVVLFSZWXEFWULVVLLUVCZAWXSULZWVEWUCSZWXEWYAWYBWVEIUJOZQRZWY
      AWVEESZWYBWYDULAWUHWXSWYEWUKFEVVLGWAXPWUSWYDCWVEWUCEWUQWVERWURWYCQWUQWVEI
      UJWCVKKWDWHZWEWVEVOWUBWFTZXQXRZUSWXEBWXFWULXSYDBCUHUPGQVWQVVLWUQWIZXTWBZV
      WTVXAWIWBVXBWJTWWFVXDUPSZWWOWWFWXDVVLHUCZUPSZBWXFXMZWYKWXHWWFWXIWYMBWULXM
      ZWYNWXQAWYOWWEAWYMBWULWXRAWXSWYMWXTWYAWYLESZWYLWUCSWYMAFEHWGZWXSWYPAWVGES
      ZBFXMWYQAWYRBFWYAWVGWUCSZWVGIUJOZQRZWYRWYAWVFUPSZVVDWYSWYAVVEWXEXUBAVVEWX
      SWUAUSZWYGDWVEWIWBZAVVDWXSVVHUSZWVFIUVDWBWYAWYTWVFIUJOZIWVFUJOZQWYAXUBVVD
      WYTXUFRXUDXUEWVFIUVEWBWYAXUBWVMXUFXUGRXUDAWVMWXSWVNUSZWVFIXCWBWYAIDUJOZQR
      ZIWVEUJOZQRZXUGQRZAXUJWXSAXUIVVFQAWVMVVEXUIVVFRWVNWUAIDXCWBAVVDVVEVVGJYAX
      EZUSWYAXUKWYCQWYAWVMWXEXUKWYCRXUHWYGIWVEXCWBWYAWYBWYDWYFXDXEWYAWVMVVEWXEX
      UJXULULXUMVAXUHXUCWYGIDWVEYBXHYEUVFWUSXUACWVGWUCEWUQWVGRWURWYTQWUQWVGIUJW
      CVKKWDYFXRBFEWVGHNUVGWHZFEVVLHWAXPZEWUCWYLEWUSCWUCUVIWUCKWUSCWUCUVJUVHZYG
      WYLVOWUBWFURXQXRUSWYMBWXFWULXSYDBCUHUPHQVWQWYIXTWBZVXDWJTZWWFVVEWWGUPSZWW
      PWXAWWFWWGWUCSZXUTWWFXVAWWGIUJOZQRZWWFWWGESZXVAXVCULWWFWUHVXKFSZXVDAWUHWW
      EWUKUSWWFVXKWULFWWFVXKWULSZQVXKUKUGZVXLWWFVXKUPSZWXOXVFXVGVXLULYCZWWFVXKU
      NSZXVHWVOXVJAVXLVWQUVKXKZVXKXBTWXPXVHWVDWXOXVIWSVXKQVUAUVLYHWBWWFXVJXVGXV
      KVXKUVMTWXMUVNLVTZFEVXKGWAWBWUSXVCCWWGWUCEWUQWWGRWURXVBQWUQWWGIUJWCVKKWDW
      HZWEWWGVOWUBWFTZDWWGWIWBZAVYRWWEWVBUSZWWNWWOULWWPVYRULVXFWWMVXBVXDWWHIYIU
      VOYJWWFWWJVXQWWLVXSWWFWWIVXPIPWWFWWIVWTDUHOZVXAWWGUHOZUHOZVXPWWFVWTWTSZVX
      AWTSZWVHWWGWTSZWWIXVSRWWFWWRXVTWXCVWTWQTWWFWWSXWAWYJVXAWQTAWVHWWEWVIUSZWW
      FXUTXWBXVNWWGWQTVWTVXADWWGUVPYJWWFVXNXVQVXOXVRUHWWFWVHWWTVXNXVQRXWCWXBDVW
      QUVQWBWWFWXDVXOXVRRWXHUHGQVWQYKTZVEYLVHWWFWWHIPOZVXDUHOZIPOZWWHVXDUHOZIPO
      ZVXSWWLWWFXWEUMSZWWHUMSZWYKVYRXWEIPOXWERZXWGXWIRWWFXWKVYRXWJWWFWWPXWKXVOW
      WHWJTZXVPWWHIUVRWBZXWMXURXVPWWFXWKVYRXWLXWMXVPWWHIWKWBXWEWWHVXDIYIUVTWWFV
      XRXWFIPWWFVXDVXKHUCZUHOZVXDXWEUHOZVXRXWFWWFXWOXWEVXDUHWWFXVEXWOXWERXVLBVX
      KWVGXWEFHVYIWVFWWHIPVYIWVEWWGDUHVVLVXKGVGVJVHNWWHIPWNWOTVJWWFWXDVXRXWPRWX
      HUHHQVWQYKTWWFXWEWTSVXDWTSZXWFXWQRWWFXWEXWNYNWWFVXDXUSYNZXWEVXDYMWBUVSVHW
      WFWWKXWHIPWWFXWRWWHWTSWWKXWHRXWSWWFWWHXWMYNVXDWWHYMWBVHWRVIYOWWFVXHIXVRUJ
      OZQRZVYBWWFVXHIWWGUJOZQRZXXAWWFXXBXVBQWWFWVMXUTXXBXVBRAWVMWWEWVNUSZXVNIWW
      GXCWBWWFXVAXVCXVMXDXEWWFWVMWWSXUTVXHXXCULXXAVAXXDWYJXVNIVXAWWGYBXHYPWWFVY
      AXWTQWWFVXOXVRIUJXWDVJVKUWAUWBUWCUWDUWEUWFUWGUWHUWIZWEAVVDVULUPSZVUNUPSVU
      RVUSYCVVHAVUBUPSZVUGUPSZXXFAVVEVUAXISZXXGWUAAVVCXXIVVIVUAXJTDVUAXLWBZAWUN
      WXJXXHWUOWYHBCUHUPGQVUAWYIXTWBZVUBVUGWIWBAVUNVUGUPAWUNWULWULGUWJZHUWLZVPZ
      WVEWTSZWYLVVLXXMUCZGUCZRZULZBWULXMVUNVUGRWUOAFFXXMVPZXXNAEFXXLVPZFEHVPZXX
      TAWUJXYAMFEGUWKTZAFEHYQZFEUWMUGZEYRSZXYBAWYQWUQHUCZVWQHUCZRZWUQVWQRZVAZUA
      FXMCFXMXYDXUOAXYKCUAFFAWUQFSZVWQFSZULZULZXYIIDWUQGUCZVWQGUCZUEOZUHOZUFUGZ
      XYJXYODXYPUHOZIPOZDXYQUHOZIPOZRZIYUAYUCUEOZUFUGZXYIXYTXYOVVDYUAUPSZYUCUPS
      ZYUEYUGYCAVVDXYNVVHUSZXYOVVEXYPUPSZYUHAVVEXYNWUAUSZXYOYUKVOXYPUKUGZXYPIUW
      NUGZXYOXYPWUCSZYUKYUMYUNUWOZXYOXYPESZYUOAXYLYUQXYMAWUHXYLYUQWUKFEWUQGWAXP
      UWPEWUCXYPXUQYGTXYOVOUPSZWVMYUOYUPYCUXMAWVMXYNWVNUSZXYPVOIUWQUWRYSZUQZDXY
      PWIWBXYOVVEXYQUPSZYUIYULXYOYVBVOXYQUKUGZXYQIUWNUGZXYOXYQWUCSZYVBYVCYVDUWO
      ZXYOXYQESZYVEAXYMYVGXYLAWUHXYMYVGWUKFEVWQGWAXPUWSEWUCXYQXUQYGTXYOYURWVMYV
      EYVFYCUXMYUSXYQVOIUWQUWRYSZUQZDXYQWIWBYUAYUCIYTXHXYNXYIYUEYCAXYLXYMXYGYUB
      XYHYUDBWUQWVGYUBFHVVLWUQRZWVFYUAIPYVJWVEXYPDUHVVLWUQGVGVJVHNYUAIPWNWOBVWQ
      WVGYUDFHVYGWVFYUCIPVYGWVEXYQDUHVVLVWQGVGVJVHNYUCIPWNWOUWTXGXYOXYSYUFIUFXY
      OWVHXYPWTSZXYQWTSZXYSYUFRAWVHXYNWVIUSXYOYUKYVKYVAXYPWQTXYOYVBYVLYVIXYQWQT
      DXYPXYQUXCXHUXAUXBXYOXYTXUJXYJAXUJXYNXUNUSXYOXYTXUJULZIXYRUFUGZXYJXYOWVMV
      VEXYRUPSZYVMYVNVAYUSYULXYOYUKYVBYVOYVAYVIXYPXYQUXDWBIDXYRUXEXHXYOXYPIPOZX
      YQIPOZRZXYPXYQRZYVNXYJXYOYVPXYPYVQXYQXYOXYPUMSZVYRYUMYUNYVPXYPRXYOYUKYVTY
      VAXYPWJTAVYRXYNWVBUSZXYOYUKYUMYUNYUTVNXYOYUKYUMYUNYUTYAXYPIUXFYJXYOXYQUMS
      ZVYRYVCYVDYVQXYQRXYOYVBYWBYVIXYQWJTYWAXYOYVBYVCYVDYVHVNXYOYVBYVCYVDYVHYAX
      YQIUXFYJVIXYOVVDYUKYVBYVRYVNYCYUJYVAYVIXYPXYQIYTXHAFEGYQZXYNYVSXYJYCAWUJY
      WCMFEGUXGTFEWUQVWQGUXHXPUXIYOYPUXJUXKCUAFEHUXLYFAWUJXYEMFEGFWULUYNLQVUAUO
      WNUXNUXOTXYFAWUCYRSEWUCXNXYFVOWUBUXPXUQWUCEUXQUXRXAFEHUXSXHFEFXXLHUXTWBFW
      ULRZYWDXXTXXNYCLLFWULFWULXXMUYAUXRWHAXXSBWULWXRAWXSXXSWXTWYAXXOXXRWYAWXEX
      XOWYGWVEWQTWYAXXQWYLXXLUCZGUCZWYLWYAXXPYWEGWYAXXLUYBZWYQWXSXXPYWERAYWGWXS
      AXYAYWGXYCEFXXLUYCTUSAWYQWXSXUOUSAWXSUYDFEVVLXXLHUYEXHUYFWYAWUJWYPYWFWYLR
      AWUJWXSMUSXUPFEWYLGUYGWBUYHXFXQXRCUAUBUHWTBXXMGHQVUAWUQVWQUYIWUQVWQUYJWUQ
      VWQUBUTUYKUYLXHZXXKUYMVULVUNIYTXHYSAVUOVUDVUGUHOZVUHAVUOVULQVUGUHOZUEOZYW
      IAVUNYWJVULUEAVUNVUGYWJYWHAVUGWTSZYWJVUGRAXXHYWLXXKVUGWQTZVUGUYOTYLVJAVUB
      WTSZYWLYWIYWKRZAXXGYWNXXJVUBWQTYWMYWNQWTSYWLYWOUYPVUBQVUGUYQYHWBYLAVUDWTS
      ZYWLYWIVUHRAVUDUPSZYWPAXXGWVDYWQXXJWSVUBQUXDUYRZVUDWQTYWMVUDVUGYMWBXEUYSA
      VURVUKXXEXDAWVMXXHYWQVUIVUKULVUEVAWVNXXKYWRIVUGVUDUXEXHYEAVVDXXGVUCVUEYCZ
      VVHXXJVVDXXGWVDYWSWSVUBQIYTUYTWBXO $.
      $( [28-Feb-2014] $)
  $}

  ${
    $d f k x y A $.  $d f k x y N $.
    $( Euler's theorem, a generalization of Fermat's little theorem.  If ` A `
       and ` N ` are coprime, then ` A ^ phi ( N ) == 1 ` , mod ` N ` .
       (Contributed by Mario Carneiro, 28-Feb-2014.) $)
    eulerth $p |- ( ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) ->
                    ( ( A ^ ( phi ` N ) ) mod N ) = ( 1 mod N ) ) $=
      ( vk vf vx vy cn wcel cgcd co c1 wceq cfv cfz cv cc0 cmo chash cfn cmul
      cz w3a cphi cmin crab wf1o wex cexp cen wbr cn0 phicl elfznn 3syl hashfz1
      nnnn0 syl dfphi2 eqtrd 3ad2ant1 wb fzfi wss ssrab2 ssfi mp2an sylib oprex
      hashen rabex bren wa cmpt simpl opreq1 eqeq1d cbvrabv simpr fveq2 opreq2d
      eqid opreq1d cbvmptv eulerthlem ex exlimdv mpd ) BGHZAUAHZABIJKLZUBZKBUCM
      ZNJZCOZBIJZKLZCPBKUDJZNJZUEZDOZUFZDUGZAWLUHJBQJKBQJLZWKWMWSUIUJZXBWKWMRMZ
      WSRMZLZXDWHWIXGWJWHXEWLXFWHWLUKHZXEWLLWHWLKBNJHWLGHXHBULWLBUMWLUPUNWLUOUQ
      CBURUSUTWMSHWSSHZXGXDVAKWLVBWRSHWSWRVCXIPWQVBWPCWRVDWRWSVEVFWMWSVIVFVGWMW
      SDWPCWRPWQNVHVJVKVGWKXAXCDWKXAXCWKXAVLEFAWSWMWTCWMAWNWTMZTJZBQJZVMBWKXAVN
      WPFOZBIJZKLCFWRWNXMLWOXNKWNXMBIVOVPVQWMWAWKXAVRCEWMXLAEOZWTMZTJZBQJWNXOLZ
      XKXQBQXRXJXPATWNXOWTVSVTWBWCWDWEWFWG $.
      $( [28-Feb-2014] $)
  $}

  $( Fermat's little theorem.  When ` P ` is prime, ` A ^ P == A ` , mod ` P `
     for any ` A ` .  (Contributed by Mario Carneiro, 28-Feb-2014.) $)
  fermltl $p |- ( ( P e. Prime /\ A e. ZZ ) ->
                  ( ( A ^ P ) mod P ) = ( A mod P ) ) $=
    ( wcel cz cexp co cmo wceq cc0 cn sylan c1 cmul cr 3ad2ant1 syl11anc eqtr4d
    w3a syl opreq1d cprime wa cdivides wbr wb prmnn divides3 cmin crp simp2 zre
    0re a1i cn0 nnm1nn0 zexpcl nnrp 0mod modmul1 syl221anc cc zcn mulcom expm1t
    simp3 mul02 3eqtr3d 3expia sylbid wn cgcd coprm prmz gcdcom eqeq1d cphi cfv
    bitrd cfz phicl elfznn nnnn0 3syl 1re eulerth syl3an1 phiprm opreq2d mulid2
    pm2.61d ) BUACZADCZUBZBAUCUDZABEFZBGFZABGFZHZWMWNWQIHZWRWKBJCZWLWNWSUEBUFZB
    AUGKWKWLWSWRWKWLWSRZAABLUHFZEFZMFZBGFZIXDMFZBGFZWPWQXBANCZINCZXDDCZBUICZWQI
    BGFZHXFXHHXBWLXIWKWLWSUJZAUKSXJXBULUMXBWLXCUNCZXKXNXBWTXOWKWLWTWSXAOZBUOSAX
    CUPPZXBWTXLXPBUQZSZXBWQIXMWKWLWSVEXBXLXMIHXSBURSQZAIXDBUSUTXBXEWOBGXBXEXDAM
    FZWOXBAVACZXDVACZXEYAHXBWLYBXNAVBZSZXBXKYCXQXDVBSZAXDVCPXBYBWTWOYAHZYEXPABV
    DZPQTXBXHXMWQXBXGIBGXBYCXGIHYFXDVFSTXTQVGVHVIWMWNVJZABVKFZLHZWRWMYIBAVKFZLH
    YKBAVLWMYLYJLWKBDCWLYLYJHBVMBAVNKVOVRWKWLYKWRWKWLYKRZABVPVQZEFZAMFZBGFZLAMF
    ZBGFZWPWQYMYONCZLNCZWLXLYOBGFLBGFHZYQYSHYMYODCZYTYMWLYNUNCZUUCWKWLYKUJZYMYN
    LBVSFCZYNJCUUDYMWTUUFWKWLWTYKXAOZBVTSYNBWAYNWBWCAYNUPPYOUKSUUAYMWDUMUUEYMWT
    XLUUGXRSWKWTWLYKUUBXAABWEWFYOLABUSUTYMYPWOBGYMYPYAWOYMYOXDAMYMYNXCAEWKWLYNX
    CHYKBWGOWHTYMYBWTYGYMWLYBUUEYDSUUGYHPQTYMYRABGYMWLYBYRAHUUEYDAWIWCTVGVHVIWJ
    $.
    $( [28-Feb-2014] $)

  ${
    $d m n x N $.  $d n x A $.
    $( Value of the order function.  This is a function of functions; the inner
       argument selects the base (i.e. mod ` N ` for some ` N ` , often prime)
       and the outer argument selects the integer or equivalence class (if you
       want to think about it that way) from the integers mod ` N ` .  In order
       to ensure the supremum is well-defined, we only define the expression
       when ` A ` and ` N ` are coprime.  (Contributed by Mario Carneiro,
       23-Feb-2014.) $)
    odval $p |- ( ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) ->
                  ( ( od ` N ) ` A ) = sup ( { n e. NN |
                    N || ( ( A ^ n ) - 1 ) } , RR , `' < ) ) $=
      ( vx vm cn wcel cz cgcd co c1 wceq cfv cv cexp cmin cdivides wbr crab cr
      cod clt ccnv csup cmpt opreq2 eqeq1d rabbidv opreq1 cbvrabv syl6eqr breq1
      supeq1d mpteq12dv df-od zex rabex mptex fvmpt fveq1d elrab opreq1d breq2d
      wa eqid wor ltso cnvso mpbi supex sylbir sylan9eq 3impb ) CFGZAHGZACIJZKL
      ZACUAMZMZCABNZOJZKPJZQRZBFSZTUBUCZUDZLVNVOVQVDZVSADVTCIJZKLZBHSZCDNZVTOJZ
      KPJZQRZBFSZTWEUDZUEZMZWFVNAVRWQECDWKENZIJZKLZDHSZWSWMQRZBFSZTWEUDZUEWQFUA
      WSCLZDXBXEWJWPXFXBWKCIJZKLZDHSWJXFXAXHDHXFWTXGKWSCWKIUFUGUHWIXHBDHVTWKLWH
      XGKVTWKCIUIUGUJUKXFTXDWOWEXFXCWNBFWSCWMQULUHUMUNDBEUODWJWPWIBHUPUQURUSUTW
      GAWJGWRWFLWIVQBAHVTALWHVPKVTACIUIUGVADAWPWFWJWQWKALZTWOWDWEXIWNWCBFXIWMWB
      CQXIWLWAKPWKAVTOUIVBVCUHUMWQVETWDWETUBVFTWEVFVGTUBVHVIVJUSVKVLVM $.
      $( [23-Feb-2014] $)

    $(
    @( - Lemma for ~ odcl , showing existence of a recurrent point for the
       exponential. @)
    odcllem @p |- ( ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) ->
                    E. n e. NN N || ( ( A ^ n ) - 1 ) ) @=
      ? @.

    @( The order of a group element is an integer. @)
    odcl @p |- ( ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) ->
                 ( ( od ` N ) ` A ) e. NN ) @=
      ? @.

    @( Any element raised to the power of its order is ` 1 ` . @)
    odid @p |- ( ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) ->
                      N || ( ( A ^ ( ( od ` N ) ` A ) ) - 1 ) ) @=
      ? @.

    @( If the ` K ` -th power of ` M ` is ` 1 ` , then the order of ` M `
       divides ` K ` . @)
    oddvds @p |- ( ( ( N e. NN /\ A e. ZZ /\ ( A gcd N ) = 1 ) /\
                         ( K e. NN0 /\ N || ( ( A ^ K ) - 1 ) ) ) ->
                       ( ( od ` N ) ` A ) || K ) @=
      ? @.

    @( The multiplicative group of the integers mod ` P ^ K ` is cyclic, which
       is to say that there is an element whose order is the size of the group.
       @)
    prmcyc @p |- ( ( P e. Prime /\ K e. NN /\ N = ( P ^ K ) ) ->
                   E. x e. ( 1 ... ( N - 1 ) ) ( O ` x ) = ( N - 1 ) ) @=
      ? @.
    $)
  $}


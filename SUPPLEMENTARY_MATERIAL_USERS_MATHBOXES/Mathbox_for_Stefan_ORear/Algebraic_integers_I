$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    Algebraic integers I
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c _ZZ IntgOver $.

  $( Extend class notation with the integral-over predicate. $)
  citgo $a class IntgOver $.

  $( Extend class notation with the class of algebraic integers. $)
  cza $a class _ZZ $.

  ${
    $d x p s $.
    $( A complex number is said to be integral over a subset if it is the root
       of a monic polynomial with coefficients from the subset.  This
       definition is typically not used for fields but it works there, see
       ~ aaitgo .  This definition could work for subsets of an arbitrary ring
       with a more general definition of polynomials. $)
    df-itgo $a |- IntgOver = ( s e. ~P CC |-> { x e. CC | E. p e. ( Poly ` s )
        ( ( p ` x ) = 0 /\ ( ( coeff ` p ) ` ( deg ` p ) ) = 1 ) } ) $.

    $( Define an algebraic integer as a complex number which is the root of a
       monic integer polynomial. $)
    df-za $a |- _ZZ = ( IntgOver ` ZZ ) $.
  $}

  ${
    $d X x p s a b c $.  $d S x p s a b c $.  $d T x p s a b c $.
    $d P x p s a b c $.
    $( Value of the integral-over function.  (Contributed by Stefan O'Rear,
       27-Nov-2014.) $)
    itgoval $p |- ( S C_ CC -> ( IntgOver ` S ) = { x e. CC |
        E. p e. ( Poly ` S ) ( ( p ` x ) = 0 /\
          ( ( coeff ` p ) ` ( deg ` p ) ) = 1 ) } ) $=
      ( vs cc wss cpw wcel citgo cfv cv cc0 wceq cdgr ccoe cply wrex crab cnex
      c1 wa elpw2 fveq2 rexeqdv rabbidv df-itgo rabex fvmpt sylbir ) BEFBEGZHBI
      JAKCKZJLMUKNJUKOJJTMUAZCBPJZQZAERZMBESUBDBULCDKZPJZQZAERUOUJIUPBMZURUNAEU
      SULCUQUMUPBPUCUDUEADCUFUNAESUGUHUI $.
      $( [27-Nov-2014] $)

    $( The normal algebraic numbers ` AA ` are generated by ` IntgOver ` .
       (Contributed by Stefan O'Rear, 27-Nov-2014.) $)
    aaitgo $p |- AA = ( IntgOver ` QQ ) $=
      ( va vb caa cq cfv cv cc0 wceq cdgr ccoe c1 wa wrex cc wcel ax-mp c0p wne
      fveq2 cn0 citgo cply crab rabid qsscn itgoval eleq2i aacn mpaacl mpaaroot
      wss cmpaa cdgraa mpaadgr fveq2d mpaamn eqtrd fveq1 eqeq1d fveq12d anbi12d
      rcla4ev syl12anc jca csn cdif simpl cxp coe0 fveq1i dgr0 eqeltri fvconst2
      elexi eqtri ax-1ne0 necomi eqnetri neeq1d mpbiri necon2i ad2antll eldifsn
      0nn0 sylanbrc simprl reximi2 anim2i elqaa sylibr impbii 3bitr4ri eqriv )
      ACDUAEZAFZWOBFZEZGHZWPIEZWPJEZEZKHZLZBDUBEZMZANUCZOWONOZXELZWOWNOWOCOZXEA
      NUDWNXFWODNUKWNXFHUEADBUFPUGXIXHXIXGXEWOUHXIWOULEZXDOWOXJEZGHZXJIEZXJJEZE
      ZKHZXEWOUIWOUJXIXOWOUMEZXNEKXIXMXQXNWOUNUOWOUPUQXCXLXPLBXJXDWPXJHZWRXLXBX
      PXRWQXKGWOWPXJURUSXRXAXOKXRWSXMWTXNWPXJJSWPXJISUTUSVAVBVCVDXHXGWRBXDQVEVF
      ZMZLXIXEXTXGXCWRBXDXSWPXDOZXCLZWPXSOZWRYBYAWPQRZYCYAXCVGXBYDYAWRWPQXAKWPQ
      HZXAKRQIEZQJEZEZKRYHGKYHYFTGVEVHZEZGYFYGYIVIVJYFTOYJGHYFGTVKWDVLTGYFGTWDV
      NVMPVOKGVPVQVRYEXAYHKYEWSYFWTYGWPQJSWPQISUTVSVTWAWBWPXDQWCWEYAWRXBWFVDWGW
      HWOBWIWJWKWLWM $.
      $( [27-Nov-2014] $)

    $( An integral element is integral over a subset.  (Contributed by Stefan
       O'Rear, 27-Nov-2014.) $)
    itgoss $p |- ( ( S C_ T /\ T C_ CC ) ->
          ( IntgOver ` S ) C_ ( IntgOver ` T ) ) $=
      ( va vb wss cc wa cv cfv cc0 wceq cdgr ccoe c1 cply wrex crab syl itgoval
      citgo wi wral plyss ssrexv ralrimivw ss2rab sylibr sstr adantl 3sstr4d )
      ABEZBFEZGZCHDHZIJKUNLIUNMIINKGZDAOIZPZCFQZUODBOIZPZCFQZATIZBTIZUMUQUTUAZC
      FUBURVAEUMVDCFUMUPUSEVDABUCUODUPUSUDRUEUQUTCFUFUGUMAFEVBURKABFUHCADSRULVC
      VAKUKCBDSUIUJ $.
      $( [27-Nov-2014] $)

    $( All integral elements are complex numbers.  (Contributed by Stefan
       O'Rear, 27-Nov-2014.) $)
    itgocn $p |- ( IntgOver ` S ) C_ CC $=
      ( va vb vc citgo wcel cfv cc wss cv cc0 wceq cdgr ccoe cply wrex crab a1i
      c1 wa cdm cpw df-itgo dmmptss sseli cnex elpw2 itgoval ssrab2 eqsstrd syl
      sylbi wn c0 ndmfv 0ss pm2.61i ) AEUAZFZAEGZHIZUSAHUBZFZVAURVBABVBCJZDJZGK
      LVEMGVENGGSLTDBJZOGPCHQECBDUCUDUEVCAHIZVAAHUFUGVGUTVFVDGKLVDMGVDNGGSLTCAO
      GPZBHQZHBACUHVIHIVGVHBHUIRUJULUKUSUMZUTUNHAEUOUNHIVJHUPRUJUQ $.
      $( [27-Nov-2014] $)

  $}

  $(
  @{
    itgofg.s @e |- S = ( ( RingSpan ` CCfld ) ` ( B u. { X } ) ) @.
    itgofg.a @e |- A = ( ( subringAlg ` ( CCfld |` S ) ) ` B ) @.
    @( An element is finitely generated over a ring if and only adjoining it to
       the base ring results in a finitely spanned algebra. @)
    itgofg @p |- ( B e. ( SubRing ` CCfld ) -> ( X e. ( IntgOver ` B ) <->
          A e. LFinGen ) ) @=
      ? @.
  @}

  @{
    itgocllem.a @e |- S = ( ( RingSpan ` CCfld ) ` ( R u. { X } ) ) @.
    itgocllem.b @e |- T = ( ( RingSpan ` CCfld ) ` ( S u. { Y } ) ) @.
    itgocllem.c @e |- A = ( ( subringAlg ` ( CCfld |` S ) ) ` R ) @.
    itgocllem.d @e |- B = ( ( subringAlg ` ( CCfld |` T ) ) ` S ) @.
    itgocllem.e @e |- C = ( ( subringAlg ` ( CCfld |` T ) ) ` R ) @.
    itgocllem.f @e |- Z e. { ( X + Y ) , ( X x. Y ) } @.
    @( Integrality is transitive(?). @)
    itgocllem @p |- ( ( R e. ( SubRing ` CCfld ) /\ X e. ( IntgOver ` R ) /\
          Y e. ( IntgOver ` R ) ) -> Z e. ( IntgOver ` R ) ) @=
      ? @.
  @}
  $)


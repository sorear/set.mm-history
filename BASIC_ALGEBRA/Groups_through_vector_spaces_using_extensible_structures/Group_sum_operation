$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
                   Group sum operation
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c gsum $.

  $( Extend class notation to include finitely supported group sums. $)
  cgsu $a class gsum $.

  ${
    $d f g j m n o w x y z $.
    $( Define the group sum for the structure ` G ` of a finite sequence of
       elements whose values are defined by the expression ` B ` and whose set
       of indices is ` A ` .  It may be viewed as a product (if ` G ` is a
       multiplication), a sum (if ` G ` is an addition) or whatever.  The
       variable ` k ` is normally a free variable in ` B ` ( i.e. ` B ` can be
       thought of as ` B ( k ) ` ).  The definition is meaningful in four
       contexts, depending on the size of the index set ` A ` and each
       demanding different properties of ` G ` .

       1.  If ` A = (/) ` and ` G ` has an identity element, then the sum
       equals this identity.

       2.  If ` A = ( M ... N ) ` and ` G ` is any magma, then the sum is the
       sum of the elements, evaluated left-to-right, i.e.
       ` ( B ( 1 ) + B ( 2 ) ) + B ( 3 ) ` etc.

       3.  If ` A ` is a finite set (or is non-zero for finitely many indices)
       and ` G ` is commutative and associative, then the sum adds up these
       elements in some order, which is then uniquely defined.

       4.  If ` A ` is an infinite set and ` G ` is a Hausdorff topological
       group, then the sum is the limit with respect to the filter of sums of
       finitely many terms from ` A ` . $)
    df-gsum $a |- gsum = ( w e. _V , f e. _V |-> [_ { x e. ( Base ` w ) |
        A. y e. ( Base ` w )
          ( ( x ( +g ` w ) y ) = y /\ ( y ( +g ` w ) x ) = y ) } / o ]_
      if ( ran f C_ o , ( 0g ` w ) ,
      if ( dom f e. ran ... ,
        ( iota x E. m E. n e. ( ZZ>= ` m ) ( dom f = ( m ... n ) /\
          x = ( seq m ( ( +g ` w ) , f ) ` n ) ) ) ,
      ( iota x E. g [ ( `' f " ( _V \ o ) ) / y ]
        ( g : ( 1 ... ( # ` y ) ) -1-1-onto-> y /\
          x = ( seq 1 ( ( +g ` w ) , ( f o. g ) ) ` ( # ` y ) ) ) ) ) ) ) $.
  $}

  ${
    $d k F $.  $d k ph $.  $d k W $.  $d k Z $.
    suppss.f $e |- ( ph -> F : A --> B ) $.
    suppss.n $e |- ( ( ph /\ k e. ( A \ W ) ) -> ( F ` k ) = Z ) $.
    $( Show that the support of a function is contained in a set. $)
    suppss $p |- ( ph -> ( `' F " ( _V \ { Z } ) ) C_ W ) $=
      ( ccnv cvv csn cdif cima cv wcel cfv wa wf wfn ffn elpreima 3syl wne fvex
      wb eldifsn mpbiran wceq eldif sylan2br expr necon1ad syl5bi expimpd ssrdv
      wn sylbid ) ADEJKGLMZNZFADOZUTPZVABPZVAEQZUSPZRZVAFPZABCESEBTVBVFUFHBCEUA
      BVAUSEUBUCAVCVEVGVEVDGUDZAVCRZVGVEVDKPVHVDKGUGVAEUEUHVIVGVDGAVCVGUQZVDGUI
      ZVCVJRAVABFMPVKVABFUJIUKULUMUNUOURUP $.
      $( [19-Dec-2014] $)
  $}

  ${
    suppssr.f $e |- ( ph -> F : A --> B ) $.
    suppssr.n $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) C_ W ) $.
    $( A function is zero outside its support. $)
    suppssr $p |- ( ( ph /\ X e. ( A \ W ) ) -> ( F ` X ) = Z ) $=
      ( cdif wcel wn wa cfv wceq eldif wne cvv csn eldifsn fvex mpbiran ccnv wf
      cima wfn wb ffn elpreima 3syl sseld sylbird expdimp syl5bir necon1bd impr
      sylan2b ) FBEJKAFBKZFEKZLZMFDNZGOZFBEPAURUTVBAURMZUSVAGVAGQZVARGSJZKZVCUS
      VFVARKVDVARGTFDUAUBAURVFUSAURVFMZFDUCVEUEZKZUSABCDUDDBUFVIVGUGHBCDUHBFVED
      UIUJAVHEFIUKULUMUNUOUPUQ $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d k x y A $.  $d x y B $.  $d k x ph $.  $d k x y W $.  $d k x y Z $.
    suppss2.n $e |- ( ( ph /\ k e. ( A \ W ) ) -> B = Z ) $.
    $( Show that the support of a function is contained in a set. $)
    suppss2 $p |- ( ph -> ( `' ( k e. A |-> B ) " ( _V \ { Z } ) ) C_ W ) $=
      ( vx vy cvv mpbi cv cfv wceq cdif wral wcel wa adantl ax-17 cmpt cdm wfun
      wf wfn funmpt funfn dffn2 a1i crab eldifi eqid dmmpt syl6eleq rabid sylib
      simpld simprd fvmpt2 syl2anc eldifn eldif sylanbrc syldan eqtrd ralrimiva
      wn hbmpt1 hbdm hbdif hbfv hbeq fveq2 eqeq1d cbvralf r19.21bi suppss ) ADB
      CUAZUBZJHVREFVSJVRUDZAVRVSUEZVTVRUCWADBCUFVRUGKVSVRUHKUIAHLZVRMZFNZHVSEOZ
      ADLZVRMZFNZDWEPWDHWEPAWHDWEAWFWEQZRZWGCFWJWFBQZCJQZWGCNWJWKWLWJWFWLDBUJZQ
      WKWLRWJWFVSWMWIWFVSQAWFVSEUKSDBCVRVRULZUMUNWLDBUOUPZUQZWJWKWLWOURDBCJVRWN
      USUTAWIWFBEOQZCFNWJWKWFEQVGZWQWPWIWRAWFVSEVASWFBEVBVCGVDVEVFWHWDDHIWEDIVS
      EDIVRDIBCVHZVIILZEQDTVJWTWEQHTWHHTDIIWCFDIWBVRWSWTWBQDTVKWTFQDTVLWFWBNWGW
      CFWFWBVRVMVNVOUPVPVQ $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d x y B $.  $d x y G $.  $d x y P $.  $d x V $.  $d x y Z $.
    gsumvallem1.b $e |- B = ( Base ` G ) $.
    gsumvallem1.z $e |- Z = ( 0g ` G ) $.
    gsumvallem1.p $e |- P = ( +g ` G ) $.
    gsumvallem1.o $e |- O = { x e. B |
      A. y e. B ( ( x P y ) = y /\ ( y P x ) = y ) } $.
    $( Lemma for properties of the set of identities of ` G ` .  Either ` G `
       has no identities, and ` O = (/) ` , or it has one and this identity is
       unique and identified by the ` 0g ` function. $)
    gsumvallem1 $p |- ( G e. V -> O C_ { Z } ) $=
      ( wcel cv co wceq wa wral crab sylibr csn wi wss crio cio grpidval adantr
      wreu wrex wmo ra4e adantl mgmidmo a1i sylanbrc riotaiota simprr wb simprl
      reu5 syl reiota1 syl2anc mpbid 3eqtrrd elsn expr ralrimiva rabss syl5eqss
      ) EGMZFANZBNZDOVMPVMVLDOVMPQBCRZACSZHUAZLVKVNVLVPMZUBZACRVOVPUCVKVRACVKVL
      CMZVNVQVKVSVNQZQZVLHPVQWAHVNACUDZVTAUEZVLVKHWBPVTBCDAEHGIKJUFUGWAVNACUHZW
      BWCPWAVNACUIZVTAUJZWDVTWEVKVNACUKULWFWABACDUMUNVNACUTUOZVNACUPVAWAVNWCVLP
      ZVKVSVNUQWAVSWDVNWHURVKVSVNUSWGVNACVBVCVDVEAHVFTVGVHVNACVPVITVJ $.
      $( [7-Dec-2014] $)

    $( Lemma for properties of the set of identities of ` G ` .  The set of
       identities of a group is exactly the unique identity element. $)
    gsumvallem2 $p |- ( G e. Grp -> O = { Z } ) $=
      ( cgrp wcel csn cv co wceq wa wral eqeq1d grpidcl grplid grprid ralrimiva
      gsumvallem1 jca oveq1 oveq2 anbi12d ralbidv elrab2 sylanbrc snssd eqssd )
      ELMZFGNABCDEFLGHIJKUEUOGFUOGCMGBOZDPZUPQZUPGDPZUPQZRZBCSZGFMCEGHIUAUOVABC
      UOUPCMRURUTCDEGUPHJIUBCDEGUPHJIUCUFUDAOZUPDPZUPQZUPVCDPZUPQZRZBCSVBAGCFVC
      GQZVHVABCVIVEURVGUTVIVDUQUPVCGUPDUGTVIVFUSUPVCGUPDUHTUIUJKUKULUMUN $.
      $( [7-Dec-2014] $)
  $}

  ${
    $d f g j m n o w x y z F $.  $d f g j m n o w x y z G $.  $d g j o w y W $.
    $d g o w A $.  $d s t x y B $.  $d f g j m n o w x y z ph $.  $d g o w Z $.
    $d j z J $.  $d f g j m n o w x y z O $.  $d g j o s t w x y P $.
    $d y S $.
    gsumval.b $e |- B = ( Base ` G ) $.
    gsumval.z $e |- Z = ( 0g ` G ) $.
    gsumval.p $e |- P = ( +g ` G ) $.
    gsumval.o $e |- O = { s e. B |
      A. t e. B ( ( s P t ) = t /\ ( t P s ) = t ) } $.
    gsumval.w $e |- ( ph -> W = ( `' F " ( _V \ O ) ) ) $.
    gsumval.g $e |- ( ph -> G e. V ) $.
    gsumval.a $e |- ( ph -> A e. X ) $.
    gsumval.f $e |- ( ph -> F : A --> B ) $.
    $( Expand out the substitutions in ~ df-gsum .  (Contributed by Mario
       Carneiro, 7-Dec-2014.) $)
    gsumval $p |- ( ph -> ( G gsum F ) = if ( ran F C_ O , Z ,
      if ( A e. ran ... , ( iota x E. m E. n e. ( ZZ>= ` m )
        ( A = ( m ... n ) /\ x = ( seq m ( P , F ) ` n ) ) ) ,
      ( iota x E. f ( f : ( 1 ... ( # ` W ) ) -1-1-onto-> W /\
          x = ( seq 1 ( P , ( F o. f ) ) ` ( # ` W ) ) ) ) ) ) ) $=
      ( vw vg vo vy cvv cv cplusg cfv co wceq cbs wral crab crn wss c0g cdm cfz
      wa wcel cseq cuz wrex wex cio chash wf1o ccom ccnv cdif cima wsbc cif csb
      c1 cmpt2 df-gsum a1i simprl fveq2d syl6eqr oveqd eqeq1d anbi12d raleqbidv
      cgsu rabeqbidv oveq2 eqeq12d oveq1 cbvralv ralbidv syl5bb cbvrabv csbeq1d
      id eqtri fvex eqeltri rabex simplrr rneqd simpr sseq12d dmeqd wf ad2antrr
      adantr fdm syl eqtrd eleq1d seqeq2d seqeq3d fveq1d eqeq2d exbidv iotabidv
      rexbidv wb cnveqd imaeq1d difeq2d imaeq2d eqtr4d dfsbcq cxp fssxp sylancl
      xpexg adantl bitrd ifbieq12d iotaex ifex ssexg syl2anc cnvexg imaexg 3syl
      eqeltrd fveq2 oveq2d f1oeq2 f1oeq3 coeq1d fveq12d sbcied csbied ovmpt2d
      elex ) AUFUGKJUJUJUHBUKZUIUKZUFUKZULUMZUNZUURUOZUURUUQUUTUNZUURUOZVDZUIUU
      SUPUMZUQZBUVFURZUGUKZUSZUHUKZUTZUUSVAUMZUVIVBZVCUSZVEZUVNHUKZIUKZVCUNZUOZ
      UUQUVRUUTUVIUVQVFZUMZUOZVDZIUVQVGUMZVHZHVIZBVJZVTUURVKUMZVCUNZUURGUKZVLZU
      UQUWIUUTUVIUWKVMZVTVFZUMZUOZVDZUIUVIVNZUJUVKVOZVPZVQZGVIZBVJZVRZVRZVSZJUS
      ZLUTZPDUVOVEZDUVSUOZUUQUVRFJUVQVFZUMZUOZVDZIUWEVHZHVIZBVJZVTNVKUMZVCUNZNU
      WKVLZUUQUXRFJUWKVMZVTVFZUMZUOZVDZGVIZBVJZVRZVRZWKUJWKUFUGUJUJUXFWAUOABUIU
      FUGGHIUHWBWCAUUSKUOZUVIJUOZVDZVDZUXFUHLUXEVSUYIUYMUHUVHLUXEUYMUVHUUQUURFU
      NZUURUOZUURUUQFUNZUURUOZVDZUIEUQZBEURZLUYMUVGUYSBUVFEUYMUVFKUPUMZEUYMUUSK
      UPAUYJUYKWDZWERWFZUYMUVEUYRUIUVFEVUCUYMUVBUYOUVDUYQUYMUVAUYNUURUYMUUTFUUQ
      UURUYMUUTKULUMFUYMUUSKULVUBWETWFZWGWHUYMUVCUYPUURUYMUUTFUURUUQVUDWGWHWIWJ
      WLLQUKZCUKZFUNZVUFUOZVUFVUEFUNZVUFUOZVDZCEUQZQEURUYTUAVULUYSQBEVULVUEUURF
      UNZUURUOZUURVUEFUNZUURUOZVDZUIEUQVUEUUQUOZUYSVUKVUQCUIEVUFUURUOZVUHVUNVUJ
      VUPVUSVUGVUMVUFUURVUFUURVUEFWMVUSXAZWNVUSVUIVUOVUFUURVUFUURVUEFWOVUTWNWIW
      PVURVUQUYRUIEVURVUNUYOVUPUYQVURVUMUYNUURVUEUUQUURFWOWHVURVUOUYPUURVUEUUQU
      URFWMWHWIWQWRWSXBZWFWTUYMUHLUXEUYIUJLUJVEUYMLUYTUJVVAUYSBEEVUAUJRKUPXCXDZ
      XEXDWCUYMUVKLUOZVDZUVLUXHUVMUXDPUYHVVDUVJUXGUVKLVVDUVIJAUYJUYKVVCXFZXGUYM
      VVCXHZXIVVDUVMKVAUMZPVVDUUSKVAUYMUYJVVCVUBXMWESWFVVDUVPUXIUWHUXCUXQUYGVVD
      UVNDUVOVVDUVNJVBZDVVDUVIJVVEXJVVDDEJXKZVVHDUOAVVIUYLVVCUEXLDEJXNXOXPZXQVV
      DUWGUXPBVVDUWFUXOHVVDUWDUXNIUWEVVDUVTUXJUWCUXMVVDUVNDUVSVVJWHVVDUWBUXLUUQ
      VVDUVRUWAUXKVVDUWAFUVIUVQVFUXKVVDUUTFUVIUVQUYMUUTFUOVVCVUDXMZXRVVDUVIJFUV
      QVVEXSXPXTYAWIYDYBYCVVDUXBUYFBVVDUXAUYEGVVDUXAUWQUINVQZUYEVVDUWTNUOUXAVVL
      YEVVDUWTJVNZUWSVPZNVVDUWRVVMUWSVVDUVIJVVEYFYGVVDVVNVVMUJLVOZVPZNVVDUWSVVO
      VVMVVDUVKLUJVVFYHYIANVVPUOUYLVVCUBXLYJXPUWQUIUWTNYKXOVVDUWQUYEUINUJANUJVE
      UYLVVCANVVPUJUBAJUJVEZVVMUJVEVVPUJVEAJDEYLZUTZVVRUJVEZVVQAVVIVVSUEDEJYMXO
      ADOVEEUJVEVVTUDVVBDEOUJYOYNJVVRUJUUAUUBZJUJUUCVVMVVOUJUUDUUEUUFXLVVDUURNU
      OZVDZUWLUXTUWPUYDVWCUWLUXSUURUWKVLZUXTVWCUWJUXSUOUWLVWDYEVWCUWIUXRVTVCVWB
      UWIUXRUOVVDUURNVKUUGYPZUUHUWJUXSUURUWKUUIXOVWBVWDUXTYEVVDUURNUXSUWKUUJYPY
      QVWCUWOUYCUUQVWCUWIUXRUWNUYBVVDUWNUYBUOVWBVVDUWNFUWMVTVFUYBVVDUUTFUWMVTVV
      KXRVVDUWMUYAFVTVVDUVIJUWKVVEUUKXSXPXMVWEUULYAWIUUMYQYBYCYRYRUUNXPAKMVEKUJ
      VEUCKMUUPXOVWAUYIUJVEAUXHPUYHPVVGUJSKVAXCXDUXIUXQUYGUXPBYSUYFBYSYTYTWCUUO
      $.
      $( [7-Dec-2014] $)
  $}

  ${
    $d f m n x y z B $.  $d f m n x y z G $.  $d f m n x y z H $.  $d x y Z $.
    $d f m n z F $.  $d f m n x y z P $.  $d f m n x z ph $.  $d y V $.
    gsumress.b $e |- B = ( Base ` G ) $.
    gsumress.o $e |- P = ( +g ` G ) $.
    gsumress.h $e |- H = ( G |`s S ) $.
    gsumress.g $e |- ( ph -> G e. V ) $.
    gsumress.a $e |- ( ph -> A e. X ) $.
    gsumress.s $e |- ( ph -> S C_ B ) $.
    gsumress.f $e |- ( ph -> F : A --> S ) $.
    gsumress.z $e |- ( ph -> Z e. S ) $.
    gsumress.c $e |- ( ( ph /\ x e. B ) ->
      ( ( Z P x ) = x /\ ( x P Z ) = x ) ) $.
    $( The group sum in a substructure is the same as the group sum in the
       original structure.  The only requirement on the substructure is that it
       contain the identity element; neither ` G ` nor ` H ` need be groups.
       (Contributed by Mario Carneiro, 19-Dec-2014.) $)
    gsumress $p |- ( ph -> ( G gsum F ) = ( H gsum F ) ) $=
      ( vy vm vn vz vf crn cv wceq wral crab wss c0g cfv cfz wcel cseq cuz wrex
      co wa wex cio c1 ccnv cvv csn cdif cima chash wf1o ccom cif cbs ralrimiva
      cgsu sseldd oveq1 eqeq1d oveq2 anbi12d ralbidv elrab sylanbrc gsumvallem1
      snssd eqid syl elsni sneqd sseqtr4d eqssd ressbas2 eqsstr3d sselda syldan
      eleqtrd cress eqeltri a1i ressplusg eqtr3d sseq2d eqidd ifbieq12d difeq2d
      ovex imaeq2d wf fss syl2anc gsumval wb feq3 mpbid 3eqtr4d ) AGUGZUBUHZBUH
      ZEUTZXSUIZXSXREUTZXSUIZVAZBDUJZUBDUKZULZHUMUNZCUOUGUPCUCUHZUDUHZUOUTUIUEU
      HZYJEGYIUQUNUIVAUDYIURUNUSUCVBUEVCVDGVEZVFLVGZVHZVIZVJUNZUOUTYOUFUHZVKYKY
      PEGYQVLVDUQUNUIVAUFVBUEVCVMZVMXQYDBIVNUNZUJZUBYSUKZULZIUMUNZYRVMHGVPUTIGV
      PUTAYGUUBYHYRUUCYRAYFUUAXQAYMYFUUAAYMYFALYFALDUPLXSEUTZXSUIZXSLEUTZXSUIZV
      AZBDUJZLYFUPAFDLRTVQAUUHBDUAVOYEUUIUBLDXRLUIZYDUUHBDUUJYAUUEYCUUGUUJXTUUD
      XSXRLXSEVRVSUUJYBUUFXSXRLXSEVTVSWAZWBWCWDZWFAYFYHVGZYMAHJUPYFUUMULPUBBDEH
      YFJYHMYHWGZNYFWGZWEWHZALYHALUUMUPLYHUIAYFUUMLUUPUULVQLYHWIWHZWJWKWLZAYMUU
      AALUUAALYSUPUUHBYSUJZLUUAUPALFYSTAFDULZFYSUIZRFDIHOMWMWHZWQAUUHBYSAXSYSUP
      XSDUPUUHAYSDXSAYSFDUVBRWNWOUAWPVOYTUUSUBLYSUUJYDUUHBYSUUKWBWCWDZWFAUUAUUC
      VGZYMAIVFUPZUUAUVDULUVEAIHFWRUTVFOHFWRXGWSWTZUBBYSEIUUAVFUUCYSWGZUUCWGZFE
      HIONXAZUUAWGZWEWHZALUUCALUVDUPLUUCUIAUUAUVDLUVKUVCVQLUUCWIWHZWJWKWLZXBXCA
      LYHUUCUUQUVLXBAYRXDXEAUEBCDEUFUCUDGHYFJYOKYHUBMUUNNUUOAYNVFYFVHYLAYMYFVFU
      URXFXHPQACFGXIZUUTCDGXISRCFDGXJXKXLAUEBCYSEUFUCUDGIUUAVFYOKUUCUBUVGUVHUVI
      UVJAYNVFUUAVHYLAYMUUAVFUVMXFXHUVFQAUVNCYSGXIZSAUVAUVNUVOXMUVBFYSCGXNWHXOX
      LXP $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d x G $.  $d x H $.  $d x ph $.
    gsumsubg.a $e |- ( ph -> A e. V ) $.
    gsumsubg.s $e |- ( ph -> S e. ( SubGrp ` G ) ) $.
    gsumsubg.f $e |- ( ph -> F : A --> S ) $.
    gsumsubg.h $e |- H = ( G |`s S ) $.
    $( Evaluate a group sum in a subgroup.  (Contributed by Mario Carneiro,
       19-Dec-2014.) $)
    gsumsubg $p |- ( ph -> ( G gsum F ) = ( H gsum F ) ) $=
      ( vx cfv cgrp eqid wcel syl co wceq wa cbs cplusg c0g subgrcl wss subg0cl
      csubg subgss cv grplid grprid jca sylan gsumress ) ALBEUAMZEUBMZCDEFNGEUC
      MZUOOZUPOZKACEUGMPZENPZICEUDQZHAUTCUOUEIUOCEURUHQJAUTUQCPICEUQUQOZUFQAVAL
      UIZUOPZUQVDUPRVDSZVDUQUPRVDSZTVBVAVETVFVGUOUPEUQVDURUSVCUJUOUPEUQVDURUSVC
      UKULUMUN $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d f m n z F $.  $d f m n z G $.  $d f m n z O $.  $d f m n z ph $.
    $d x y z B $.  $d x y z P $.
    gsumval1.b $e |- B = ( Base ` G ) $.
    gsumval1.z $e |- Z = ( 0g ` G ) $.
    gsumval1.p $e |- P = ( +g ` G ) $.
    gsumval1.o $e |- O = { x e. B |
      A. y e. B ( ( x P y ) = y /\ ( y P x ) = y ) } $.
    gsumval1.g $e |- ( ph -> G e. V ) $.
    gsumval1.a $e |- ( ph -> A e. W ) $.
    gsumval1.f $e |- ( ph -> F : A --> O ) $.
    $( Value of the group sum operation when every element being summed is an
       identity of ` G ` . $)
    gsumval1 $p |- ( ph -> ( G gsum F ) = Z ) $=
      ( cv vm vn vz vf cgsu co crn wss cfz wcel wceq cseq cfv wa cuz wex cio c1
      wrex ccnv cvv cdif cima chash wf1o ccom eqidd wf wral crab ssrab2 eqsstri
      cif fss sylancl gsumval frn syl iftrue eqtrd ) AHGUEUFGUGIUHZLDUIUGUJDUAT
      ZUBTZUIUFUKUCTZWCFGWBULUMUKUNUBWBUOUMUSUAUPUCUQURGUTVAIVBVCZVDUMZUIUFWEUD
      TZVEWDWFFGWGVFURULUMUKUNUDUPUCUQVMZVMZLAUCCDEFUDUAUBGHIJWEKLBMNOPAWEVGQRA
      DIGVHZIEUHDEGVHSIBTZCTZFUFWLUKWLWKFUFWLUKUNCEVIZBEVJEPWMBEVKVLDIEGVNVOVPA
      WAWILUKAWJWASDIGVQVRWALWHVSVRVT $.
      $( [7-Dec-2014] $)
  $}

  ${
    $d f g m n o w x y $.  $d k A $.  $d k x y G $.  $d k V $.  $d x y Z $.
    gsum0.z $e |- Z = ( 0g ` G ) $.
    $( Value of the empty group sum. $)
    gsum0 $p |- ( G gsum (/) ) = Z $=
      ( vx vy vw vf vo vm vn vg cvv wcel c0 cgsu co wceq cfv cv wa wral crab id
      cbs cplusg eqid 0ex a1i wf gsumval1 crn wss c0g cdm cfz cseq cuz wrex wex
      f0 wn cio c1 chash wf1o ccom ccnv cdif cima wsbc cif csb reldmmpt2 ovprc1
      df-gsum fvprc syl5eq eqtr4d pm2.61i ) ALMZANOPZBQVTDENAUDRZAUERZNADSZESZW
      CPWEQWEWDWCPWEQTEWBUADWBUBZLLBWBUFCWCUFWFUFVTUCNLMVTUGUHNWFNUIVTWFUTUHUJV
      TVAZWANBANOFGLLHWDWEFSZUERZPWEQWEWDWIPWEQTEWHUDRZUADWJUBGSZUKHSZULWHUMRWK
      UNZUOUKMWMISZJSZUOPQWDWOWIWKWNUPRQTJWNUQRURIUSDVBVCWEVDRZUOPWEKSZVEWDWPWI
      WKWQVFVCUPRQTEWKVGLWLVHVIVJKUSDVBVKVKVLODEFGKIJHVOVMVNWGBAUMRNCAUMVPVQVRV
      S $.
      $( [7-Dec-2014] $)

    $( Value of a group sum over the zero element. $)
    gsumz $p |- ( ( G e. Grp /\ A e. V ) ->
      ( G gsum ( k e. A |-> Z ) ) = Z ) $=
      ( vx vy cgrp wcel wa cbs cfv cplusg cv co wceq wral eqid eqeq1d cmpt crab
      simpl simpr grpidcl grplid grprid jca ralrimiva oveq1 oveq2 anbi12d elrab
      ralbidv sylanbrc ad2antrr fmptd gsumval1 ) CIJZADJZKZGHACLMZCNMZBAEUAZCGO
      ZHOZVCPZVFQZVFVEVCPZVFQZKZHVBRZGVBUBZIDEVBSZFVCSZVMSUSUTUCUSUTUDVABAEVMVD
      USEVMJZUTBOAJUSEVBJEVFVCPZVFQZVFEVCPZVFQZKZHVBRZVPVBCEVNFUEUSWAHVBUSVFVBJ
      KVRVTVBVCCEVFVNVOFUFVBVCCEVFVNVOFUGUHUIVLWBGEVBVEEQZVKWAHVBWCVHVRVJVTWCVG
      VQVFVEEVFVCUJTWCVIVSVFVEEVFVCUKTULUNUMUOUPVDSUQUR $.
      $( [7-Dec-2014] $)
  $}

  ${
    $d x y z B $.  $d f m n x y z G $.  $d m n z M $.  $d m n z N $.  $d x V $.
    $d f m n z F $.  $d f m n z O $.  $d m n x y z P $.  $d f m n z ph $.
    gsumval2.b $e |- B = ( Base ` G ) $.
    gsumval2.p $e |- P = ( +g ` G ) $.
    gsumval2.g $e |- ( ph -> G e. V ) $.
    gsumval2.n $e |- ( ph -> N e. ( ZZ>= ` M ) ) $.
    gsumval2.f $e |- ( ph -> F : ( M ... N ) --> B ) $.
    ${
      gsumval2a.o $e |- O = { x e. B |
        A. y e. B ( ( x P y ) = y /\ ( y P x ) = y ) } $.
      gsumval2a.f $e |- ( ph -> -. ran F C_ O ) $.
      $( Value of the group sum operation over a finite set of sequential
         integers. $)
      gsumval2a $p |- ( ph -> ( G gsum F ) = ( seq M ( P , F ) ` N ) ) $=
        ( cfz wceq vm vn vz vf cgsu co cv cseq cfv cuz wrex wex cio crn wss c0g
        wa wcel c1 ccnv cvv cdif cima chash wf1o ccom cif eqid ovex a1i gsumval
        eqidd wn iffalse syl cz eluzel2 eluzelz cxp wfn cpw wf fzf ax-mp fnovrn
        ffn mp3an1 syl2anc iftrue 3eqtrd wb wi vex fzopth sylancl simpl seqeq1d
        fvex simpr fveq12d eqcomd eqeq1 syl5ibrcom syl6bi imp3a rexlimdvw oveq2
        exlimdv adantr biantrurd fveq2 eqeq2d bitr3d rcla4ev sylan oveq1 seqeq1
        fveq1d anbi12d rexeqbidv cla4egv sylc ex impbid iota5 mpan2 eqtrd ) AGF
        UEUFZHISUFZUAUGZUBUGZSUFZTZUCUGZYKEFYJUHZUIZTZUQZUBYJUJUIZUKZUAULZUCUMZ
        IEFHUHZUIZAYHFUNJUOZGUPUIZYISUNURZUUBUSFUTVAJVBVCZVDUIZSUFUUHUDUGZVEYNU
        UIEFUUJVFUSUHUITUQUDULUCUMZVGZVGZUULUUBAUCCYIDEUDUAUBFGJKUUHVAUUFBLUUFV
        HMQAUUHVLNYIVAURAHISVIVJPVKAUUEVMUUMUULTRUUEUUFUULVNVOAUUGUULUUBTAHVPUR
        ZIVPURZUUGAIHUJUIZURZUUNOHIVQVOZAUUQUUOOHIVRVOSVPVPVSZVTZUUNUUOUUGUUSVP
        WAZSWBUUTWCUUSUVASWFWDVPVPHISWEWGWHUUGUUBUUKWIVOWJAUUDVAURZUUBUUDTIUUCW
        RAUUAUCUUDVAAUUAYNUUDTZWKUVBAUUAUVCAYTUVCUAAYRUVCUBYSAYMYQUVCAYMHYJTZIY
        KTZUQZYQUVCWLAUUQYKVAURYMUVFWKOUBWMVAYJYKHIWNWOUVFUVCYQYPUUDTUVFUUDYPUV
        FIYKUUCYOUVFHYJEFUVDUVEWPWQUVDUVEWSWTXAYNYPUUDXBXCXDXEXFXHAUVCUUAAUVCUQ
        UUNYIHYKSUFZTZYNYKUUCUIZTZUQZUBUUPUKZUUAAUUNUVCUURXIAUUQUVCUVLOUVKUVCUB
        IUUPYKITZUVJUVKUVCUVMUVHUVJUVMUVGYIYKIHSXGXAXJUVMUVIUUDYNYKIUUCXKXLXMXN
        XOYTUVLUAHVPYJHTZYRUVKUBYSUUPYJHUJXKUVNYMUVHYQUVJUVNYLUVGYIYJHYKSXPXLUV
        NYPUVIYNUVNYKYOUUCEFYJHXQXRXLXSXTYAYBYCYDXIYEYFYG $.
        $( [7-Dec-2014] $)
    $}

    $( Value of the group sum operation over a finite set of sequential
       integers. $)
    gsumval2 $p |- ( ph -> ( G gsum F ) = ( seq M ( P , F ) ` N ) ) $=
      ( vx vy co wceq wcel adantr c0 vz crn wral crab wss cgsu cseq cfv c0g cfz
      cv wa cvv eqid ovex a1i wfn wf ffn syl simpr df-f sylanbrc gsumval1 simpl
      wi ralimi ss2rabi csn fvex snid wne cdm fdm cuz eluzfz1 ne0i 3syl eqnetrd
      dm0rn0 necon3bii sylib ssn0 syl2anc df-ne gsumvallem1 sssn orcanai syldan
      wn wo syl5eleqr sseldi oveq1 ralbidv elrab oveq2 id eqeq12d rcla4va sylbi
      eqeq1d ad2antrr ffvelrn sylan sseldd seqid3 eqtr4d ex gsumval2a pm2.61d
      elsni ) ADUBZNUKZOUKZCPZXOQZXOXNCPXOQZULZOBUCZNBUDZUEZEDUFPZGCDFUGUHZQZAY
      BYEAYBULZYCEUIUHZYDYFNOFGUJPZBCDEYAHUMYGIYGUNZJYAUNZAEHRZYBKSYHUMRYFFGUJU
      OUPYFDYHUQZYBYHYADURZAYLYBAYHBDURZYLMYHBDUSUTSAYBVAZYHYADVBVCZVDYFUACDFGY
      GYFYGXQOBUCZNBUDZRZYGYGCPZYGQZYFYAYRYGXTYQNBXTYQVFXNBRXSXQOBXQXRVEVGUPVHY
      FYGYGVIZYAYGEUIVJVKAYBYATQZWJZYAUUBQZYFYATVLZUUDYFYBXMTVLZUUFYOAUUGYBADVM
      ZTVLUUGAUUHYHTAYNUUHYHQMYHBDVNUTAGFVOUHRZFYHRYHTVLLFGVPYHFVQVRVSUUHTXMTDV
      TWAWBSXMYAWCWDYATWEWBAUUCUUEAYAUUBUEZUUCUUEWKAYKUUJKNOBCEYAHYGIYIJYJWFUTZ
      YAYGWGWBWHWIWLWMYSYGBRYGXOCPZXOQZOBUCZULUUAYQUUNNYGBXNYGQZXQUUMOBUUOXPUUL
      XOXNYGXOCWNXBWOWPUUMUUAOYGBXOYGQZUULYTXOYGXOYGYGCWQUUPWRWSWTXAUTAUUIYBLSY
      FUAUKZYHRZULZUUQDUHZUUBRUUTYGQUUSYAUUBUUTAUUJYBUURUUKXCYFYMUURUUTYARYPYHY
      AUUQDXDXEXFUUTYGXLUTXGXHXIAYBWJZYEAUVAULNOBCDEFGYAHIJAYKUVAKSAUUIUVALSAYN
      UVAMSYJAUVAVAXJXIXK $.
      $( [7-Dec-2014] $)
  $}

  ${
    $d f g m n x y z G $.  $d f g k m n x y z ph $.  $d x V $.  $d g x y z Z $.
    $d f g k m n x y z A $.  $d f g k m n x y z B $.  $d f g k m n x y z F $.
    $d f g k m n x y z H $.  $d f g k m n x y z P $.  $d f g k m n x y z W $.
    $d f k m n x y z M $.
    gsumval3.b $e |- B = ( Base ` G ) $.
    gsumval3.z $e |- Z = ( 0g ` G ) $.
    gsumval3.p $e |- P = ( +g ` G ) $.
    gsumval3.g $e |- ( ph -> G e. Abel ) $.
    gsumval3.a $e |- ( ph -> A e. V ) $.
    gsumval3.f $e |- ( ph -> F : A --> B ) $.
    ${
      gsumval3a.t $e |- ( ph -> W e. Fin ) $.
      gsumval3a.n $e |- ( ph -> W =/= (/) ) $.
      ${
        gsumval3a.w $e |- W = ( `' F " ( _V \ { Z } ) ) $.
        gsumval3a.i $e |- ( ph -> -. A e. ran ... ) $.
        $( Value of the group sum operation over an index set with finite
           support. $)
        gsumval3a $p |- ( ph -> ( G gsum F ) = ( iota x E. f
          ( f : ( 1 ... ( # ` W ) ) -1-1-onto-> W /\
            x = ( seq 1 ( P , ( F o. f ) ) ` ( # ` W ) ) ) ) ) $=
          ( vz vy vm vn cgsu co crn cv wceq wral crab wss cfz wcel cseq cfv cuz
          wa wrex wex cio chash wf1o ccom cif cabel eqid ccnv cvv cdif cima csn
          c1 cgrp ablgrp gsumvallem2 difeq2d imaeq2d syl6reqr gsumval wn c0 wne
          3syl sseq2d wf cin wfn ffn syl adantr simpr df-f sylanbrc fimacnvdisj
          disjdif sylancl syl5eq ex sylbid necon3ad mpd iffalse 3eqtrd ) AHGUFU
          GGUHZUBUIZUCUIZEUGXHUJXHXGEUGXHUJUSUCDUKUBDULZUMZKCUNUHUOZCUDUIZUEUIZ
          UNUGUJBUIZXMEGXLUPUQUJUSUEXLURUQUTUDVABVBZVNJVCUQZUNUGJFUIZVDXNXPEGXQ
          VEVNUPUQUJUSFVABVBZVFZVFZXSXRABUCCDEFUDUEGHXIVGJIKUBLMNXIVHZAGVIZVJXI
          VKZVLYBVJKVMZVKZVLZJAYCYEYBAXIYDVJAHVGUOHVOUOXIYDUJOHVPUBUCDEHXIKLMNY
          AVQWEZVRVSTVTOPQWAAXJWBZXTXSUJAJWCWDYHSAXJJWCAXJXFYDUMZJWCUJZAXIYDXFY
          GWFAYIYJAYIUSZJYFWCTYKCYDGWGZYDYEWHWCUJYFWCUJYKGCWIZYIYLAYMYIACDGWGYM
          QCDGWJWKWLAYIWMCYDGWNWOYDVJWQCYDYEGWPWRWSWTXAXBXCXJKXSXDWKAXKWBXSXRUJ
          UAXKXOXRXDWKXE $.
          $( [7-Dec-2014] $)
      $}

      gsumval3a.s $e |- ( ph -> W C_ A ) $.
      $( The group sum as defined in ~ gsumval3a is uniquely defined.
         (Contributed by Mario Carneiro, 8-Dec-2014.) $)
      gsumval3eu $p |- ( ph -> E! x E. f
        ( f : ( 1 ... ( # ` W ) ) -1-1-onto-> W /\
          x = ( seq 1 ( P , ( F o. f ) ) ` ( # ` W ) ) ) ) $=
        ( vg vy vz vk c1 chash cfv cfz co cv wf1o ccom cseq wceq wa wex wal weu
        wi cn wcel c0 wn wne df-ne sylib cfn wo fz1f1o syl ord mpd simprd excom
        exancom fvex biidd ceqsexv bitri exbii sylibr eeanv an4 ccnv cgrp cabel
        adantr ablgrp grpcl 3expb ablcom w3a grpass simpld nnuz syl6eleq simprr
        sylan cuz f1ocnv simprl f1oco syl2anc wf wss f1of fss fco ffvelrn fvco3
        fveq2d f1ocnvfv2 eqtr2d syldan 3eqtr4d seqf1o eqeq12 syl5ibrcom expimpd
        syl5bir exlimdvv eqeq1 anbi2d exbidv f1oeq1 coeq2 seqeq3d fveq1d eqeq2d
        alrimivv anbi12d cbvexv syl6bb eu4 sylanbrc ) AUEJUFUGZUHUIZJFUJZUKZBUJ
        ZYPEGYRULZUEUMZUGZUNZUOZFUPZBUPZUUFYQJUAUJZUKZUBUJZYPEGUUHULZUEUMZUGZUN
        ZUOZUAUPZUOZYTUUJUNZUSZUBUQBUQUUFBURAYSFUPZUUGAYPUTVAZUUTAJVBUNZVCZUVAU
        UTUOZAJVBVDUVCSJVBVEVFAUVBUVDAJVGVAUVBUVDVHRJFVIVJVKVLZVMUUGUUEBUPZFUPU
        UTUUEBFVNUVFYSFUVFUUDYSUOBUPYSYSUUDBVOYSYSBUUCYPUUBVPUUDYSVQVRVSVTVSWAA
        UUSBUBUUQUUEUUOUOZUAUPFUPAUURUUEUUOFUAWBAUVGUURFUAUVGYSUUIUOZUUDUUNUOZU
        OAUURYSUUIUUDUUNWCAUVHUVIUURAUVHUOZUURUVIUUCUUMUNUVJBUBUCEDUDUUHWDZYRUL
        ZUUKUUAUEYPUVJHWEVAZYTDVAZUUJDVAZUOZYTUUJEUIZDVAZUVJHWFVAZUVMAUVSUVHOWG
        ZHWHVJZUVMUVNUVOUVRDEHYTUUJLNWIWJWRUVJUVSUVPUVQUUJYTEUIUNZUVTUVSUVNUVOU
        WBDEHYTUUJLNWKWJWRUVJUVMUVNUVOUCUJZDVAWLUVQUWCEUIYTUUJUWCEUIEUIUNUWADEH
        YTUUJUWCLNWMWRUVJYPUTUEWSUGAUVAUVHAUVAUUTUVEWNWGWOWPUVJJYQUVKUKZYSYQYQU
        VLUKZUVJUUIUWDAYSUUIWQZYQJUUHWTVJAYSUUIXAZYQJYQUVKYRXBXCZUVJYQDUUKXDZYT
        YQVAYTUUKUGDVAUVJCDGXDZYQCUUHXDZUWIAUWJUVHQWGUVJYQJUUHXDZJCXEZUWKUVJUUI
        UWLUWFYQJUUHXFVJAUWMUVHTWGYQJCUUHXGXCZYQCDGUUHXHXCYQDYTUUKXIWRUVJUDUJZY
        QVAZUOZUWOYRUGZGUGZUWOUVLUGZUUHUGZGUGZUWOUUAUGZUWTUUKUGZUWQUWRUXAGUWQUX
        AUWRUVKUGZUUHUGZUWRUWQUWTUXEUUHUVJYQJYRXDZUWPUWTUXEUNUVJYSUXGUWGYQJYRXF
        VJZYQJUWOUVKYRXJWRXKUWQUUIUWRJVAZUXFUWRUNUVJUUIUWPUWFWGUVJUXGUWPUXIUXHY
        QJUWOYRXIWRYQJUWRUUHXLXCXMXKUVJUXGUWPUXCUWSUNUXHYQJUWOGYRXJWRUVJUWPUWTY
        QVAZUXDUXBUNZUVJYQYQUVLXDZUWPUXJUVJUWEUXLUWHYQYQUVLXFVJYQYQUWOUVLXIWRUV
        JUWKUXJUXKUWNYQCUWTGUUHXJWRXNXOXPYTUUCUUJUUMXQXRXSXTYAXTYJUUFUUPBUBUURU
        UFYSUUJUUCUNZUOZFUPUUPUURUUEUXNFUURUUDUXMYSYTUUJUUCYBYCYDUXNUUOFUAYRUUH
        UNZYSUUIUXMUUNYQJYRUUHYEUXOUUCUUMUUJUXOYPUUBUULUXOUUAUUKEUEYRUUHGYFYGYH
        YIYKYLYMYNYO $.
        $( [8-Dec-2014] $)
    $}

    gsumval3.m $e |- ( ph -> M e. NN ) $.
    gsumval3.h $e |- ( ph -> H : ( 1 ... M ) -1-1-> A ) $.
    gsumval3.n $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) C_ ran H ) $.
    gsumval3.w $e |- W = ( `' ( F o. H ) " ( _V \ { Z } ) ) $.
    $( Value of the group sum operation over an arbitrary finite set.
       (Contributed by Mario Carneiro, 15-Dec-2014.) $)
    gsumval3 $p |- ( ph ->
      ( G gsum F ) = ( seq 1 ( P , ( F o. H ) ) ` M ) ) $=
      ( vx vm vn vf vy vz vk vg cgsu co ccom c1 cseq cfv wceq c0 wa cmpt cv wfn
      wf ffn syl sylib adantr wcel crn ccnv cfz ad2antrr wf1o f1of 3syl ffvelrn
      f1ocnv sylan fvco3 syl2anc fveq2d eqtrd cdif simpr syl6eq fco cvv wss a1i
      cima suppssr syldan eqtr3d fvex sylibr adantlr wn eldif oveq2d grprid cuz
      cabel cn nnuz eleq2d biimpar eqtr4d wne cz wrex cxp wb vex cdm fdm eqeq1d
      syl5eq wbr w3a sylancr mpbid chash clt wiso wex wor cfn frn fzssuz syl6ss
      cr sstri ltso soss ee10 cen ssexg f1oen2g mpbird coass expr csn f1ocnvfv2
      dffn5v wf1 f1f f1f1orn difeq2d eleqtrrd eqimss2i elsnc sylan2br pm2.61dan
      dif0 anassrs mpteq2dva cgrp ablgrp grpidcl syl6eleq seqid3 cpw fzf ovelrn
      gsumz mp2b wrel frel reldm0 bitrd coeq1 co01 cnv0 imaeq1d syl6bir necon3d
      cnveqd 0ima imp eqnetrrd cle fzn0 eluz2 feq2d gsumval2 sseqtrd uzssz fzfi
      zssre fssxp xpexg enfi mpbii fz1iso cn0 nnnn0 hashfz1 hashen grpcl ablcom
      3expb grpass simpll simprr isof1o f1oeq2 f1oco fss f1ococnv2 coeq1d fcoi2
      cres eqtr2d coeq2d syl6eqr fveq1d seqf1o grplid eluzfz1 eqnetrd necon3bii
      cid ne0i dm0rn0 adantrr simprl difeq1d seqcoll2 3eqtr4d exlimdv rexlimdvw
      mpd ex syl5bi cnvimass eqsstri syl5sseq sseqtr4i nnssre ssfi cio elpreima
      mpbiran con1d expimpd sylbid ssrdv cnvco imaeq1i imaco 3eqtri imaeq2 ima0
      necon3i ad2antlr eqid gsumval3a coexg sylancl f1ores imaeq2i wfo foimacnv
      f1ofo f1oeq3 cores f1oeq1 resexg jca coeq2 seqeq3d eqeq2d anbi12d cla4egv
      wal weu sstrd gsumval3eu iota1 bitr4d alrimiv eqeq1 anbi2d exbidv bibi12d
      sylc eqeq2 cla4v simplr fveq1i syl5eqr pm2.61d pm2.61dane ) AFEUJUKZHDEGU
      LZUMUNUOZUPZJUQAJUQUPZURZVWMKVWOVWRVWMFUBBKUSZUJUKZKVWREVWSFUJVWREUBBUBUT
      ZEUOZUSZVWSAEVXCUPZVWQAEBVAZVXDABCEVBZVXEQBCEVCZVDUBBEUUCVEVFVWRUBBVXBKVW
      RVXABVGZURZVXBKUUAZVGZVXBKUPZVXIVXAGVHZVGZVXKVWRVXNVXKVXHVWRVXNURZVXLVXKV
      XOVXAGVIZUOZVWNUOZVXBKVXOVXRVXQGUOZEUOZVXBVXOUMHVJUKZBGVBZVXQVYAVGZVXRVXT
      UPAVYBVWQVXNAVYABGUUDZVYBSVYABGUUEVDZVKVWRVXMVYAVXPVBZVXNVYCVWRVYAVXMGVLZ
      VXMVYAVXPVLVYFAVYGVWQAVYDVYGSVYABGUUFZVDZVFZVYAVXMGVPVXMVYAVXPVMVNVXMVYAV
      XAVXPVOVQZVYABVXQEGVRVSVXOVXSVXAEVWRVYGVXNVXSVXAUPVYJVYAVXMVXAGUUBVQVTWAV
      WRVXNVXQVYAJWBZVGVXRKUPVXOVXQVYAVYLVYKVWRVYLVYAUPVXNVWRVYLVYAUQWBVYAVWRJU
      QVYAAVWQWCUUGVYAUUMWDZVFUUHVWRVYACVWNJVXQKAVYACVWNVBZVWQAVXFVYBVYNQVYEVYA
      BCEGWEVSZVFZVWNVIZWFVXJWBZWIZJWGZVWRJVYSUAUUIZWHZWJWKWLVXBKVXAEWMZUUJZWNW
      OVWRVXHVXNWPZVXKAVXHWUEURZVXKVWQWUFAVXABVXMWBZVGZVXKVXABVXMWQAWUHURVXLVXK
      ABCEVXMVXAKQTWJZWUDWNUUKZWOUUNUULWUDVEUUOWAWRAVWTKUPZVWQAFUUPVGZBIVGZWUKA
      FXAVGZWULOFUUQVDZPBUBFIKMUVDVSVFWAVWRUBDVWNUMHKAKKDUKKUPZVWQAWULKCVGZWUPW
      UOAWULWUQWUOCFKLMUURZVDCDFKKLNMWSVSVFAHUMWTUOZVGZVWQAHXBWUSRXCUUSZVFVWRVX
      AVYAVGZVXAVYLVGZVXAVWNUOZKUPVWRWVCWVBVWRVYLVYAVXAVYMXDXEVWRVYACVWNJVXAKVY
      PWUBWJWKUUTXFAJUQXGZURZBVJVHVGZVWPWVGBUCUTZUDUTZVJUKZUPZUDXHXIZUCXHXIZWVF
      VWPXHXHXJZXHUVAZVJVBVJWVNVAWVGWVMXKUVBWVNWVOVJVCUCUDXHXHBVJUVCUVEWVFWVLVW
      PUCXHWVFWVKVWPUDXHWVFWVKVWPWVFWVKURZVWMWVIDEWVHUNUOZVWOWVPCDEFWVHWVIXALNA
      WUNWVEWVKOVKWVPWVIWFVGZWVJUQXGZWVIWVHWTUOZVGZUDXLZWVPBWVJUQWVFWVKWCZWVFBU
      QXGZWVKAWVEWWDABUQJUQABUQUPZEUQUPZVWQAWWFEXMZUQUPZWWEAVXFEUVFWWFWWHXKQBCE
      UVGEUVHVNAWWGBUQAVXFWWGBUPQBCEXNVDXOUVIWWFJVYSUQUAWWFVYSUQVYRWIUQWWFVYQUQ
      VYRWWFVYQUQVIUQWWFVWNUQWWFVWNUQGULUQEUQGUVJGUVKWDUVPUVLWDUVMVYRUVQWDXPUVN
      UVOUVRVFUVSWVRWVSURWVHXHVGWVIXHVGWVHWVIUVTXQXRWWAWFWVHWVIUWAWVHWVIUWBWNXS
      WVPVXFWVJCEVBAVXFWVEWVKQVKWVPBWVJCEWWCUWCXTUWDWVPUMVXMYAUOZVJUKZVXMYBYBUE
      UTZYCZUEYDZVWOWVQUPZWVPVXMYBYEZVXMYFVGZWWMWVPVXMYJWGYJYBYEZWWOWVPVXMWVJYJ
      WVPVXMBWVJAVXMBWGZWVEWVKAVYBWWRVYEVYABGYGVDZVKWWCUWEZWVJWVTYJWVHWVIYHWVTX
      HYJWVHUWFUWHYKYKYIYLVXMYJYBYMYNAWWPWVEWVKAVYAYFVGZWWPUMHUWGZAVXMWFVGZVYAV
      XMYOXQZWXAWWPXKAWWRWUMWXCWWSPVXMBIYPVSAGWFVGZVYGWXDAGVYABXJZWGZWXFWFVGZWX
      EAVYBWXGVYEVYABGUWIVDAWXAWUMWXHWXBPVYABYFIUWJXSGWXFWFYPVSZVYIVYAVXMWFGYQV
      SZVYAVXMWFUWKVSUWLZVKVXMYBUEUWMVSWVPWWLWWNUEWVFWVKWWLWWNWVFWVKWWLURZURZHD
      EWWKULZUMUNZUOWWIWXOUOVWOWVQWXMHWWIWXOAHWWIUPWVEWXLAVYAYAUOZHWWIAHXBVGZHU
      WNVGWXPHUPRHUWOHUWPVNAWXPWWIUPZWXDWXJAWXAWWPWXRWXDXKWXBWXKVYAVXMUWQXSYRWL
      VKZVTWXMUBUFUGDCUHWWKVIZGULZWXNVWNUMHWXMWULVXACVGZUFUTZCVGZURZVXAWYCDUKZC
      VGZAWULWVEWXLWUOVKZWULWYBWYDWYGCDFVXAWYCLNUWRUWTZVQZWXMWUNWYEWYFWYCVXADUK
      UPZAWUNWVEWXLOVKWUNWYBWYDWYKCDFVXAWYCLNUWSUWTVQWXMWULWYBWYDUGUTZCVGXRWYFW
      YLDUKVXAWYCWYLDUKDUKUPWYHCDFVXAWYCWYLLNUXAVQWXMAWUTAWVEWXLUXBZWVAVDWXMVXM
      VYAWXTVLZVYGVYAVYAWYAVLWXMVYAVXMWWKVLZWYNWXMWYOWWJVXMWWKVLZWXMWWLWYPWVFWV
      KWWLUXCZWWJVXMYBYBWWKUXDVDZWXMVYAWWJUPWYOWYPXKWXMHWWIUMVJWXSWRVYAWWJVXMWW
      KUXEVDYRZVYAVXMWWKVPVDZAVYGWVEWXLVYIVKZVYAVXMVYAWXTGUXFVSWXMVYACWXNVBZWVB
      VXAWXNUOCVGWXMVXFVYABWWKVBZXUBAVXFWVEWXLQVKZWXMVYAVXMWWKVBZWWRXUCWXMWYOXU
      EWYSVYAVXMWWKVMVDAWWRWVEWXLWWSVKVYAVXMBWWKUXGVSVYABCEWWKWEVSVYACVXAWXNVOV
      QWXMUHUTZVYAVGZURXUFVWNUOZXUFWXNWYAULZUOZXUFWYAUOWXNUOZWXMXUHXUJUPXUGWXMX
      UFVWNXUIWXMVWNEWWKWYAULZULXUIWXMGXULEWXMGWWKWXTULZGULZXULWXMXUNUYAVXMUXKZ
      GULZGWXMXUMXUOGWXMWYOXUMXUOUPWYSVYAVXMWWKUXHVDUXIWXMVYAVXMGVBZXUPGUPWXMVY
      GXUQXUAVYAVXMGVMVDZVYAVXMGUXJVDUXLWWKWXTGYSWDUXMEWWKWYAYSUXNUXOVFWXMVYAVY
      AWYAVBZXUGXUJXUKUPWXMVXMVYAWXTVBZXUQXUSWXMWYNXUTWYTVXMVYAWXTVMVDXURVYAVXM
      VYAWXTGWEVSVYAVYAXUFWXNWYAVRVQWAUXPWXMVXMDCUBUFEWWKWXNWVHWVIWFKWXMWULWYBK
      VXADUKVXAUPZWYHCDFKVXALNMUXQZVQWXMWULWYBVXAKDUKVXAUPZWYHCDFKVXALNMWSZVQWY
      JWXMWULWUQWYHWURVDWYQAVXMUQXGZWVEWXLAGXMZUQXGXVEAXVFVYAUQAVYBXVFVYAUPVYEV
      YABGXNVDAWUTUMVYAVGVYAUQXGWVAUMHUXRVYAUMUYBVNUXSXVFUQVXMUQGUYCUXTVEVKWVRW
      XMWWBWHWVFWVKVXMWVJWGWWLWWTUYDWXMVXAWVJVGZVXHVXBCVGZWXMVXHXVGWXMBWVJVXAWV
      FWVKWWLUYEZXDXEWXMVXFVXHXVHXUDBCVXAEVOVQWKWXMVXAWVJVXMWBZVGZWUHVXLWXMWUHX
      VKWXMWUGXVJVXAWXMBWVJVXMXVIUYFXDXEWXMAWUHVXLWYMWUIVQWKWXMWWJVXMWWKVBZWYCW
      WJVGWYCWXNUOWYCWWKUOZEUOUPWXMWYPXVLWYRWWJVXMWWKVMVDWWJVXMWYCEWWKVRVQUYGUY
      HYTUYIUYKXFUYLUYJUYJUYMWVFWVGWPZVWPWVFXVNURZUMJYAUOZVJUKZJYBYBWWKYCZUEYDZ
      VWPAXVSWVEXVNAJYBYEZJYFVGZXVSAJYJWGWWQXVTAJVYAYJAVWNXMZJVYAJVYSXWBUAVWNVY
      RUYNUYOAVYNXWBVYAUPVYOVYACVWNXNVDUYPZVYAXBYJVYAWUSXBUMHYHXCUYQUYRYKYIYLJY
      JYBYMYNAWXAJVYAWGZXWAWXBXWCVYAJUYSXSZJYBUEUWMVSVKXVOXVRVWPUEWVFXVNXVRVWPW
      VFXVNXVRURZURZUMEVIZVYRWIZYAUOZVJUKZXWIUIUTZVLZVXAXWJDEXWLULZUMUNZUOZUPZU
      RZUIYDZUBUYTZXVPDEGWWKULZULZUMUNZUOZVWMVWOXWGVWMXWTXXDXWGUBBCDUIEFIXWIKLM
      NAWUNWVEXWFOVKZAWUMWVEXWFPVKZAVXFWVEXWFQVKZAXWIYFVGZWVEXWFAWWPXWIVXMWGZXX
      HWXKAUBXWIVXMAVXAXWIVGZVXHVXBVYRVGZURZVXNAVXFVXEXXJXXLXKQVXGBVXAVYREVUAVN
      AVXHXXKVXNXXKVXKWPZAVXHURZVXNXXKVXBWFVGXXMVXBWFVXJWQWUCVUBXXNVXNVXKAVXHWU
      EVXKWUJYTVUCUYMVUDVUEVUFZVXMXWIUYSVSVKZWVEXWIUQXGAXWFXWIUQJUQXWIUQUPZJVXP
      XWIWIZUQJVYSVXPXWHULZVYRWIXXRUAVYQXXSVYREGVUGVUHVXPXWHVYRVUIVUJZXXQXXRVXP
      UQWIUQXWIUQVXPVUKVXPVULWDXPVUMVUNZXWIVUOWVFXVNXVRUYEVUPZXWGXWMXXDXWPUPZUR
      ZUIYDZVWMXXDUPZXWGXXAWFVGZXWKXWIXXAVLZXXDXWJXXCUOZUPZURZXYEAXYGWVEXWFAWXE
      WWKWFVGXYGWXIUEXLGWWKWFWFVUQVURVKXWGXYHXYJXWGXVQXWIXXAVLZXYHXWGXVQXWIGJUX
      KZWWKULZVLZXYLXWGJXWIXYMVLZXVQJWWKVLZXYOXWGJGJWIZXYMVLZXYPXWGVYDXWDXYSAVY
      DWVEXWFSVKZAXWDWVEXWFXWCVKZVYABJGVUSVSXWGXYRXWIUPXYSXYPXKXWGXYRGXXRWIZXWI
      JXXRGXXTVUTXWGVYAVXMGVVAZXXIYUBXWIUPXWGVYGYUCXWGVYDVYGXYTVYHVDVYAVXMGVVCV
      DAXXIWVEXWFXXOVKZVYAVXMXWIGVVBVSXPXYRXWIJXYMVVDVDXTZXWGXVRXYQWVFXVNXVRUXC
      ZXVQJYBYBWWKUXDZVDXVQJXWIXYMWWKUXFVSXWGXYNXXAUPZXYOXYLXKXWGWWKVHJWGZYUHXW
      GXVQJWWKVBZYUIXWGXVRXYQYUJYUFYUGXVQJWWKVMVNZXVQJWWKYGVDGWWKJVVEVDXVQXWIXY
      NXXAVVFVDXTXWGXVQXWKUPXYLXYHXKXWGXVPXWJUMVJXWGXVPXWJUPZJXWIYOXQZXWGXYMWFV
      GZXYPYUMAYUNWVEXWFAWXEYUNWXIGJWFVVGVDVKYUEJXWIWFXYMYQVSXWGXWAXXHYULYUMXKA
      XWAWVEXWFXWEVKXXPJXWIUWQVSYRZWRXVQXWKXWIXXAUXEVDXTXWGXVPXWJXXCYUOVTVVHXYD
      XYKUIXXAWFXWLXXAUPZXWMXYHXYCXYJXWKXWIXWLXXAVVFYUPXWPXYIXXDYUPXWJXWOXXCYUP
      XWNXXBDUMXWLXXAEVVIVVJUXOVVKVVLVVMVWEXWGXWSVWMVXAUPZXKZUBVVNXYEXYFXKZXWGY
      URUBXWGXWSXWTVXAUPZYUQXWGXWSUBVVOXWSYUTXKXWGUBBCDUIEFIXWIKLMNXXEXXFXXGXXP
      XYAXWGXWIVXMBYUDAWWRWVEXWFWWSVKVVPVVQXWSUBVVRVDXWGVWMXWTVXAXYBXOVVSVVTYUR
      YUSUBXXDXVPXXCWMVXAXXDUPZXWSXYEYUQXYFYVAXWRXYDUIYVAXWQXYCXWMVXAXXDXWPVWAV
      WBVWCVXAXXDVWMVWFVWDVWGVDXTWLXYBXWGJDCUBUFVWNWWKXXBUMHXBKXWGWULWYBXVAAWUL
      WVEXWFWUOVKZXVBVQXWGWULWYBXVCYVBXVDVQXWGWULWYEWYGYVBWYIVQXWGWULWUQYVBWURV
      DYUFAWVEXWFVWHAWXQWVEXWFRVKYUAXWGVYNWVBWVDCVGAVYNWVEXWFVYOVKZVYACVXAVWNVO
      VQXWGVYACVWNJVXAKYVCVYTXWGWUAWHWJXWGWYCXVQVGZURWYCXXBUOWYCVWNWWKULZUOZXVM
      VWNUOZWYCYVEXXBEGWWKYSVWIXWGYUJYVDYVFYVGUPYUKXVQJWYCVWNWWKVRVQVWJUYGUYHYT
      UYIUYKUYLVWKVWL $.
      $( [15-Dec-2014] $)
  $}

  ${
    $d f k x B $.  $d f k x F $.  $d f k x G $.  $d f k x H $.  $d f k x ph $.
    $d k x A $.  $d x C $.  $d k V $.  $d f k W $.  $d f k x Z $.
    gsumcl.b $e |- B = ( Base ` G ) $.
    gsumcl.z $e |- Z = ( 0g ` G ) $.
    gsumcl.g $e |- ( ph -> G e. Abel ) $.
    gsumcl.a $e |- ( ph -> A e. V ) $.
    gsumcl.f $e |- ( ph -> F : A --> B ) $.
    ${
      gsumcl.s $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) C_ W ) $.
      $( Lemma for ~ gsumcl and related theorems.  (Contributed by Mario
         Carneiro, 15-Dec-2014.) $)
      gsumcllem $p |- ( ( ph /\ W = (/) ) -> F = ( k e. A |-> Z ) ) $=
        ( c0 wceq wa cmpt wcel cv cfv wfn wf ffn syl dffn5v sylib adantr difeq2
        cdif dif0 syl6eq eleq2d biimpar suppssr sylan2 anassrs mpteq2dva eqtrd
        ) AHPQZRZEDBDUAZEUBZSZDBISAEVEQZVAAEBUCZVFABCEUDVGNBCEUEUFDBEUGUHUIVBDB
        VDIAVAVCBTZVDIQZVAVHRAVCBHUKZTZVIVAVKVHVAVJBVCVAVJBPUKBHPBUJBULUMUNUOAB
        CEHVCINOUPUQURUSUT $.
        $( [15-Dec-2014] $)

      gsumres.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
      $( Extend a finite group sum by padding outside with zeroes.
         (Contributed by Mario Carneiro, 15-Dec-2014.) $)
      gsumres $p |- ( ph -> ( G gsum ( F |` W ) ) = ( G gsum F ) ) $=
        ( vk wceq wcel adantr wss vf ccnv cvv csn cdif cima c0 chash cfv cn cfz
        c1 co cv wf1o wex wa wo cres cgsu cfn fz1f1o syl cmpt cgrp cabel ablgrp
        cin inex1g gsumz syl2anc eqtr4d resres wfn fnresdm 3syl reseq1d syl5eqr
        wf ffn a1i gsumcllem inss1 resmpt ax-mp syl6eq eqtr3d oveq2d 3eqtr4d ex
        ssid cplusg ccom cseq crn wfo f1ofo forn ad2antll eqsstrd cores seqeq3d
        fveq1d fssres sylancl feq1d biimpa syldan simprl wf1 f1of1 cdm cnvimass
        eqid syl5sseq ssin sylib f1ss resss cnvss imass1 mp2b sseqtr4d gsumval3
        fdm jca expr exlimdv expimpd jaod mpd ) ADUBZUCHUDUEZUFZUGQZYNUHUIZUJRZ
        ULYPUKUMZYNUAUNZUOZUAUPZUQZURZEDGUSZUTUMZEDUTUMZQZAYNVARUUCOYNUAVBVCAYO
        UUGUUBAYOUUGAYOUQZEPBGVHZHVDZUTUMZEPBHVDZUTUMZUUEUUFAUUKUUMQYOAUUKHUUMA
        EVERZUUIUCRZUUKHQAEVFRZUUNKEVGVCZABFRZUUOLBGFVIVCZUUIPEUCHJVJVKAUUNUURU
        UMHQUUQLBPEFHJVJVKVLSUUHUUDUUJEUTUUHDUUIUSZUUDUUJAUUTUUDQYOAUUTDBUSZGUS
        UUDDBGVMAUVADGABCDVSZDBVNUVADQMBCDVTBDVOVPVQVRZSUUHUUTUULUUIUSZUUJUUHDU
        ULUUIABCPDEFYNHIJKLMYNYNTZAYNWKZWAWBZVQUUIBTZUVDUUJQBGWCZPBUUIHWDWEWFWG
        WHUUHDUULEUTUVGWHWIWJAYQUUAUUGAYQUQYTUUGUAAYQYTUUGAYQYTUQZUQZYPEWLUIZUU
        DYSWMZULWNZUIYPUVLDYSWMZULWNZUIUUEUUFUVKYPUVNUVPUVKUVMUVOUVLULUVKYSWOZG
        TUVMUVOQUVKUVQYNGYTUVQYNQZAYQYTYRYNYSWPUVRYRYNYSWQYRYNYSWRVCWSZAYNGTZUV
        JNSWTDYSGXAVCXBXCUVKUUICUVLUUDEYSYPUCUVMUBYMUFZHIJUVLXNZAUUPUVJKSZAUUOU
        VJUUSSAUVJUUICUUTVSZUUICUUDVSZUVKUVBUVHUWDAUVBUVJMSZUVIBCUUIDXDXEAUWDUW
        EAUUICUUTUUDUVCXFXGXHAYQYTXIZUVKYRYNYSXJZYNUUITZYRUUIYSXJYTUWHAYQYRYNYS
        XKWSZAUWIUVJAYNBTZUVTUQUWIAUWKUVTADXLZYNBDYMXMAUVBUWLBQMBCDYEVCXOZNYFYN
        BGXPXQSYRYNUUIYSXRVKUVKUUDUBZYMUFZYNUVQUWOYNTZUVKUUDDTUWNYLTUWPDGXSUUDD
        XTUWNYLYMYAYBWAUVSYCUWAXNYDUVKBCUVLDEYSYPFUVOUBYMUFZHIJUWBUWCAUURUVJLSU
        WFUWGUVKUWHUWKYRBYSXJUWJAUWKUVJUWMSYRYNBYSXRVKUVKYNYNUVQUVEUVKUVFWAUVSY
        CUWQXNYDWIYGYHYIYJYK $.
        $( [15-Dec-2014] $)
    $}

    gsumcl.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    $( Closure of a finite group sum.  (Contributed by Mario Carneiro,
       15-Dec-2014.) $)
    gsumcl $p |- ( ph -> ( G gsum F ) e. B ) $=
      ( vf vk cfv wcel wa syl adantr vx ccnv cvv csn cdif cima c0 wceq chash cn
      c1 cfz co cv wf1o wex wo cgsu cfn fz1f1o cmpt wss ssid a1i gsumcllem cgrp
      oveq2d cabel ablgrp gsumz syl2anc eqtrd grpidcl eqeltrd ex ccom cseq eqid
      cplusg simprl wf1 f1of1 ad2antll cdm cnvimass fdm syl5sseq f1ss crn f1ofo
      wfo forn syl5sseqr gsumval3 cuz nnuz syl6eleq f1f fco ffvelrn sylan grpcl
      wf 3expb seqcl expr exlimdv expimpd jaod mpd ) ADUBUCGUDUEZUFZUGUHZXLUIPZ
      UJQZUKXNULUMZXLNUNZUOZNUPZRZUQZEDURUMZCQZAXLUSQYAMXLNUTSAXMYCXTAXMYCAXMRZ
      YBGCYDYBEOBGVAZURUMZGYDDYEEURABCODEFXLGHIJKLXLXLVBAXLVCZVDVEVGAYFGUHZXMAE
      VFQZBFQZYHAEVHQZYIJEVIZSZKBOEFGIVJVKTVLAGCQZXMAYIYNYMCEGHIVMSTVNVOAXOXSYC
      AXORXRYCNAXOXRYCAXOXRRZRZYBXNEVSPZDXQVPZUKVQPCYPBCYQDEXQXNFYRUBXKUFZGHIYQ
      VRZAYKYOJTZAYJYOKTABCDXCZYOLTZAXOXRVTZYPXPXLXQWAZXLBVBZXPBXQWAZXRUUEAXOXP
      XLXQWBWCAUUFYOADWDZXLBDXKWEAUUBUUHBUHLBCDWFSWGTXPXLBXQWHVKZYPXLXLXQWIZYGX
      RUUJXLUHZAXOXRXPXLXQWKUUKXPXLXQWJXPXLXQWLSWCWMYSVRWNYPOUAYQCYRUKXNYPXNUJU
      KWOPUUDWPWQYPXPCYRXCZOUNZXPQUUMYRPCQYPUUBXPBXQXCZUULUUCYPUUGUUNUUIXPBXQWR
      SXPBCDXQWSVKXPCUUMYRWTXAYPYIUUMCQZUAUNZCQZRUUMUUPYQUMCQZYPYKYIUUAYLSYIUUO
      UUQUURCYQEUUMUUPHYTXBXDXAXEVNXFXGXHXIXJ $.
      $( [15-Dec-2014] $)

    gsumf1o.h $e |- ( ph -> H : C -1-1-onto-> A ) $.
    $( Re-index a finite group sum using a bijection.  (Contributed by Mario
       Carneiro, 15-Dec-2014.) $)
    gsumf1o $p |- ( ph -> ( G gsum F ) = ( G gsum ( F o. H ) ) ) $=
      ( wceq ccom syl adantr vf vk vx ccnv cvv csn cdif cima c0 chash cfv cn c1
      wcel cfz co cv wf1o wex wa cgsu cfn fz1f1o cmpt cgrp cabel ablgrp syl2anc
      wo gsumz wf1 f1of1 f1dmex eqtr4d wss ssid a1i gsumcllem oveq2d wf ffvelrn
      f1of sylan wfn ffn dffn5v sylib eqidd fmptco 3eqtr4d ex cplusg cseq coass
      cid cres f1ococnv2 coeq1d ad2antll cdm cnvimass syl5sseq f1ss fcoi2 eqtrd
      fdm f1f syl5reqr coeq2d syl6eqr seqeq3d fveq1d eqid simprl crn f1ofo forn
      wfo syl5sseqr gsumval3 fco wi f1ocnv 3syl f1co imass2 cnvco imaeq1i imaco
      idi eqtri rnco2 3sstr4g expr exlimdv expimpd jaod mpd ) AEUDZUEIUFUGZUHZU
      IQZUUAUJUKZULUNZUMUUCUOUPZUUAUAUQZURZUAUSZUTZVIZFEVAUPZFEGRZVAUPZQZAUUAVB
      UNUUJOUUAUAVCSAUUBUUNUUIAUUBUUNAUUBUTZFUBBIVDZVAUPZFUCDIVDZVAUPZUUKUUMAUU
      QUUSQUUBAUUQIUUSAFVEUNZBHUNZUUQIQAFVFUNZUUTLFVGSZMBUBFHIKVJVHAUUTDUEUNZUU
      SIQUVCADBGVKZUVAUVDADBGURZUVEPDBGVLSMDBHGVMVHZDUCFUEIKVJVHVNTUUOEUUPFVAAB
      CUBEFHUUAIJKLMNUUAUUAVOAUUAVPZVQVRZVSUUOUULUURFVAUUOUCUBDBUCUQZGUKZIIGEUU
      ODBGVTZUVJDUNUVKBUNAUVLUUBAUVFUVLPDBGWBSZTZDBUVJGWAWCUUOGDWDZGUCDUVKVDQUU
      OUVLUVOUVNDBGWESUCDGWFWGUVIUBUQUVKQIWHWIVSWJWKAUUDUUHUUNAUUDUTUUGUUNUAAUU
      DUUGUUNAUUDUUGUTZUTZUUCFWLUKZEUUFRZUMWMZUKUUCUVRUULGUDZUUFRZRZUMWMZUKUUKU
      UMUVQUUCUVTUWDUVQUVSUWCUVRUMUVQUVSEGUWBRZRUWCUVQUUFUWEEUVQUWEGUWARZUUFRZU
      UFGUWAUUFWNUVQUWGWOBWPZUUFRZUUFUVQUWFUWHUUFUVQUVFUWFUWHQAUVFUVPPTDBGWQSWR
      UVQUUEBUUFVTZUWIUUFQUVQUUEBUUFVKZUWJUVQUUEUUAUUFVKZUUABVOZUWKUUGUWLAUUDUU
      EUUAUUFVLWSAUWMUVPAEWTZUUABEYTXAABCEVTZUWNBQNBCEXFSXBTUUEUUABUUFXCVHZUUEB
      UUFXGSUUEBUUFXDSXEXHXIEGUWBWNXJXKXLUVQBCUVREFUUFUUCHUVSUDYTUHZIJKUVRXMZAU
      VBUVPLTZAUVAUVPMTAUWOUVPNTAUUDUUGXNZUWPUVQUUAUUAUUFXOZUVHUUGUXAUUAQZAUUDU
      UGUUEUUAUUFXRUXBUUEUUAUUFXPUUEUUAUUFXQSWSXSZUWQXMXTUVQDCUVRUULFUWBUUCUEUW
      CUDYTUHZIJKUWRUWSAUVDUVPUVGTADCUULVTZUVPAUWOUVLUXENUVMDBCEGYAVHTUVQUUDYBU
      WTYJUVQBDUWAVKZUWKUUEDUWBVKAUXFUVPAUVFBDUWAURUXFPDBGYCBDUWAVLYDTUWPUUEBDU
      WAUUFYEVHUVQUWAUUAUHZUWAUXAUHZUULUDZYTUHZUWBXOUVQUUAUXAVOUXGUXHVOUXCUUAUX
      AUWAYFSUXJUWAYSRZYTUHUXGUXIUXKYTEGYGYHUWAYSYTYIYKUWAUUFYLYMUXDXMXTWJYNYOY
      PYQYR $.
      $( [15-Dec-2014] $)
  $}

  ${
    gsumsubcl.z $e |- Z = ( 0g ` G ) $.
    gsumsubcl.g $e |- ( ph -> G e. Abel ) $.
    gsumsubcl.a $e |- ( ph -> A e. V ) $.
    gsumsubcl.s $e |- ( ph -> S e. ( SubGrp ` G ) ) $.
    gsumsubcl.f $e |- ( ph -> F : A --> S ) $.
    gsumsubcl.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    $( Closure of a group sum in a subgroup.  (Contributed by Mario Carneiro,
       15-Dec-2014.) $)
    gsumsubcl $p |- ( ph -> ( G gsum F ) e. S ) $=
      ( cgsu co eqid cfv wcel syl cvv cress cbs c0g cabel csubg subgabl syl2anc
      gsumsubg wf wceq wb subgbas feq3 mpbid ccnv csn cdif cima cfn subg0 sneqd
      difeq2d imaeq2d eqeltrrd gsumcl eleqtrrd eqeltrd ) AEDNOECUAOZDNOZCABCDEV
      HFJKLVHPZUHAVIVHUBQZCABVKDVHFVHUCQZVKPVLPAEUDRCEUEQRZVHUDRIKCEVHVJUFUGJAB
      CDUIZBVKDUIZLACVKUJZVNVOUKAVMVPKCEVHVJULSZCVKBDUMSUNADUOZTGUPZUQZURVRTVLU
      PZUQZURUSAVTWBVRAVSWATAGVLAVMGVLUJKCEVHGVJHUTSVAVBVCMVDVEVQVFVG $.
      $( [15-Dec-2014] $)
  $}

  ${
    $d f k x y z F $.  $d f k x y z H $.  $d f k x y z P $.  $d f k x y z ph $.
    $d x A $.  $d k x y z B $.  $d f x G $.  $d x V $.  $d f k x y z Z $.
    gsumadd.b $e |- B = ( Base ` G ) $.
    gsumadd.z $e |- Z = ( 0g ` G ) $.
    gsumadd.p $e |- P = ( +g ` G ) $.
    gsumadd.g $e |- ( ph -> G e. Abel ) $.
    gsumadd.a $e |- ( ph -> A e. V ) $.
    gsumadd.f $e |- ( ph -> F : A --> B ) $.
    gsumadd.h $e |- ( ph -> H : A --> B ) $.
    gsumadd.fn $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    gsumadd.hn $e |- ( ph -> ( `' H " ( _V \ { Z } ) ) e. Fin ) $.
    $( The sum of two group sums.  (Contributed by Mario Carneiro,
       19-Dec-2014.) $)
    gsumadd $p |- ( ph ->
      ( G gsum ( F oF P H ) ) = ( ( G gsum F ) P ( G gsum H ) ) ) $=
      ( wcel co vf vx vy vz vk cun ccnv cvv csn cdif cima c0 wceq chash cfv cfz
      cn c1 cv wf1o wex wa wo cof cgsu cfn cnvun imaeq1i imaundir eqtri syl2anc
      unfi syl5eqel fz1f1o syl cgrp cabel ablgrp grpidcl grplid adantr cmpt wss
      ssun1 sseqtr4i a1i gsumcllem oveq2d gsumz eqtrd oveq12d ad2antrr mpteq2dv
      ssun2 offval2 3eqtr4rd ex ccom grpcl 3expb sylan ablcom w3a grpass simprl
      cseq cuz nnuz syl6eleq wf1 f1of1 ad2antll cdm cnvimass fdm syl5sseq unssd
      syl5eqss f1ss f1f fco ffvelrn wfn ffn ovex inidm fveq1d fnfco eqidd ofval
      wf ofco seqcaopr off crn eldifi syl5sseqr suppssr eqid gsumval3 wfo f1ofo
      sylan2 forn 3eqtrd suppss 3eqtr4d expr exlimdv expimpd jaod mpd ) AEGUFUG
      ZUHIUIUJZUKZULUMZUUOUNUOZUQSZURUUQUPTZUUOUAUSZUTZUAVAZVBZVCZFEGDVDZTZVETZ
      FEVETZFGVETZDTZUMZAUUOVFSUVDAUUOEUGZUUNUKZGUGZUUNUKZUFZVFUUOUVLUVNUFZUUNU
      KUVPUUMUVQUUNEGVGVHUVLUVNUUNVIVJZAUVMVFSUVOVFSUVPVFSQRUVMUVOVLVKVMUUOUAVN
      VOAUUPUVKUVCAUUPUVKAUUPVBZIIDTZIUVJUVGAUVTIUMZUUPAFVPSZICSZUWAAFVQSZUWBMF
      VRVOZAUWBUWCUWECFIJKVSVOZCDFIIJLKVTVKZWAZUVSUVHIUVIIDUVSUVHFUBBIWBZVETZIU
      VSEUWIFVEABCUBEFHUUOIJKMNOUVMUUOWCAUVMUVPUUOUVMUVOWDUVRWEZWFWGZWHAUWJIUMZ
      UUPAUWBBHSZUWMUWENBUBFHIKWIVKWAZWJUVSUVIUWJIUVSGUWIFVEABCUBGFHUUOIJKMNPUV
      OUUOWCAUVOUVPUUOUVOUVMWNUVRWEZWFWGZWHUWOWJWKUVSUVGUWJIUVSUVFUWIFVEUVSUVFU
      BBUVTWBUWIUVSUBBIIDEGHCCAUWNUUPNWAAUWCUUPUBUSZBSZUWFWLZUWTUWLUWQWOUVSUBBU
      VTIUWHWMWJWHUWOWJWPWQAUURUVBUVKAUURVBUVAUVKUAAUURUVAUVKAUURUVAVBZVBZUUQDU
      VFUUTWRZURXFUOUUQDEUUTWRZURXFUOZUUQDGUUTWRZURXFUOZDTUVGUVJUXBUBUCUDDCUEUX
      DUXFUXCURUUQUXBUWBUWRCSZUCUSZCSZVBZUWRUXIDTZCSZAUWBUXAUWEWAZUWBUXHUXJUXMC
      DFUWRUXIJLWSWTXAZUXBUWDUXKUXLUXIUWRDTUMZAUWDUXAMWAZUWDUXHUXJUXPCDFUWRUXIJ
      LXBWTXAUXBUWBUXHUXJUDUSZCSXCUXLUXRDTUWRUXIUXRDTDTUMUXNCDFUWRUXIUXRJLXDXAU
      XBUUQUQURXGUOAUURUVAXEZXHXIUXBUUSCUXDYKZUEUSZUUSSZUYAUXDUOZCSUXBBCEYKZUUS
      BUUTYKZUXTAUYDUXAOWAZUXBUUSBUUTXJZUYEUXBUUSUUOUUTXJZUUOBWCZUYGUVAUYHAUURU
      USUUOUUTXKXLAUYIUXAAUUOUVPBUVRAUVMUVOBAEXMZUVMBEUUNXNAUYDUYJBUMOBCEXOVOXP
      AGXMZUVOBGUUNXNABCGYKZUYKBUMPBCGXOVOXPXQXRWAUUSUUOBUUTXSVKZUUSBUUTXTVOZUU
      SBCEUUTYAVKUUSCUYAUXDYBXAUXBUUSCUXFYKZUYBUYAUXFUOZCSUXBUYLUYEUYOAUYLUXAPW
      AZUYNUUSBCGUUTYAVKUUSCUYAUXFYBXAUXBUYBVBZUYAUXCUOZUYAUXDUXFUVETZUOZUYCUYP
      DTUXBUYSVUAUMUYBUXBUYAUXCUYTUXBBBBUUSDEGUUTHHUHUXBUYDEBYCZUYFBCEYDVOZUXBU
      YLGBYCZUYQBCGYDVOZUYNAUWNUXANWAZVUFUUSUHSUXBURUUQUPYEWFZBYFZYLYGWAUXBUUSU
      USUYCUYPDUUSUXDUXFUHUHUYAUXBVUBUYEUXDUUSYCVUCUYNBUUSEUUTYHVKUXBVUDUYEUXFU
      USYCVUEUYNBUUSGUUTYHVKVUGVUGUUSYFUYRUYCYIUYRUYPYIYJWJYMUXBBCDUVFFUUTUUQHU
      XCUGUUNUKZIJKLUXQVUFUXBUBUCBBBDCCCEGHHUXOUYFUYQVUFVUFVUHYNZUXSUYMUXBBCUBU
      VFUUTYOZIVUJUXBUWRBVUKUJSZVBZUWRUVFUOZUWREUOZUWRGUOZDTZUVTIVULUXBUWSVUNVU
      QUMUWRBVUKYPUXBBBVUOVUPDBEGHHUWRVUCVUEVUFVUFVUHUXBUWSVBZVUOYIVURVUPYIYJUU
      CVUMVUOIVUPIDUXBBCEVUKUWRIUYFUXBUUOUVMVUKUWKUVAVUKUUOUMZAUURUVAUUSUUOUUTU
      UAVUSUUSUUOUUTUUBUUSUUOUUTUUDVOXLZYQZYRUXBBCGVUKUWRIUYQUXBUUOUVOVUKUWPVUT
      YQZYRWKAUWAUXAVULUWGWLUUEUUFVUIYSYTUXBUVHUXEUVIUXGDUXBBCDEFUUTUUQHUXDUGUU
      NUKZIJKLUXQVUFUYFUXSUYMVVAVVCYSYTUXBBCDGFUUTUUQHUXFUGUUNUKZIJKLUXQVUFUYQU
      XSUYMVVBVVDYSYTWKUUGUUHUUIUUJUUKUUL $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d k A $.  $d k B $.  $d k C $.  $d k D $.  $d k F $.  $d k P $.  $d k Z $.
    $d k ph $.
    gsumsplit.b $e |- B = ( Base ` G ) $.
    gsumsplit.z $e |- Z = ( 0g ` G ) $.
    gsumsplit.p $e |- P = ( +g ` G ) $.
    gsumsplit.g $e |- ( ph -> G e. Abel ) $.
    gsumsplit.a $e |- ( ph -> A e. V ) $.
    gsumsplit.f $e |- ( ph -> F : A --> B ) $.
    gsumsplit.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    gsumsplit.i $e |- ( ph -> ( C i^i D ) = (/) ) $.
    gsumsplit.u $e |- ( ph -> A = ( C u. D ) ) $.
    $( Split a group sum into two parts.  (Contributed by Mario Carneiro,
       19-Dec-2014.) $)
    gsumsplit $p |- ( ph -> ( G gsum F ) =
      ( ( G gsum ( F |` C ) ) P ( G gsum ( F |` D ) ) ) ) $=
      ( vk cv wcel cfv cif cmpt cof co cgsu cres wa wf ffvelrn sylan cgrp cabel
      ablgrp syl grpidcl ifcl syl2anc eqid fmptd ccnv cvv csn cdif cima cfn wss
      adantr ssid a1i suppssr ifeq1d ifid syl6eq suppss2 ssfi gsumadd wo eleq2d
      wceq cun elun syl6bb biimpa iftrue adantl wn wi c0 noel eleq2 mtbiri elin
      cin sylnib imnan sylibr iffalse oveq12d grprid syldan eqtrd grplid jaodan
      imp con2d mpdan mpteq2dva eqidd offval2 wfn dffn5v sylib 3eqtr4rd reseq1d
      ffn oveq2d ssun1 syl5sseqr mpteq2ia resmpt 3eqtr4a eqtr4d gsumres 3eqtr4d
      eldifn ssun2 ) AHTBTUAZDUBZYJGUCZJUDZUEZTBYJEUBZYLJUDZUEZFUFUGZUHUGHYNUHU
      GZHYQUHUGZFUGHGUHUGHGDUIZUHUGZHGEUIZUHUGZFUGABCFYNHYQIJKLMNOATBYMCYNAYJBU
      BZUJZYLCUBZJCUBZYMCUBABCGUKZUUEUUGPBCYJGULUMZAUUHUUEAHUNUBZUUHAHUOUBUUKNH
      UPUQZCHJKLURUQVJZYKYLJCUSUTZYNVAVBZATBYPCYQUUFUUGUUHYPCUBUUJUUMYOYLJCUSUT
      ZYQVAVBZAGVCVDJVEVFZVGZVHUBZYNVCUURVGZUUSVIUVAVHUBQABYMTUUSJAYJBUUSVFUBUJ
      ZYMYKJJUDJUVBYKYLJJABCGUUSYJJPUUSUUSVIAUUSVKVLVMZVNYKJVOVPVQUUSUVAVRUTZAU
      UTYQVCUURVGZUUSVIUVEVHUBQABYPTUUSJUVBYPYOJJUDJUVBYOYLJJUVCVNYOJVOVPVQUUSU
      VEVRUTZVSAGYRHUHATBYMYPFUGZUETBYLUEZYRGATBUVGYLUUFYKYOVTZUVGYLWBZAUUEUVIA
      UUEYJDEWCZUBUVIABUVKYJSWAYJDEWDWEWFUUFYKUVJYOUUFYKUJZUVGYLJFUGZYLUVLYMYLY
      PJFYKYMYLWBUUFYKYLJWGZWHUVLYOWIZYPJWBZUUFYKUVOUUFYKYOUJZWIYKUVOWJUUFYJDEW
      PZUBZUVQAUVSWIZUUEAUVRWKWBZUVTRUWAUVSYJWKUBYJWLUVRWKYJWMWNUQVJYJDEWOWQYKY
      OWRWSZXGYOYLJWTZUQXAUUFUVMYLWBZYKAUUEUUGUWDUUJAUUKUUGUWDUULCFHJYLKMLXBUMX
      CVJXDUUFYOUJZUVGJYLFUGZYLUWEYMJYPYLFUWEYKWIZYMJWBZUUFYOUWGUUFYKYOUWBXHXGY
      KYLJWTZUQYOYPYLWBUUFYOYLJWGZWHXAUUFUWFYLWBZYOAUUEUUGUWKUUJAUUKUUGUWKUULCF
      HJYLKMLXEUMXCVJXDXFXIXJATBYMYPFYNYQICCOUUNUUPAYNXKAYQXKXLAGBXMZGUVHWBAUUI
      UWLPBCGXRUQTBGXNXOZXPXSAUUBYSUUDYTFAUUBHYNDUIZUHUGYSAUUAUWNHUHAUUAUVHDUIZ
      UWNAGUVHDUWMXQADBVIZUWNUWOWBAUVKDBDEXTSYAUWPTDYMUETDYLUEUWNUWOTDYMYLUVNYB
      TBDYMYCTBDYLYCYDUQYEXSABCYNHIDJKLNOUUOABYMTDJAYJBDVFUBZUJUWGUWHUWQUWGAYJB
      DYHWHUWIUQVQUVDYFXDAUUDHYQEUIZUHUGYTAUUCUWRHUHAUUCUVHEUIZUWRAGUVHEUWMXQAE
      BVIZUWRUWSWBAUVKEBEDYISYAUWTTEYPUETEYLUEUWRUWSTEYPYLUWJYBTBEYPYCTBEYLYCYD
      UQYEXSABCYQHIEJKLNOUUQABYPTEJAYJBEVFUBZUJUVOUVPUXAUVOAYJBEYHWHUWCUQVQUVFY
      FXDXAYG $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d k A $.  $d k B $.  $d k C $.  $d k D $.  $d k ph $.
    gsumsplit2.b $e |- B = ( Base ` G ) $.
    gsumsplit2.z $e |- Z = ( 0g ` G ) $.
    gsumsplit2.p $e |- P = ( +g ` G ) $.
    gsumsplit2.g $e |- ( ph -> G e. Abel ) $.
    gsumsplit2.a $e |- ( ph -> A e. V ) $.
    gsumsplit2.f $e |- ( ( ph /\ k e. A ) -> X e. B ) $.
    gsumsplit2.w $e |- ( ph ->
      ( `' ( k e. A |-> X ) " ( _V \ { Z } ) ) e. Fin ) $.
    gsumsplit2.i $e |- ( ph -> ( C i^i D ) = (/) ) $.
    gsumsplit2.u $e |- ( ph -> A = ( C u. D ) ) $.
    $( Split a group sum into two parts.  (Contributed by Mario Carneiro,
       19-Dec-2014.) $)
    gsumsplit2 $p |- ( ph -> ( G gsum ( k e. A |-> X ) ) =
      ( ( G gsum ( k e. C |-> X ) ) P ( G gsum ( k e. D |-> X ) ) ) ) $=
      ( cmpt cgsu cres eqid fmptd gsumsplit wss wceq cun ssun1 syl5sseqr resmpt
      co syl oveq2d ssun2 oveq12d eqtrd ) AHGBJUAZUBUMHUSDUCZUBUMZHUSEUCZUBUMZF
      UMHGDJUAZUBUMZHGEJUAZUBUMZFUMABCDEFUSHIKLMNOPAGBJCUSQUSUDUERSTUFAVAVEVCVG
      FAUTVDHUBADBUGUTVDUHADEUIZDBDEUJTUKGBDJULUNUOAVBVFHUBAEBUGVBVFUHAVHEBEDUP
      TUKGBEJULUNUOUQUR $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d f k x A $.  $d f k x B $.  $d f k x G $.  $d f M $.  $d f k x X $.
    gsumconst.b $e |- B = ( Base ` G ) $.
    gsumconst.m $e |- M = ( .g ` G ) $.
    $( Sum of a constant series.  (Contributed by Mario Carneiro,
       19-Dec-2014.) $)
    gsumconst $p |- ( ( G e. Abel /\ A e. Fin /\ X e. B ) ->
      ( G gsum ( k e. A |-> X ) ) = ( ( # ` A ) M X ) ) $=
      ( vf vx wcel c0 wceq cfv cn c1 co wa cmpt eqid cabel cfn w3a chash cfz cv
      wf1o wex wo cgsu fz1f1o 3ad2ant2 c0g mpteq1 adantl mpt0 syl6eq oveq2d cc0
      gsum0 fveq2 hash0 oveq1d simpl3 mulg0 syl eqtrd eqtr4d ex cplusg ccom csn
      cseq cxp cuz simprl nnuz syl6eleq simpr adantr fvmpt2 syl2anc wf ad2antll
      f1of ffvelrn sylan wfn dffn5v sylib eqidd fmptco fveq1d fvconst2g 3eqtr4d
      ffn elfznn seqfveq ccnv cvv cdif cima simpl1 fmptd wf1 f1of1 crn cnvimass
      simpl2 cdm dmmptss sstri wfo f1ofo forn syl5sseqr gsumval3 mulgnn exlimdv
      expr expimpd jaod mpd ) DUAKZAUBKZFBKZUCZALMZAUDNZOKZPYIUEQZAIUFZUGZIUHZR
      ZUIZDCAFSZUJQZYIFEQZMZYEYDYPYFAIUKULYGYHYTYOYGYHYTYGYHRZYRDUMNZYSUUAYRDLU
      JQUUBUUAYQLDUJUUAYQCLFSZLYHYQUUCMYGCALFUNUOCFUPUQURDUUBUUBTZUTUQUUAYSUSFE
      QZUUBUUAYIUSFEUUAYILUDNZUSYHYIUUFMYGALUDVAUOVBUQVCUUAYFUUEUUBMYDYEYFYHVDB
      EDUUBFGUUDHVEVFVGVHVIYGYJYNYTYGYJRYMYTIYGYJYMYTYGYJYMRZRZYIDVJNZYQYLVKZPV
      MNYIUUIOFVLVNZPVMZNZYRYSUUHUUIJUUJUUKPYIUUHYIOPVONYGYJYMVPZVQVRUUHJUFZYKK
      ZRZUUOJYKFSZNZFUUOUUJNZUUOUUKNZUUQUUPYFUUSFMUUHUUPVSUUHYFUUPYDYEYFUUGVDZV
      TZJYKFBUURUURTWAWBUUHUUTUUSMUUPUUHUUOUUJUURUUHJCYKAUUOYLNZFFYLYQUUHYKAYLW
      CZUUPUVDAKYMUVEYGYJYKAYLWEWDZYKAUUOYLWFWGUUHYLYKWHZYLJYKUVDSMUUHUVEUVGUVF
      YKAYLWPVFJYKYLWIWJUUHYQWKCUFZUVDMFWKWLWMVTUUQYFUUOOKZUVAFMUVCUUPUVIUUHUUO
      YIWQUOOFUUOBWNWBWOWRUUHABUUIYQDYLYIUBUUJWSWTUUBVLXAZXBZUUBGUUDUUITZYDYEYF
      UUGXCYDYEYFUUGXIUUHCAFBYQUUHYFUVHAKUVBVTYQTZXDUUNYMYKAYLXEYGYJYKAYLXFWDUU
      HAYQWSUVJXBZYLXGZUVNYQXJAYQUVJXHCAFYQUVMXKXLYMUVOAMZYGYJYMYKAYLXMUVPYKAYL
      XNYKAYLXOVFWDXPUVKTXQUUHYJYFYSUUMMUUNUVBBUUIUULEDYIFGUVLHUULTXRWBWOXTXSYA
      YBYC $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d k x y B $.  $d f k x y F $.  $d f k G $.  $d f k x H $.  $d f k x y K $.
    $d k A $.  $d x y P $.  $d f k x y ph $.  $d x y Q $.  $d f k x y Z $.
    $d k V $.
    gsumhomo.b $e |- B = ( Base ` G ) $.
    gsumhomo.c $e |- C = ( Base ` H ) $.
    gsumhomo.z $e |- Z = ( 0g ` G ) $.
    gsumhomo.p $e |- P = ( +g ` G ) $.
    gsumhomo.q $e |- Q = ( +g ` H ) $.
    gsumhomo.g $e |- ( ph -> G e. Abel ) $.
    gsumhomo.h $e |- ( ph -> H e. Abel ) $.
    gsumhomo.a $e |- ( ph -> A e. V ) $.
    gsumhomo.k $e |- ( ph -> K : B --> C ) $.
    gsumhomo.d $e |- ( ( ph /\ ( x e. B /\ y e. B ) ) ->
      ( K ` ( x P y ) ) = ( ( K ` x ) Q ( K ` y ) ) ) $.
    gsumhomo.f $e |- ( ph -> F : A --> B ) $.
    gsumhomo.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    $( Apply a group homomorphism to a group sum.  (Contributed by Mario
       Carneiro, 15-Dec-2014.) $)
    gsumhomo $p |- ( ph -> ( H gsum ( K o. F ) ) =
                           ( K ` ( G gsum F ) ) ) $=
      ( vf vk ccnv cvv csn cdif cima c0 wceq chash cfv cn wcel c1 cfz co cv wex
      wf1o wa wo ccom cgsu cfn fz1f1o syl c0g cmpt cgrp cabel ablgrp eqid gsumz
      syl2anc adantr wral ralrimivva wi grpidcl oveq1 fveq2d fveq2 oveq1d oveq2
      eqeq12d oveq2d rcla42v mpd grplid eqtr3d wb wf grpid mpbid eqtrd ad2antrr
      ffvelrn wss ssid a1i gsumcllem wfn ffn dffn5v sylib fmptco eqtr4d 3eqtr4d
      mpteq2dv ex cseq grpcl 3expb sylan wf1 ad2antll cdm cnvimass fdm syl5sseq
      f1of1 f1ss f1f fco cuz simprl nnuz syl6eleq adantlr coass fveq1i sseqtr4d
      fvco3 gsumval3 syl5req seqhomo crn wfo f1ofo suppssr eldifi sylan2 suppss
      forn 3eqtr4rd expr exlimdv expimpd jaod ) AIUIUJNUKULZUMZUNUOZUUQUPUQZURU
      SZUTUUSVAVBZUUQUGVCZVEZUGVDZVFZVGZKLIVHZVIVBZJIVIVBZLUQZUOZAUUQVJUSUVFUFU
      UQUGVKVLAUURUVKUVEAUURUVKAUURVFZKUHDKVMUQZVNZVIVBZNLUQZUVHUVJUVLUVOUVMUVP
      AUVOUVMUOZUURAKVOUSZDMUSZUVQAKVPUSZUVRUAKVQVLZUBDUHKMUVMUVMVRZVSVTWAAUVMU
      VPUOZUURAUVPUVPHVBZUVPUOZUWCANNGVBZLUQZUWDUVPABVCZCVCZGVBZLUQZUWHLUQZUWIL
      UQZHVBZUOZCEWBBEWBZUWGUWDUOZAUWOBCEEUDWCANEUSZUWRUWPUWQWDAJVOUSZUWRAJVPUS
      ZUWSTJVQVLZEJNOQWEVLZUXBUWOUWQNUWIGVBZLUQZUVPUWMHVBZUOBCNNEEUWHNUOZUWKUXD
      UWNUXEUXFUWJUXCLUWHNUWIGWFWGUXFUWLUVPUWMHUWHNLWHZWIWKUWINUOZUXDUWGUXEUWDU
      XHUXCUWFLUWINNGWJWGUXHUWMUVPUVPHUWINLWHWLWKWMVTWNAUWFNLAUWSUWRUWFNUOUXAUX
      BEGJNNORQWOVTWGWPAUVRUVPFUSZUWEUWCWQUWAAEFLWRZUWRUXIUCUXBEFNLXCVTFHKUVMUV
      PPSUWBWSVTWTZWAXAUVLUVGUVNKVIUVLUVGUHDUVPVNZUVNUVLUHBDENUWLUVPILAUWRUURUH
      VCDUSUXBXBADEUHIJMUUQNOQTUBUEUUQUUQXDZAUUQXEZXFXGZALBEUWLVNUOZUURALEXHZUX
      PAUXJUXQUCEFLXIVLBELXJXKWAUXGXLAUVNUXLUOUURAUHDUVMUVPUXKXOWAXMWLUVLUVINLU
      VLUVIJUHDNVNZVIVBZNUVLIUXRJVIUXOWLAUXSNUOZUURAUWSUVSUXTUXAUBDUHJMNQVSVTWA
      XAWGXNXPAUUTUVDUVKAUUTVFUVCUVKUGAUUTUVCUVKAUUTUVCVFZVFZUUSGIUVBVHZUTXQUQZ
      LUQUUSHUVGUVBVHZUTXQUQUVJUVHUYBBCGHEUYCUYELUTUUSUYBUWSUWHEUSZUWIEUSZVFZUW
      JEUSZAUWSUYAUXAWAUWSUYFUYGUYIEGJUWHUWIORXRXSXTUYBUVAEUYCWRZUWHUVAUSZUWHUY
      CUQZEUSUYBDEIWRZUVADUVBWRZUYJAUYMUYAUEWAZUYBUVADUVBYAZUYNUYBUVAUUQUVBYAZU
      UQDXDUYPUVCUYQAUUTUVAUUQUVBYGYBUYBIYCZUUQDIUUPYDUYBUYMUYRDUOUYODEIYEVLYFU
      VAUUQDUVBYHVTZUVADUVBYIVLUVADEIUVBYJVTZUVAEUWHUYCXCXTUYBUUSURUTYKUQAUUTUV
      CYLZYMYNAUYHUWOUYAUDYOUYBUYKVFUWHUYEUQUWHLUYCVHZUQZUYLLUQZUWHUYEVUBLIUVBY
      PYQUYBUYJUYKVUCVUDUOUYTUVAEUWHLUYCYSXTUUAUUBUYBUVIUYDLUYBDEGIJUVBUUSMUYCU
      IUUPUMZNOQRAUWTUYATWAAUVSUYAUBWAZUYOVUAUYSUYBUUQUUQUVBUUCZUXMUYBUXNXFZUVC
      VUGUUQUOZAUUTUVCUVAUUQUVBUUDVUIUVAUUQUVBUUEUVAUUQUVBUUJVLYBZYRVUEVRYTWGUY
      BDFHUVGKUVBUUSMUYEUIUJUVMUKULZUMZUVMPUWBSAUVTUYAUAWAVUFUYBUXJUYMDFUVGWRAU
      XJUYAUCWAUYODEFLIYJVTZVUAUYSUYBUVGUIVUKUMUUQVUGUYBDFBUVGUUQUVMVUMUYBUWHDU
      UQULUSZVFZUWHIUQZLUQZUVPUWHUVGUQZUVMVUOVUPNLUYBDEIUUQUWHNUYOVUHUUFWGVUNUY
      BUWHDUSZVURVUQUOZUWHDUUQUUGUYBUYMVUSVUTUYODEUWHLIYSXTUUHAUWCUYAVUNUXKXBXN
      UUIVUJYRVULVRYTUUKUULUUMUUNUUOWN $.
      $( [15-Dec-2014] $)
  $}

  ${
    $d k x y z A $.  $d k x y z B $.  $d x y z G $.  $d x y z X $.  $d y z Z $.
    $d k x y z N $.  $d k x y z ph $.  $d k x y z T $.
    gsummulg.b $e |- B = ( Base ` G ) $.
    gsummulg.z $e |- Z = ( 0g ` G ) $.
    gsummulg.t $e |- T = ( .g ` G ) $.
    gsummulg.g $e |- ( ph -> G e. Abel ) $.
    gsummulg.a $e |- ( ph -> A e. V ) $.
    gsummulg.n $e |- ( ph -> N e. ZZ ) $.
    gsummulg.f $e |- ( ( ph /\ k e. A ) -> X e. B ) $.
    gsummulg.w $e |- ( ph ->
      ( `' ( k e. A |-> X ) " ( _V \ { Z } ) ) e. Fin ) $.
    $( Multiple of a group sum.  (Contributed by Mario Carneiro,
       15-Dec-2014.) $)
    gsummulg $p |- ( ph -> ( G gsum ( k e. A |-> ( N T X ) ) ) =
                           ( N T ( G gsum ( k e. A |-> X ) ) ) ) $=
      ( co wcel vx vy vz cv cmpt ccom cgsu cfv cplusg eqid cgrp cz cabel ablgrp
      wa syl mulgcl 3expa sylan fmptd wceq adantr simprl simprr mulgdi syl13anc
      jca grpcl 3expb oveq2 ovex fvmpt oveqan12d adantl 3eqtr4d gsumhomo fmptco
      eqidd oveq2d gsumcl 3eqtr3d ) AFUACGUAUDZDSZUEZEBIUEZUFZUGSFWEUGSZWDUHZFE
      BGIDSZUEZUGSGWGDSZAUBUCBCCFUIUHZWLWEFFWDHJKKLWLUJZWMNNOAUACWCCWDAFUKTZGUL
      TZUOWBCTZWCCTZAWNWOAFUMTZWNNFUNUPZPVGWNWOWPWQCDFGWBKMUQURUSWDUJZUTAUBUDZC
      TZUCUDZCTZUOZUOZGXAXCWLSZDSZGXADSZGXCDSZWLSZXGWDUHZXAWDUHZXCWDUHZWLSZXFWR
      WOXBXDXHXKVAAWRXENVBAWOXEPVBAXBXDVCAXBXDVDCWLDFGXAXCKMWMVEVFXFXGCTZXLXHVA
      AWNXEXPWSWNXBXDXPCWLFXAXCKWMVHVIUSUAXGWCXHCWDWBXGGDVJWTGXGDVKVLUPXEXOXKVA
      AXBXDXMXIXNXJWLUAXAWCXICWDWBXAGDVJWTGXADVKVLUAXCWCXJCWDWBXCGDVJWTGXCDVKVL
      VMVNVOAEBICWEQWEUJUTZRVPAWFWJFUGAEUABCIWCWIWEWDQAWEVRAWDVRWBIGDVJVQVSAWGC
      TWHWKVAABCWEFHJKLNOXQRVTUAWGWCWKCWDWBWGGDVJWTGWGDVKVLUPWA $.
      $( [15-Dec-2014] $)
  $}

  ${
    $d x y B $.  $d x y F $.  $d x y G $.  $d x y I $.  $d x y ph $.
    $d x y Z $.
    gsuminv.b $e |- B = ( Base ` G ) $.
    gsuminv.z $e |- Z = ( 0g ` G ) $.
    gsuminv.p $e |- I = ( invg ` G ) $.
    gsuminv.g $e |- ( ph -> G e. Abel ) $.
    gsuminv.a $e |- ( ph -> A e. V ) $.
    gsuminv.f $e |- ( ph -> F : A --> B ) $.
    gsuminv.n $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    $( Inverse of a group sum.  (Contributed by Mario Carneiro,
       15-Dec-2014.) $)
    gsuminv $p |- ( ph -> ( G gsum ( I o. F ) ) = ( I ` ( G gsum F ) ) ) $=
      ( vx vy cfv wcel syl cplusg eqid wf1o wf cabel cgrp ablgrp grpinvf1o f1of
      cv wa co wceq ablinvadd 3expb sylan gsumhomo ) APQBCCEUARZURDEEFGHIIJURUB
      ZUSLLMACCFUCCCFUDACEFIKAEUESZEUFSLEUGTUHCCFUITAUTPUJZCSZQUJZCSZUKVAVCURUL
      FRVAFRVCFRURULUMZLUTVBVDVECUREFVAVCIUSKUNUOUPNOUQ $.
      $( [15-Dec-2014] $)
  $}

  ${
    $d k A $.  $d k x B $.  $d k F $.  $d k x G $.  $d k x H $.  $d k ph $.
    $d k M $.  $d k Z $.
    gsumsub.b $e |- B = ( Base ` G ) $.
    gsumsub.z $e |- Z = ( 0g ` G ) $.
    gsumsub.m $e |- M = ( -g ` G ) $.
    gsumsub.g $e |- ( ph -> G e. Abel ) $.
    gsumsub.a $e |- ( ph -> A e. V ) $.
    gsumsub.f $e |- ( ph -> F : A --> B ) $.
    gsumsub.h $e |- ( ph -> H : A --> B ) $.
    gsumsub.fn $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    gsumsub.hn $e |- ( ph -> ( `' H " ( _V \ { Z } ) ) e. Fin ) $.
    $( The difference of two group sums.  (Contributed by Mario Carneiro,
       28-Dec-2014.) $)
    gsumsub $p |- ( ph ->
      ( G gsum ( F oF M H ) ) = ( ( G gsum F ) M ( G gsum H ) ) ) $=
      ( vk co vx cminusg cfv ccom cplusg cof cgsu eqid wf wf1o cgrp wcel ablgrp
      cabel syl id grpinvf1o f1of fco syl2anc ccnv cvv csn cdif cima cfn wss cv
      wa wceq eldifi fvco3 syl2an ssid a1i fveq2d grpinvid adantr 3eqtrd suppss
      suppssr ssfi gsumadd gsuminv eqtrd cmpt ffvelrn sylan grpsubval mpteq2dva
      oveq2d wfn dffn5v sylib offval2 fvex f1ofn fveq2 fmptco 3eqtr4d gsumcl
      ffn ) AEDEUBUCZFUDZEUEUCZUFTZUGTZEDUGTZEFUGTZXCUCZXETZEDFGUFTZUGTXHXIGTZA
      XGXHEXDUGTZXETXKABCXEDEXDHIJKXEUHZMNOACCXCUIZBCFUIZBCXDUIACCXCUJZXPAEUKUL
      ZXRAEUNULXSMEUMUOZXSCEXCJXCUHZXSUPUQUOZCCXCURUOPBCCXCFUSUTZQAFVAVBIVCVDZV
      EZVFULXDVAYDVEZYEVGYFVFULRABCSXDYEIYCASVHZBYEVDULZVIZYGXDUCZYGFUCZXCUCZIX
      CUCZIAXQYGBULZYJYLVJYHPYGBYEVKBCYGXCFVLVMYIYKIXCABCFYEYGIPYEYEVGAYEVNVOWA
      VPAYMIVJZYHAXSYOXTEXCIKYAVQUOVRVSVTYEYFWBUTWCAXNXJXHXEABCFEXCHIJKYAMNPRWD
      WKWEAXLXFEUGASBYGDUCZYKGTZWFSBYPYLXETZWFXLXFASBYQYRAYNVIZYPCULZYKCULZYQYR
      VJABCDUIZYNYTOBCYGDWGWHZAXQYNUUAPBCYGFWGWHZCXEEXCGYPYKJXOYALWIUTWJASBYPYK
      GDFHCCNUUCUUDADBWLZDSBYPWFVJAUUBUUEOBCDXBUOSBDWMWNZAFBWLZFSBYKWFVJAXQUUGP
      BCFXBUOSBFWMWNZWOASBYPYLXEDXDHCVBNUUCYLVBULYSYKXCWPVOUUFASUABCYKUAVHZXCUC
      ZYLFXCUUDUUHAXCCWLZXCUACUUJWFVJAXRUUKYBCCXCWQUOUACXCWMWNUUIYKXCWRWSWOWTWK
      AXHCULXICULXMXKVJABCDEHIJKMNOQXAABCFEHIJKMNPRXACXEEXCGXHXIJXOYALWIUTWT $.
      $( [28-Dec-2014] $)
  $}

  ${
    $d k B $.  $d k C $.  $d k G $.  $d k M $.
    gsumsn.b $e |- B = ( Base ` G ) $.
    gsumsn.s $e |- ( k = M -> A = C ) $.
    $( Group sum of a singleton.  (Contributed by Mario Carneiro,
       19-Dec-2014.) $)
    gsumsn $p |- ( ( G e. Abel /\ M e. V /\ C e. B ) ->
      ( G gsum ( k e. { M } |-> A ) ) = C ) $=
      ( cabel wcel w3a csn cmpt cgsu co chash cfv c1 wceq cmg cv elsni mpteq2ia
      syl oveq2i cfn snfi eqid gsumconst mp3an2 3adant2 syl5eq hashsng 3ad2ant2
      oveq1d mulg1 3ad2ant3 3eqtrd ) EJKZFGKZCBKZLZEDFMZANZOPZVDQRZCEUARZPZSCVH
      PZCVCVFEDVDCNZOPZVIVEVKEODVDACDUBZVDKVMFTACTVMFUCIUEUDUFUTVBVLVITZVAUTVDU
      GKVBVNFUHVDBDEVHCHVHUIZUJUKULUMVCVGSCVHVAUTVGSTVBFGUNUOUPVBUTVJCTVABVHECH
      VOUQURUS $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d k A $.  $d k B $.  $d k G $.  $d k M $.  $d k ph $.  $d k Y $.
    gsumunsn.b $e |- B = ( Base ` G ) $.
    gsumunsn.p $e |- P = ( +g ` G ) $.
    gsumunsn.g $e |- ( ph -> G e. Abel ) $.
    gsumunsn.a $e |- ( ph -> A e. Fin ) $.
    gsumunsn.f $e |- ( ( ph /\ k e. A ) -> X e. B ) $.
    gsumunsn.m $e |- ( ph -> M e. V ) $.
    gsumunsn.d $e |- ( ph -> -. M e. A ) $.
    gsumunsn.y $e |- ( ph -> Y e. B ) $.
    gsumunsn.s $e |- ( k = M -> X = Y ) $.
    $( Append an element to a finite group sum.  (Contributed by Mario
       Carneiro, 19-Dec-2014.) $)
    gsumunsn $p |- ( ph -> ( G gsum ( k e. ( A u. { M } ) |-> X ) ) =
      ( ( G gsum ( k e. A |-> X ) ) P Y ) ) $=
      ( wcel csn cun cmpt cgsu co cfn c0g cfv eqid snfi unfi sylancl cv wo elun
      wa wceq elsni syl adantl adantr eqeltrd jaodan sylan2b ccnv cvv cdif cima
      wss cdm cnvimass dmmptss sstri ssfi wn cin disjsn sylibr eqidd gsumsplit2
      c0 cabel wi idi gsumsn syl3anc oveq2d eqtrd ) AFEBGUAZUBZIUCZUDUEFEBIUCUD
      UEZFEWIIUCUDUEZDUEWLJDUEAWJCBWIDEFUFIFUGUHZKWNUILMABUFTWIUFTWJUFTZNGUJBWI
      UKULZEUMZWJTAWQBTZWQWITZUNICTZWQBWIUOAWRWTWSOAWSUPIJCWSIJUQZAWSWQGUQXAWQG
      URSUSUTAJCTZWSRVAVBVCVDAWOWKVEVFWNUAVGZVHZWJVIXDUFTWPXDWKVJWJWKXCVKEWJIWK
      WKUIVLVMWJXDVNULAGBTVOBWIVPWAUQQBGVQVRAWJVSVTAWMJWLDAFWBTZGHTXBWMJUQAXEWC
      MWDPRICJEFGHKSWEWFWGWH $.
      $( [19-Dec-2014] $)
  $}

  ${
    $d j k x y z A $.  $d j k x y z F $.  $d j k x y z G $.  $d j k x y z ph $.
    $d j k B $.  $d j k x y z Z $.
    gsum2d.b $e |- B = ( Base ` G ) $.
    gsum2d.z $e |- Z = ( 0g ` G ) $.
    gsum2d.g $e |- ( ph -> G e. Abel ) $.
    gsum2d.a $e |- ( ph -> A e. V ) $.
    gsum2d.r $e |- ( ph -> Rel A ) $.
    gsum2d.f $e |- ( ph -> F : A --> B ) $.
    gsum2d.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
    $( Write a sum over a two-dimensional region as a double sum.  (Contributed
       by Mario Carneiro, 28-Dec-2014.) $)
    gsum2d $p |- ( ph -> ( G gsum F ) = ( G gsum
      ( j e. dom A |-> ( G gsum ( k e. ( A " { j } ) |-> ( j F k ) ) ) ) ) ) $=
      ( cgsu co wcel wceq vx vy vz ccnv cvv csn cdif cima cdm cres cv cmpt dmfi
      cfn syl wi c0 cun reseq2 res0 syl6eq reseq2d oveq2d mpteq1 eqeq12d imbi2d
      mpt0 eqidd wn wa cplusg cfv oveq1 cabel adantr resexg wf wss resss fssres
      eqid sylancl cnvss imass1 mp2b ssfi simprr disjsn resindi 3eqtr3g resundi
      cin sylibr a1i gsumsplit ssun1 ssres2 resabs1 oveq2i ssun2 oveq12i simprl
      imaexg cop elimasn df-ov ffvelrn sylan syl5eqel sylan2b fmptd rnfi biimpi
      vex opelrn con3i anim12i eldif 3imtr4i ssid suppssr syl5eq sylan2 suppss2
      crn syl2anc gsumcl chvarv c2nd cxp ax-mp eqtrd wfn dffn5v sylib eqtri ssv
      resmpt wrel gsumres ad2antrr sneq mpteq12dv eleq1d gsumunsn ccom 2ndconst
      imaeq2d wf1o gsumf1o c1st 1st2nd2 xp1st elsni opeq1d syl6eqr mpteq2ia ffn
      fveq2d reseq1d ressn xp2nd adantl fo2nd fofn reseq1i oveq2 fmptco 3eqtr4a
      wfo mpbi eqtr4d syl5ibr expcom a2d findcard2s mpcom cnvimass fdm syl5sseq
      relss sylc relssdmrn xpss2 syl6ss jca ssin df-res syl6sseqr dmss ad2antll
      eldifn ad2antrl opeldm nsyl sylanbrc syldan anassrs mpteq2dva cgrp ablgrp
      dmexg gsumz eqtr3d 3eqtr3d ) AGFBFUDZUEIUFUGZUHZUIZUJZUJZQRZGDUXIGEBDUKZU
      FZUHZUXMEUKZFRZULZQRZULZQRZGFQRGDBUIZUXSULZQRZUXIUNSZAUXLUYATZAUXHUNSZUYE
      PUXHUMUOZAGFBUAUKZUJZUJZQRZGDUYIUXSULZQRZTZUPAGUQQRZUYPTZUPAGFBUBUKZUJZUJ
      ZQRZGDUYRUXSULZQRZTZUPAGFBUYRUCUKZUFZURZUJZUJZQRZGDVUGUXSULZQRZTZUPAUYFUP
      UAUBUCUXIUYIUQTZUYOUYQAVUNUYLUYPUYNUYPVUNUYKUQGQVUNUYKFUQUJUQVUNUYJUQFVUN
      UYJBUQUJZUQUYIUQBUSBUTZVAVBFUTVAVCVUNUYMUQGQVUNUYMDUQUXSULUQDUYIUQUXSVDDU
      XSVGVAVCVEVFUYIUYRTZUYOVUDAVUQUYLVUAUYNVUCVUQUYKUYTGQVUQUYJUYSFUYIUYRBUSV
      BVCVUQUYMVUBGQDUYIUYRUXSVDVCVEVFUYIVUGTZUYOVUMAVURUYLVUJUYNVULVURUYKVUIGQ
      VURUYJVUHFUYIVUGBUSVBVCVURUYMVUKGQDUYIVUGUXSVDVCVEVFUYIUXITZUYOUYFAVUSUYL
      UXLUYNUYAVUSUYKUXKGQVUSUYJUXJFUYIUXIBUSVBVCVUSUYMUXTGQDUYIUXIUXSVDVCVEVFA
      UYPVHUYRUNSZVUEUYRSVIZVJZAVUDVUMAVVBVUDVUMUPVUDVUMAVVBVJZVUAGFBVUFUJZUJZQ
      RZGVKVLZRZVUCVVFVVGRZTVUAVUCVVFVVGVMVVCVUJVVHVULVVIVVCVUJGVUIUYSUJZQRZGVU
      IVVDUJZQRZVVGRVVHVVCVUHCUYSVVDVVGVUIGUEIJKVVGWAZAGVNSZVVBLVOZAVUHUESZVVBA
      BHSZVVQMBVUGHVPUOVOAVUHCVUIVQZVVBABCFVQZVUHBVRVVSOBVUGVSBCVUHFVTWBVOAVUIU
      DZUXGUHZUNSZVVBAUYGVWBUXHVRZVWCPVUIFVRVWAUXFVRVWDFVUHVSVUIFWCVWAUXFUXGWDW
      EUXHVWBWFWBVOVVCBUYRVUFWLZUJVUOUYSVVDWLUQVVCVWEUQBVVCVVAVWEUQTAVUTVVAWGZU
      YRVUEWHWMVBBUYRVUFWIVUPWJVUHUYSVVDURTVVCBUYRVUFWKWNWOVVKVUAVVMVVFVVGVVJUY
      TGQUYRVUGVRUYSVUHVRVVJUYTTUYRVUFWPUYRVUGBWQFUYSVUHWRWEWSVVLVVEGQVUFVUGVRV
      VDVUHVRVVLVVETVUFUYRWTVUFVUGBWQFVVDVUHWRWEWSXAVAVVCVULVUCGEBVUFUHZVUEUXPF
      RZULZQRZVVGRVVIVVCUYRCVVGDGVUEUEUXSVWJJVVNVVPAVUTVVAXBAUXSCSZVVBUXMUYRSAU
      XOCUXRGUEIJKLAVVRUXOUESZMBUXNHXCUOZAEUXOUXQCUXRUXPUXOSZAUXMUXPXDZBSZUXQCS
      BUXMUXPDXNZEXNZXEZAVWPVJUXQVWOFVLZCUXMUXPFXFZAVVTVWPVWTCSOBCVWOFXGXHXIXJU
      XRWAXKZAUXHYEZUNSZUXRUDUXGUHZVXCVRVXEUNSAUYGVXDPUXHXLUOAUXOUXQEVXCIUXPUXO
      VXCUGSZAVWOBUXHUGSZUXQITZVWNUXPVXCSZVIZVJVWPVWOUXHSZVIZVJVXFVXGVWNVWPVXJV
      XLVWNVWPVWSXMZVXKVXIUXMUXPUXHVWQVWRXOXPXQUXPUXOVXCXRVWOBUXHXRZXSAVXGVJUXQ
      VWTIVXAABCFUXHVWOIOUXHUXHVRAUXHXTWNYAYBZYCYDVXCVXEWFYFZYGZUUAVUEUESVVCUCX
      NWNVWFAVWJCSZVVBAVWKUPAVXRUPDUCUXMVUETZVWKVXRAVXSUXSVWJCVXSUXRVWIGQVXSEUX
      OUXQVWGVWHVXSUXNVUFBUXMVUEUUBZUUHUXMVUEUXPFVMUUCVCZUUDVFVXQYHVOVYAUUEVVCV
      WJVVFVUCVVGAVWJVVFTZVVBAUXSGFBUXNUJZUJZQRZTZUPAVYBUPDUCVXSVYFVYBAVXSUXSVW
      JVYEVVFVYAVXSVYDVVEGQVXSVYCVVDFVXSUXNVUFBVXTVBVBVCVEVFAUXSGUXRYIUXNUXOYJZ
      UJZUUFZQRVYEAUXOCVYGUXRGVYHUEIJKLVWMVXBVXPVYGUXOVYHUUIZAUXMUESVYJVWQUXMUX
      OUEUUGYKWNUUJAVYDVYIGQAUAVYGUYIFVLZULZUAVYGUXMUYIYIVLZFRZULVYDVYIUAVYGVYK
      VYNUYIVYGSZVYKUXMVYMXDZFVLVYNVYOUYIVYPFVYOUYIUYIUUKVLZVYMXDVYPUYIUXNUXOUU
      LVYOVYQUXMVYMVYOVYQUXNSVYQUXMTUYIUXNUXOUUMVYQUXMUUNUOUUOYLUUSUXMVYMFXFUUP
      UUQAVYDUABVYKULZVYCUJZVYLAFVYRVYCAFBYMZFVYRTAVVTVYTOBCFUURUOUABFYNYOUUTVY
      SUAVYCVYKULZVYLVYCBVRVYSWUATBUXNVSUABVYCVYKYRYKVYCVYGTWUAVYLTBUXMUVAUAVYC
      VYGVYKVDYKYPVAAUAEVYGUXOVYMUXQVYNVYHUXRVYOVYMUXOSAUYIUXNUXOUVBUVCVYHUAVYG
      VYMULZTAVYHUAUEVYMULZVYGUJZWUBYIWUCVYGYIUEYMZYIWUCTUEUEYIUVJWUEUVDUEUEYIU
      VEYKUAUEYIYNUVKUVFVYGUEVRWUDWUBTVYGYQUAUEVYGVYMYRYKYPWNAUXRVHUXPVYMUXMFUV
      GUVHUVIVCUVLYHVOVCYLVEUVMUVNUVOUVPUVQABCFGHUXJIJKLMOAUXHBUXIUEYJZWLZUXJAU
      XHBVRZUXHWUFVRZVJUXHWUGVRAWUHWUIAFUIZUXHBFUXGUVRAVVTWUJBTOBCFUVSUOUVTZAUX
      HYSZWUIAWUHBYSWULWUKNUXHBUWAUWBWULUXHUXIVXCYJZWUFUXHUWCVXCUEVRWUMWUFVRVXC
      YQVXCUEUXIUWDYKUWEUOUWFUXHBWUFUWGYOBUXIUWHUWIPYTAGUYCUXIUJZQRUYAUYDAWUNUX
      TGQAUXIUYBVRZWUNUXTTAWUHWUOWUKUXHBUWJUODUYBUXIUXSYRUOVCAUYBCUYCGUEUXIIJKL
      AVVRUYBUESMBHUXBUOADUYBUXSCUYCAVWKUXMUYBSVXQVOUYCWAXKAUYBUXSDUXIIAUXMUYBU
      XIUGSZVJZUXSGEUXOIULZQRZIWUQUXRWURGQWUQEUXOUXQIAWUPVWNVXHAWUPVWNVJZVXGVXH
      AWUTVJZVWPVXLVXGVWNVWPAWUPVXMUWKWVAUXMUXISZVXKWUPWVBVIAVWNUXMUYBUXIUWLUWM
      UXMUXPUXHVWQUWNUWOVXNUWPVXOUWQUWRUWSVCAWUSITZWUPAGUWTSZVWLWVCAVVOWVDLGUXA
      UOVWMUXOEGUEIKUXCYFVOYLYDZAUYEUYCUDUXGUHZUXIVRWVFUNSUYHWVEUXIWVFWFYFYTUXD
      UXE $.
      $( [28-Dec-2014] $)
  $}

  ${
    $d j k m n x y z A $.  $d j k m n x G $.  $d j k m n z ph $.  $d j k z U $.
    $d j k m n x y z C $.  $d j k F $.  $d m n x y z X $.  $d j k m n x z Z $.
    $d j k m n B $.  $d j m V $.
    gsumxp.b $e |- B = ( Base ` G ) $.
    gsumxp.z $e |- Z = ( 0g ` G ) $.
    gsumxp.g $e |- ( ph -> G e. Abel ) $.
    gsumxp.a $e |- ( ph -> A e. V ) $.
    gsumxp.r $e |- ( ph -> C e. W ) $.
    ${
      gsumxp.f $e |- ( ph -> F : ( A X. C ) --> B ) $.
      gsumxp.w $e |- ( ph -> ( `' F " ( _V \ { Z } ) ) e. Fin ) $.
      $( Write a group sum over a cartesian product as a double sum.
         (Contributed by Mario Carneiro, 28-Dec-2014.) $)
      gsumxp $p |- ( ph -> ( G gsum F ) = ( G gsum
        ( j e. A |-> ( G gsum ( k e. C |-> ( j F k ) ) ) ) ) ) $=
        ( cgsu c0 co cv cmpt wceq wa gsum0 wfn cxp wf ffn syl xp0 syl6eq fneq2d
        xpeq2 syl5ibcom imp sylib oveq2d mpteq1 mpt0 adantl mpteq2dv cgrp cabel
        fn0 wcel ablgrp gsumz syl2anc adantr eqtrd 3eqtr4a wne cdm csn cima cvv
        xpexg wrel relxp a1i gsum2d dmxp cin simpr vex snid inelcm sylancl rnxp
        cres df-ima df-res inxp eqtri rneqi eqtr2i 3eqtr3g mpteq2dva pm2.61dane
        crn inv1 ) AHGSUAZHEBHFDEUBZFUBGUAZUCZSUAZUCZSUAZUDDTADTUDZUEZHTSUAZKXD
        XJHKMUFZXLGTHSXLGTUGZGTUDAXKXOAGBDUHZUGZXKXOAXPCGUIXQQXPCGUJUKXKXPTGXKX
        PBTUHTDTBUOBULUMUNUPUQGVFURUSXLXJHEBKUCZSUAZKXLXIXRHSXLEBXHKXLXHXMKXLXG
        THSXKXGTUDAXKXGFTXFUCTFDTXFUTFXFVAUMVBUSXNUMVCUSAXSKUDZXKAHVDVGZBIVGZXT
        AHVEVGYANHVHUKOBEHIKMVIVJVKVLVMADTVNZUEZXDHEXPVOZHFXPXEVPZVQZXFUCZSUAZU
        CZSUAZXJAXDYKUDYCAXPCEFGHVRKLMNAYBDJVGXPVRVGOPBDIJVSVJXPVTABDWAWBQRWCVK
        YDYJXIHSYDYJEBYIUCZXIYDYEBUDZYJYLUDYCYMABDWDVBEYEBYIUTUKYDEBYIXHYDXEBVG
        ZUEZYHXGHSYOYGDUDZYHXGUDYOBYFWEZTVNZYPYOYNXEYFVGYRYDYNWFXEEWGWHXEBYFWIW
        JYRYQDVRWEZUHZXBZYSYGDYQYSWKYGXPYFWLZXBUUAXPYFWMUUBYTUUBXPYFVRUHWEYTXPY
        FWNBDYFVRWOWPWQWRDXCWSUKFYGDXFUTUKUSWTVLUSVLXA $.
        $( [28-Dec-2014] $)
    $}

    gsumxp2.f $e |- ( ( ph /\ ( j e. A /\ k e. C ) ) -> X e. B ) $.
    gsumxp2.u $e |- ( ph -> U e. Fin ) $.
    gsumxp2.n $e |- ( ( ph /\ <. j , k >. e. ( ( A X. C ) \ U ) ) -> X = Z ) $.
    $( Lemma for ~ gsumxp2 : show the function is finitely supported. $)
    gsumxp2lem $p |- ( ph ->
      ( `' ( j e. A , k e. C |-> X ) " ( _V \ { Z } ) ) e. Fin ) $=
      ( vz vx cfn wcel cmpt2 ccnv cvv csn cdif cima wss wral wf ralrimivva eqid
      cxp fmpt2 sylib cv wa cop wceq wex wrel relxp eldifi adantl elrel sylancr
      cfv ax-17 hbmpt21 hbfv hbmpt22 simprr fveq2d co df-ov simprl eqeltrrd syl
      vex opelxp simpld simprd syldan ovmpt4g syl3anc syl5eqr 3eqtrd exlimd mpd
      hbeq expr suppss ssfi syl2anc ) AEUCUDFGBDKUEZUFUGLUHUIUJZEUKWSUCUDSABDUP
      ZCUAWRELAKCUDZGDULFBULWTCWRUMAXAFGBDRUNFGBDKCWRWRUOZUQURAUAUSZWTEUIZUDZUT
      ZXCFUSZGUSZVAZVBZGVCZFVCZXCWRVJZLVBZXFWTVDXCWTUDZXLBDVEXEXOAXCWTEVFVGFGXC
      WTVHVIXFXKXNFXFFVKFUBUBXMLFUBXCWRFGUBBDKVLUBUSZXCUDZFVKVMXPLUDZFVKWMXFXJX
      NGXFGVKGUBUBXMLGUBXCWRFGUBBDKVNXQGVKVMXRGVKWMAXEXJXNAXEXJUTZUTZXMXIWRVJZK
      LXTXCXIWRAXEXJVOZVPXTYAXGXHWRVQZKXGXHWRVRXTXGBUDZXHDUDZXAYCKVBXTYDYEXTXIW
      TUDZYDYEUTZXTXIXDUDZYFXTXCXIXDYBAXEXJVSVTZXIWTEVFWAXGXHBDGWBWCURZWDXTYDYE
      YJWEAXSYGXAYJRWFFGBDKWRCXBWGWHWIAXSYHKLVBYITWFWJWNWKWKWLWOEWSWPWQ $.
      $( [28-Dec-2014] $)

    $( Write a group sum over a cartesian product as a double sum.
       (Contributed by Mario Carneiro, 28-Dec-2014.) $)
    gsumxp2 $p |- ( ph -> ( G gsum ( j e. A , k e. C |-> X ) ) =
      ( G gsum ( j e. A |-> ( G gsum ( k e. C |-> X ) ) ) ) ) $=
      ( vm vn vx cmpt2 cgsu co cv cmpt wcel wral wf ralrimivva eqid fmpt2 sylib
      cxp gsumxp2lem gsumxp ax-17 hbmpt21 hbov hbmpt hbmpt22 oveq2 cbvmpt oveq1
      mpteq2dv syl5eq oveq2d wa simprl simprr ovmpt4g syl3anc anassrs mpteq2dva
      wceq eqtrd ) AHFGBDKUDZUEUFHUABHUBDUAUGZUBUGZVSUFZUHZUEUFZUHZUEUFHFBHGDKU
      HZUEUFZUHZUEUFABCDUAUBVSHIJLMNOPQAKCUIZGDUJFBUJBDUPCVSUKAWIFGBDRULFGBDKCV
      SVSUMZUNUOABCDEFGHIJKLMNOPQRSTUQURAWEWHHUEAWEFBHGDFUGZGUGZVSUFZUHZUEUFZUH
      WHUAFUCBWDWOFUCHWCUEUCUGZHUIFUSWPUEUIFUSFUBUCDWBWPDUIFUSFUCVTWAVSWPVTUIZF
      USFGUCBDKUTWPWAUIZFUSVAVBVAWPWOUIUAUSVTWKVQZWCWNHUEWSWCGDVTWLVSUFZUHWNUBG
      UCDWBWTGUCVTWAVSWQGUSFGUCBDKVCWRGUSVAWPWTUIUBUSWAWLVTVSVDVEWSGDWTWMVTWKWL
      VSVFVGVHVIVEAFBWOWGAWKBUIZVJZWNWFHUEXBGDWMKAXAWLDUIZWMKVQZAXAXCVJVJXAXCWI
      XDAXAXCVKAXAXCVLRFGBDKVSCWJVMVNVOVPVIVPVHVIVR $.
      $( [28-Dec-2014] $)

    $( Commute the arguments of a double sum.  (Contributed by Mario Carneiro,
       28-Dec-2014.) $)
    gsumcom $p |- ( ph -> ( G gsum ( j e. A , k e. C |-> X ) ) =
      ( G gsum ( k e. C , j e. A |-> X ) ) ) $=
      ( vz vx vy cmpt2 cgsu co cxp cv csn ccnv cuni cmpt ccom cvv xpexg syl2anc
      wcel wral wf ralrimivva eqid fmpt2 sylib gsumxp2lem wf1o wrel relxp ax-mp
      cnvf1o wceq wb cnvxp f1oeq3 mpbi a1i gsumf1o cfv cop cnveqd unieqd opswap
      sneq vex syl6eq fveq2d df-ov syl6eqr mpt2mpt ax-17 hbmpt22 hbmpt21 oveq12
      hbov ancoms cbvmpt2 eqtri f1of fmpt mpbir rspec adantl wfn ffn syl dffn5v
      eqidd fveq2 fmptco simp3 simp2 syl12anc ovmpt4g syl3anc eqcomd mpt2eq3dva
      w3a simp1 3eqtr4a oveq2d eqtrd ) AHFGBDKUDZUEUFHYAUADBUGZUAUHZUIZUJZUKZUL
      ZUMZUEUFHGFDBKUDZUEUFABDUGZCYBYAHYGUNLMNOABIUQDJUQYJUNUQPQBDIJUOUPAKCUQZG
      DURFBURYJCYAUSZAYKFGBDRUTFGBDKCYAYAVAZVBVCZABCDEFGHIJKLMNOPQRSTVDYBYJYGVE
      ZAYBYBUJZYGVEZYOYBVFYQDBVGUAYBVIVHYPYJVJYQYOVKDBVLYPYJYBYGVMVHVNZVOVPAYHY
      IHUEAUAYBYFYAVQZULZGFDBFUHZGUHZYAUFZUDZYHYIYTUBUCDBUCUHZUBUHZYAUFZUDUUDUB
      UCUADBYSUUGYCUUFUUEVRZVJZYSUUEUUFVRZYAVQUUGUUIYFUUJYAUUIYFUUHUIZUJZUKUUJU
      UIYEUULUUIYDUUKYCUUHWBVSVTUUFUUEUBWCUCWCWAWDWEUUEUUFYAWFWGWHUBUCGFUADBUUG
      UUCGUAUUEUUFYAYCUUEUQZGWIFGUABDKWJYCUUFUQZGWIWMFUAUUEUUFYAUUMFWIFGUABDKWK
      UUNFWIWMYCUUCUQZUBWIUUOUCWIUUEUUAVJUUFUUBVJUUGUUCVJUUEUUAUUFUUBYAWLWNWOWP
      AUAUBYBYJYFUUFYAVQZYSYGYAYCYBUQYFYJUQZAUUQUAYBUUQUAYBURYBYJYGUSZYOUURYRYB
      YJYGWQVHUAYBYJYFYGYGVAWRWSWTXAAYGXFAYAYJXBZYAUBYJUUPULVJAYLUUSYNYJCYAXCXD
      UBYJYAXEVCUUFYFYAXGXHAGFDBKUUCAUUBDUQZUUABUQZXPZUUCKUVBUVAUUTYKUUCKVJAUUT
      UVAXIZAUUTUVAXJZUVBAUVAUUTYKAUUTUVAXQUVCUVDRXKFGBDKYACYMXLXMXNXOXRXSXT $.
      $( [28-Dec-2014] $)
  $}



$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
        Transfinite Recursion
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  ${
    $d x y z A $.  $d x y z B $.  $d x y z w F $.  $d x y z w G $.
      $( ` y z w ` are dummy. $)
    $( Lemma for transfinite recursion.  Compare Lemma 1 of Takeuti and
       Zaring, p. 47. $)
    tfrlem1 $p |- ( A e. On -> ( ( F Fn A /\ G Fn A ) ->
                  ( A. x ( x e. A -> ( ( F ` x ) = ( B ` ( F |` x ) ) /\
                                        ( G ` x ) = ( B ` ( G |` x ) ) ) ) ->
                  A. x ( x e. A -> ( F ` x ) = ( G ` x ) ) ) ) ) $=
      ( vy vz vw con wcel wfn wa wss cv cfv cres wceq wi wal wel sseq1 cleq4
      birimd bialdv bi2imd bilimd weq biland a14b bi2and onelsst sstr
      imland ssel syl4d 19.21aiiv im2and syl6 com23 19.21adv cleq12
      fvreseq biimpar fveq2 syl syl5bir exp4c com4l syl9 imp4a imp a2d ax-2
      19.20 ax17el hba1 hbim ax-17 a13b cleq12d cbvalv syl5bb cbv4 syl5ib exp
      syl34d pm2.43 19.20ii syl5 tfis2 vtoclga ssid mpii ) BIJDBKEBKLZBBMZANZB
      JZWPDOZDWPPZCOZQWPEOZEWPPZCOZQLZRZASZWQWRXAQZRZASZRZWNFNZBMZAFTZXDRZASZXM
      XGRZASZRZRZRWNWOXJRZRFBIXKBQZXSXTWNYAXLWOXRXJXKBBUAYAXOXFXQXIYAXNXEAYAXMW
      QXDXKBWPUBZUCUDYAXPXHAYAXMWQXGYBUCUDUEUEUFXKIJZWNXLXOXQWNXLLZXOLZXQRZWNGN
      ZBMZLZAGTZXDRZASZLZYJXGRZASZRZFGFGUGZYEYMXQYOYQYDYIXOYLYQXLYHWNXKYGBUAUHY
      QXNYKAYQXMYJXDFGAUIZUCUDUJYQXPYNAYQXMYJXGYRUCUDUEYCGFTZYMRZGSZYSYORZGSZRZ
      YFYSYPRZGSYCUVDYEYFRYFYCYEUVAUVCYFYCYEYTGYCYSYEYMYCYSYGXKMZYEYMRXKYGUKUVF
      YDYIXOYLUVFXLYHWNYGXKBULUMUVFXNYKAUVFYJXMXDYGXKWPUNUOUPUQURUSUTYCUVCYDXOX
      QYCYDUVCXRYCYDUVCXRRYCYDLZXMHATZHNZDOZUVIEOZQZRZHSZRZASZXRUVCUVGUVPXNXPRZ
      ASXRUVGUVOUVQAUVGUVOXMXDXGRZRUVQUVGXMUVNUVRYCYDXMUVNUVRRZRYCXMYDUVSYCXMWN
      XLUVSYCXMWPXKMZWNXLUVSRRXKWPUKUVTXLWPBMZWNUVSWPXKBULXDWNUWAUVNXGXDWNUWAUV
      NXGXDXGWTXCQZWNUWALZUVNLZWRWTXAXCVAUWDWSXBQZUWBUWCUWEUVNHBWPDEVBVCWSXBCVD
      VEVFVGVHVIURVJUSVKVLXMXDXGVMURUPXNXPAVNURUVBUVOGAYSYOAGFAVOYNAVPVQUVOGVRG
      AUGZYSXMYOUVNGAFVSUWFHGTZUVLRZHSUVNYOUWFUWHUVMHUWFUWGUVHUVLGAHUIUCUDYNUWH
      AHAHUGZYJUWGXGUVLAHGVSUWIWRUVJXAUVKWPUVIDVDWPUVIEVDVTUEWAWBUEWCWDWEUSVJWF
      YEXQWGURUVEYTUVBGYSYMYOVMWHWIWJVGWKBWLWM $.
      $([10-Aug-94]$)
  $}

  ${
    $d w A $.  $d w B $.  $d w F $.  $d w G $.  $d w x $.  $d w y $.
    $( Lemma for transfinite recursion.  Messy details needed to link in
       ~tfrlem1 . $)
    tfrlem2 $p |- ( ( F Fn A /\ G Fn A ) ->
       ( ( <. x , y >. e. F /\ <. x , z >. e. G ) ->
       ( A e. On -> ( A. w ( A e. On -> ( w e. A ->
          ( ( F ` w ) = ( B ` ( F |` w ) ) /\
            ( G ` w ) = ( B ` ( G |` w ) ) ) ) ) ->
       y = z ) ) ) ) $=
      ( wfn wa cv cop wcel con cfv cres wceq wi wal weq wb wfun visset funopfv
      imp im2an an4s fnfun sylan cleq12 syl adantr opelfn tfrlem1 cleq3 fveq2
      cleq12d bi2imd a4b1 syl8 com4r exp pm2.43i imp43 mpbid abai bial ax-17
      19.28 3bitr3r sylan5b exp43 ) GEIZHEIZJZAKZBKZLGMZVPCKZLHMZJZENMZWBDKZEMZ
      WCGOZGWCPFOQWCHOZHWCPFOQJRZRZDSZBCTZVOWAJZWBWGDSZJZWJWBWIJZWKWMJVPGOZVPHO
      ZQZWJWKWQWJUAZWMWKWOVQQZWPVSQZJZWRGUBZHUBZJWAXAVOXBVRXCVTXAXBVRJWSXCVTJWT
      XBVRWSVPVQGBUCZUDUEXCVTWTVPVSHCUCUDUEUFUGVMXBVNXCEGUHEHUHUFUIWOVQWPVSUJUK
      ULVOWAWBWLWQVOWAWBWLWQRZRRVOWAWBVOXEVOWAWBVOXERRZWKVPEMZXFVMVRVNVTXGVMVRJ
      XGVNVTJEVPVQGAUCXDUMULUGWBVOWLXGWQWBVOWLWDWEWFQZRZDSXGWQRZDEFGHUNXIXJDADA
      TZWDXGXHWQWCVPEUOXKWEWOWFWPWCVPGUPWCVPHUPUQURUSUTVAUKVBVAVCVDVEWBWGJZDSWB
      WHJZDSWMWNXLXMDWBWGVFVGWBWGDWBDVHZVIWBWHDXNVIVJVKVL $.
      $([23-Mar-95]$)
  $}

  ${
    $d x y f g $.  $d x y z $.  $d g z $.  $d f g G $.  $d x z G $.
    $( Let ` A ` be the class of "acceptable" functions. $)
    tfrlem3.1 $e |- A = { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) } $.

    $( Lemma for transfinite recursion.  Changes bound variables in ` A `. $)
    tfrlem3   $p |- A = { g | E. z ( z e. On /\ ( g Fn z /\
                A. y ( y e. z -> ( g ` y ) = ( G ` ( g |` y ) ) ) ) ) } $=
      ( cv con wcel wfn wel cfv cres wceq wi wal wa wex cab visset weq fneq1
      fveq1 reseq1 fveq2 syl cleq12d bilimd bialdv bi2and biland biexdv
      abcl cleq3 fneq2 a14b birimd cbvexv bitr cleqabri eqtr ) DAIZJKZEIZVDLZB
      AMZBIZVFNZVFVIOZGNZPZQZBRZSZSZATZEUAZCIZJKZFIZVTLZBCMZVIWBNZWBVIOZGNZPZQZ
      BRZSZSZCTZFUAHWMFVSWBVSKVEWBVDLZVHWHQZBRZSZSZATZWMVRWSEWBFUBEFUCZVQWRAWTV
      PWQVEWTVGWNVOWPVDVFWBUDWTVNWOBWTVMWHVHWTVJWEVLWGVIVFWBUEWTVKWFPVLWGPVFWBV
      IUFVKWFGUGUHUIUJUKULUMUNUOWRWLACACUCZVEWAWQWKVDVTJUPXAWNWCWPWJVDVTWBUQXAW
      OWIBXAVHWDWHACBURUSUKULULUTVAVBVC $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y f g h A $.  $d x y z w v u f F $.
    $d x y z w f g h G $.  $d x y B $.  $d z w v u g h $.

    $( Let ` A ` be the class of "acceptable" functions. $)
    tfrlem.1 $e |- A = { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) } $.

    $( Let ` F ` be the union of all acceptable functions. $)
    tfrlem.2 $e |- F = U. A $.

    $( Lemma for transfinite recursion.   An acceptable function is a
       function. $)
    tfrlem4 $p |- ( g e. A -> Fun g ) $=
      ( vz cv wcel con wfn wel cfv cres wceq wi wal wa wex wfun tfrlem3
      cleqabi pm3.27 pm3.26 fnfun 3syl 19.23aiv sylbi ) EKZCLJKZMLZULUMNZBJOBKZ
      ULPULUPQGPRSBTZUAZUAZJUBZULUCZUTECABJCDEGHUDUEUSVAJUSURUOVAUNURUFUOUQUGUM
      ULUHUIUJUK $.
      $([9-Apr-95]$)

    $( Lemma for transfinite recursion.  The values of two acceptable
       functions are the same within their domains. $)
    tfrlem5 $p |- ( ( g e. A /\ h e. A ) ->
                  ( ( <. x , u >. e. g /\ <. x , v >. e. h ) -> u = v ) ) $=
      ( vz vw cv wcel wa con wfn wel cfv cres wceq wi wal wex cop weq tfrlem3
      cleqabi bi2an eeanv bitr4 cin onin 19.26 wss wb onelsst impac fvres
      ssreseq fveq2 syl cleqan12rd bi2and prth pm3.27 elin sylib syl5 mpbidi
      exp3a 19.20i sylbir imlan an4s im2an 2elresin tfrlem2 fnresin1 fnresin2
      syl2an sylbid com24 com3r imp32 19.23aiaiv sylbi ) GOZEPZHOZEPZQZMOZRPZWJ
      WOSZBMTZBOZWJUAZWJWSUBZJUAZUCZUDZBUEZQZQZNOZRPZWLXHSZBNTZWSWLUAZWLWSUBZJU
      AZUCZUDZBUEZQZQZQZNUFMUFZAOZDOUGZWJPYBCOUGZWLPQZDCUHZUDZWNXGMUFZXSNUFZQYA
      WKYHWMYIYHGEABMEFGJKUIUJYIHEABNEFHJKUIUJUKXGXSMNULUMXTYGMNXTWOXHUNZRPZWQX
      JQZYKWSYJPZWSWJYJUBZUAZYNWSUBZJUAZUCZWSWLYJUBZUAZYSWSUBZJUAZUCZQZUDUDZBUE
      ZQZQZYGWPXIXFXRUVHWPXIQYKXFXRQUVGWOXHUOWQXJXEXQUVGXEXQQZUVFYLUVIXDXPQZBUE
      UVFXDXPBUPUVJUVEBUVJYKYMUVDYKYMQZXCXOQZUVDUVJUVKWSYJUQZYMQZUVLUVDURYKYMUV
      MYJWSUSUTUVNXCYRXOUVCYMUVMWTYOXBYQWSYJWJVAUVMXAYPUCXBYQUCWJWSYJVBXAYPJVCV
      DVEYMUVMXLYTXNUVBWSYJWLVAUVMXMUVAUCXNUVBUCWLWSYJVBXMUVAJVCVDVEVFVDUVJWRXK
      QZUVLUVKWRXCXKXOVGUVKYMUVOYKYMVHWSWOXHVIVJVKVLVMVNVOVPVQVRVQYKYLUVFYGYLUV
      FYKYGYLYEYKUVFYFYLYEYCYNPYDYSPQZYKUVFYFUDUDZADCWOXHWJWLVSYNYJSYSYJSUVPUVQ
      UDWQXJADCBYJJYNYSVTWOXHWJWAXHWOWLWBWCWDWEWFWGVDWHWI $.
      $([9-Apr-95]$)

    $( Lemma for transfinite recursion.  ` F ` is a relation. $)
    tfrlem6 $p |- Rel F $=
      ( vg cuni wceq wrel releq cv wcel wi reluni wfun tfrlem4 funrel syl mpg
      mpbiri ax-mp ) ECJZKZELZUFUGUELZEUEMINZCOZUILZPUHIICQUJUIRUKABCDIEFGHSUIT
      UAUBUCHUD $.
      $([8-Aug-94]$)

    $( Lemma for transfinite recursion.  ` F ` is a function. $)
    tfrlem7 $p |- Fun F $=
      ( vu vv vg vh wfun wrel cv cop wcel wa weq wi wal dffun2 tfrlem6 wex
      cuni cleq4i eluni bitr bi2an eeanv bitr4 an4 ancom tfrlem5 imp sylbi
      19.23aiaiv ax-gen pm3.2i mpbir ) EMENZAOZIOPZEQZVBJOPZEQZRZIJSZTZJUAZIUAZ
      AUAZRAIJEUBVAVLABCDEFGHUCVKAVJIVIJVGVCKOZQZVMCQZRZVELOZQZVQCQZRZRZLUDKUDZ
      VHVGVPKUDZVTLUDZRWBVDWCVFWDVDVCCUEZQWCEWEVCHUFKVCCUGUHVFVEWEQWDEWEVEHUFLV
      ECUGUHUIVPVTKLUJUKWAVHKLWAVOVSRZVNVRRZRZVHWAWGWFRWHVNVOVRVSULWGWFUMUHWFWG
      VHABJICDKLEFGHUNUOUPUQUPURURURUSUT $.
      $([9-Aug-94]$)

    $( Lemma for transfinite recursion.  The domain of ` F ` is ordinal. $)
    tfrlem8 $p |- Ord dom F $=
      ( vv vw vz cdm con wss word wtr wi trssord 3exp wel cv wcel wa wal dftr2
      wex cop wfn cfv cres wceq visset eldm cab cuni unieqi eqtr cleq4i
      eluniab bitr biex 19.42v opelfn exp adantr adantl comm imp wb fndm
      sseq1d cleqabi elssuni sseq2i ssdm sylbir syl 19.23bi mpbid pm3.26 jca
      19.22i 19.23aiaiv sylbi imlan sylibr ontr1t ssel sylan9r exp4b com4t
      imp45 19.23aiv ax-gen mpgbir ax-mp ontrt sylan exp31 com3l imp3a
      19.23adv ssri tz7.12 mp2 ) ELZMNZMOZXFOZXFPZXGXHXIQQXJXGXHXIXFMRSXJIJTZJ
      UAZXFUBZUCZIUAZXFUBZQZJUDIIJXFUEXQJXNXKJATZAUAZXFNZXSMUBZUCZUCZUCZAUFZXPX
      NXKYCAUFZUCYEXMYFXKXMXLKUAZUGZDUAZUBZYAYIXSUHZBATBUAZYIUIYIYLUJFUIUKQBUDZ
      UCZUCZAUFZUCZDUFZKUFZYFXMYHEUBZKUFZYSKXLEJULZUMZYTYRKYTYHYPDUNZUOZUBYREUV
      EYHECUOZUVEHCUVDGUPUQURYPDYHUSUTZVAUTYQYFKDYQYJYOUCZAUFYFYJYOAVBUVHYCAUVH
      XRYBYJYOXRYOYJXRYNYJXRQZYAYKUVIYMYKYJXRXSXLYGYIUVBKULVCZVDVEVFVGVHYOYBYJY
      OXTYAYOYILZXFNZXTYNUVLXTVIZYAYKUVMYMYKUVKXSXFXSYIVJVKVEVFYOUVLAYPYICUBZUV
      LYPDCGVLUVNYIUVFNZUVLYICVMUVOYIENUVLEUVFYIHVNYIEVOVPVQVPVRVSYAYNVTWAVFWAW
      BVPWCWDWEXKYCAVBWFYDXPAXKXRXTYAXPXTYAXKXRXPXTYAXKXRXPYAXKXRUCIATXTXPXSXOX
      LWGXSXFXOWHWIWJWKWLWMVQWNWOWPJXFMXMUVAXLMUBZUVCYTUVPKYTYRUVPUVGYQUVPDYJYP
      UVPYJYOUVPAYJYAYNUVPYNYJYAUVPYKYJYAUVPQQYMYKYJYAUVPXRYAUVPYKYJUCXLXSWQUVJ
      WRWSVEWTXAXBVHWMWDWMWDXCXDXE $.
      $([14-Aug-94]$)

    $( Lemma for transfinite recursion.  The value of ` F `. $)
    tfrlem9 $p |- ( y e. dom F -> ( F ` y ) = ( G ` ( F |` y ) ) ) $=
      ( vz cv cdm wcel cop wex cfv cres wceq visset eldm con wfn wel wi wal wa
      cab cuni unieqi eqtr cleq4i eluniab bitr opelfn wss fndm cleq4d wfun wb
      funssfv adantarl fun2ssres fveq2 syl cleq3d onelsst syl6bir imp31 sylan5
      cleq12d tfrlem7 mpan11 biimprd exp44 com4l com23 sylbird com4t ax-2 a4sd
      syl8 comm imp4d cleqabi elssuni sseq2i sylibr sylbir 19.23bi mpcom exp4d
      exp com4r pm2.43i com3l 19.23adv imp 19.23aiv sylbi ) BJZEKLWSIJZMZELZINW
      SEOZEWSPZFOZQZIWSEBRZSXBXFIXBXADJZLZAJZTLZXHXJUAZBAUBZWSXHOZXHWSPZFOZQZUC
      ZBUDZUEUEZANZUEZDNZXFXBXAYADUFZUGZLYCEYEXAECUGZYEHCYDGUHUIUJYADXAUKULYBXF
      DXIYAXFXIXTXFAXIXKXLXSXFXLXIXKXSXFUCZXLXIXKYGUCUCXLXIXKXLYGXLXIXKXLYGUCUC
      XLXIUEZXKXLXSXFYHXMXTXFUCXJWSWTXHXGIRUMXTXMXFXHEUNZXTXMXFUCZYIXKXLXSYJXKY
      IXLXSYJUCZUCXKYIXLXMXQXFUCZUCZYKXLXMXKYIYLXLXMWSXHKZLZXKYIYLUCZUCXLYNXJWS
      XJXHUOZUPXLXKYOYPYIXLXKYOYLYIXLXKYOYLYIXLXKUEZYOUEZUEXFXQEUQZYIYSXFXQURYT
      YIUEZYSUEXCXNXEXPUVAYOXCXNQYRWSEXHUSUTUVAWSYNUNZXEXPQZYSUVAUVBUEXDXOQUVCW
      SEXHVAXDXOFVBVCXLXKYOUVBXLXKYNTLYOUVBUCXLYNXJTYQVDYNWSVEVFVGVHVIABCDEFGHV
      JVKVLVMVNVOVPVQYMXRYJBXMXQXFVRVSVTWAWBXTYIAYAXHCLZYIYADCGWCUVDXHYFUNYIXHC
      WDEYFXHHWEWFWGWHWIWAVCWJWKWLWMWNWBWOWPWQWRWQWR $.
      $([17-Aug-94]$)

    ${
      $d x y f C $.

      $( Extend ` F ` with one ordered pair.  Assuming the domain of ` F ` is
         not ` On `, we will prove facts about ` C ` to derive a
         contradiction. $)
      tfrlem.3 $e |- C = ( F u. { <. dom F , ( G ` ( F |` dom F ) ) >. } ) $.

      $( Lemma for transfinite recursion.  ` C ` is a function and extends
         the domain of ` F ` by one. $)
      tfrlem10 $p |- ( dom F e. On -> C Fn suc dom F ) $=
      ( cdm con wcel wfun csuc wceq wa wfn cres cfv cop csn wi cin c0 cun
      funun wb funeq ax-mp sylibr cv wn wal opeq1 sneq dmeq 3syl cleq12d
      visset fvex dmsn vtoclg cleq4d cleq3 binegd word eloni nordel syl
      syl5bir comm elsni syl5 sylbid pm2.03d 19.21aiv disj sylan5 exp tfrlem7
      mpan funsn mpcom uneq2 dmun eqtr df-suc 3eqtr4g jca df-fn ) FKZLMZDNZDKZW
      LOZPZQDWPRWMWNWQWLFWLSZGTZUAZUBZNZWMWNFNZXBWMWNUCXCXBQZWMWNXDWLXAKZUDUEPZ
      WNWMXDXFQFXAUFZNZWNFXAUGDXGPZWNXHUHDXGUIJUJUKWMAULZWLMZXJXEMZUMUCZAUNXFWM
      XMAWMXLXKWMXLXJWLUBZMZXKUMZWMXEXNXJXJWSUAZUBZKZXJUBZPXEXNPZAWLLXJWLPZXSXE
      XTXNYBXQWTPZXRXAPZXSXEPXJWLWSUOZXQWTUPZXRXAUQURXJWLUPUSXJWSAUTZWRGVAZVBVC
      ZVDWMYBXPXOYBWMXPYBXPWLWLMZUMZWMYBXKYJXJWLWLVEVFWMWLVGYKWLVHWLVIVJVKVLXJW
      LVMVNVOVPVQAWLXEVRUKVSVTABCEFGHIWAWBXRNZXBAWLLYBYCYDYLXBUHYEYFXRXAUIURXJW
      SYGYHWCVCWDWMWLXEUFZWLXNUFZWOWPWMYAYMYNPYIXEXNWLWEVJWOXGKZYMXIWOYOPDXGUQJ
      UJFXAWFWGWLWHWIWJDWPWKUK $.
      $([14-Aug-94]$)

      $( Lemma for transfinite recursion.  The value of ` C `. $)
      tfrlem11 $p |- ( dom F e. On ->
                     ( y e. suc dom F -> ( C ` y ) = ( G ` ( C |` y ) ) ) ) $=
      ( cdm con wcel cv wceq wo cfv cres csuc wi wfun wa wss funssfv adantarl
      fun2ssres fveq2 syl onelsst imp sylan5 cleq12d tfrlem9 syl5bir cop csn
      cun ssun1 sseqtr4 mpan12 wfn tfrlem10 fnfun sylan exp32 pm2.43i pm2.43d
      wb fvex fnfvop visset eqelsuc syl2an opeq1 adantl eqimss reseq2 eqtrd
      opeq2 3syl sneq cleq4d opex snid mpbii elun2 cleq4i sylibr mpbird exp
      jaod elsuci syl5 ) FKZLMZBNZWNMZWPWNOZPWPDQZDWPRZGQZOZWPWNSZMZWOWQXBWRWOW
      QXBWOWQWQXBTZTWOWOWQXEDUAZWOWQUBZXEWOXFFDUCZXGXEXFXHUBZXGUBZXBWPFQZFWPRZG
      QZOWQXJWSXKXAXMXIWQWSXKOWOWPDFUDUEXIWPWNUCZXAXMOZXGXIXNUBWTXLOZXOWPDFUFZW
      TXLGUGUHWOWQXNWNWPUIUJUKULABCEFGHIUMUNFFWNFWNRZGQZUOZUPZUQZDFYAURJUSZUTWO
      DXCVAZXFABCDEFGHIJVBZXCDVCUHZVDVEVFVGWOWRXBWOWRUBZXBWPXAUOZDMZYDXDXBYIVHW
      OWRXCWPXADWTGVIVJYEWPWNBVKVLVMYGYHYBMZYIYGYHYAMZYJYGYHYHUPZMYKYGYLYAYHYGY
      HXTOYLYAOYGYHWNXAUOZXTWRYHYMOWOWPWNXAVNVOYGWTXROXAXSOYMXTOYGWTXLXRXFXNXPW
      OWRXFXHXNXPXQYCUTYFWPWNVPVMWRXLXROWOWPWNFVQVOVRWTXRGUGXAXSWNVSVTVRYHXTWAU
      HWBYHWPXAWCWDWEYHYAFWFUHDYBYHJWGWHWIWJWKWPWNWLWM $.
      $([18-Aug-94]$)

      $( Lemma for transfinite recursion.  ` C ` is an acceptable function. $)
      tfrlem12 $p |- ( dom F e. On -> C e. A ) $=
      ( cdm con wcel cv wfn wel cfv cres wceq wi wal wa wex cvv wb csuc fnex
      tz7.24 tfrlem10 syl13 fneq1 fveq1 reseq1 fveq2 syl cleq12d bilimd
      bialdv bi2and biland biexdv vtoclabg cleq3 fneq2 cleq4 birimd
      cla4egv tfrlem11 19.21aiv jca mpbird ) FKZLMZDCMZANZLMZDVOOZBAPZBNZDQZDV
      SRZGQZSZTZBUAZUBZUBZAUCZVMDUDMZVNWHUEVLUFZLMZDWJOZWIVMWJLDUGVLUHZABCDEFGH
      IJUIZUJVPENZVOOZVRVSWOQZWOVSRZGQZSZTZBUAZUBZUBZAUCWHEDCUDWODSZXDWGAXEXCWF
      VPXEWPVQXBWEVOWODUKXEXAWDBXEWTWCVRXEWQVTWSWBVSWODULXEWRWASWSWBSWODVSUMWRW
      AGUNUOUPUQURUSUTVAHVBUOWKWKWLVSWJMZWCTZBUAZUBZUBZWHVMWGXJAWJLVOWJSZVPWKWF
      XIVOWJLVCXKVQWLWEXHVOWJDVDXKWDXGBXKVRXFWCVOWJVSVEVFURUSUSVGWMVMWKXIWMVMWL
      XHWNVMXGBABCDEFGHIJVHVIVJVJUJVK $.
      $([15-Aug-94]$)

      $( Lemma for transfinite recursion.  If ` dom F ` is in ` On `, then
         ` C ` is acceptable, and thus a subset of ` F `, but ` dom C ` is
         bigger than ` dom F `.  This is a contradiction, so ` dom F ` must be
         ` On `. $)
      tfrlem13 $p |- dom F = On $=
      ( cdm con wcel wn wceq wo orel1 word nordel wss wi cuni elssuni sseq2i
      sylibr ssdm ssel 3syl tfrlem12 csuc wfn tfrlem10 fndm syl cleq4d sucidg
      mpbird syl13 nsyl tfrlem8 ax-mp tz7.14 mp2 ) FKZLMZNZVEVDLOZPZVGVEVGQVDR
      ZVFVIVDVDMZVEVDSDCMZVDDKZMZVJVEVKDFTZVLVDTVMVJUAVKDCUBZTVNDCUCFVODIUDUEDF
      UFVLVDVDUGUHABCDEFGHIJUIVEVMVDVDUJZMVEVLVPVDVEDVPUKVLVPOABCDEFGHIJULVPDUM
      UNUOVDLUPUQURUSABCEFGHIUTZVAVIVHVDVBVQVAVC $.
      $([14-Aug-94]$)

    $}
  $}

  ${
    $d x y f A $.  $d x y f F $.
    $d x y f G $.  $d x y B $.  $d y z $.

    $( Let ` A ` be the class of "acceptable" functions. $)
    tfr.1 $e |- A = { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) } $.

    $( Let ` F ` be the union of all acceptable functions. $)
    tfr.2 $e |- F = U. A $.

    $( Principle of Transfinite Recursion, part 1.  Theorem 7.41(1) of
       Takeuti and Zaring, p. 47. $)
    tfr1 $p |- F Fn On $=
      ( con wfn wfun cdm wceq wa df-fn tfrlem7 cres cfv cop csn cun cleqid
      tfrlem13 pm3.2i mpbir ) EIJEKZELZIMZNEIOUFUHABCDEFGHPABCEUGEUGQFRSTUAZDEF
      GHUIUBUCUDUE $.
      $([17-Aug-94]$)

    $( Principle of Transfinite Recursion, part 2.  Theorem 7.41(2) of
       Takeuti and Zaring, p. 47. $)
    tfr2 $p |- ( z e. On -> ( F ` z ) = ( G ` ( F |` z ) ) ) $=
      ( cv cfv cres wceq con weq fveq2 reseq2 syl cleq12d wcel cdm cop csn
      cun cleqid tfrlem13 cleq4i tfrlem9 sylbir vtoclga ) BJZFKZFUKLZGKZMZCJZFK
      ZFUPLZGKZMBUPNBCOZULUQUNUSUKUPFPUTUMURMUNUSMUKUPFQUMURGPRSUKNTUKFUAZTUOVA
      NUKABDFVAFVALGKUBUCUDZEFGHIVBUEUFUGABDEFGHIUHUIUJ $.
      $([9-Apr-95]$)

    $( Principle of Transfinite Recursion, part 3.  Theorem 7.41(3) of
       Takeuti and Zaring, p. 47. $)
    tfr3 $p |- ( ( B Fn On /\
               A. x ( x e. On -> ( B ` x ) = ( G ` ( B |` x ) ) ) ) ->
               B = F ) $=
      ( con wfn cv wcel cfv cres wceq wi wal wa wb cleqfv tfr1 mpan2 biimpar
      cleqid mpan21 ax-17 hba1 hban hbim weq fveq2 cleq12d bilimd wel tfr2
      jctr jcab sylibr cleq12 syl6 imp adantl wss fvreseq mpan12 syl6bir onsst
      sylan5 ancoms adantr mpbird exp43 com4t exp4a pm2.43d a4s com3l imp3a
      a2d bi2.04 bial 19.21v bitr syl5ib tfis2f comm 19.21ai anabss5 ) DJKZALZJ
      MZWKDNZDWKOZGNZPZQZARZDFPZWJWLWMWKFNZPZQZARZWSWJWRSZWJJJPZXCWSWJWSXEXCSZW
      JFJKZWSXFTAJJDFUAABCEFGHIUBZUCUDJUEUFXDXBAWJWRAWJAUGWQAUHUIZWLXDXAXDXAQZX
      DBLZDNZXKFNZPZQZABXDXNAXIXNAUGUJABUKZXAXNXDXPWMXLWTXMWKXKDULWKXKFULUMUNWL
      XDBAUOZXNQZBRZQZXJXQXOQZBRZWLXDXSXAWLWJWRXSXAQZWRWLWJYCWQWLWJYCQZQAWQWLYD
      WQWLWLWJYCWLWJSZXSWQWLXAYEXSWQWLXAYEXSSZWQWLSZSXAWOFWKOZGNZPZYGXAYJTZYFWQ
      WLYKWQWLWPWTYIPZSZYKWQWQWLYLQZSWLYMQWQYNABACEFGHIUPUQWLWPYLURUSWMWOWTYIUT
      VAVBVCYFYJYGYEXSYJWJWLXSYJQZWJWKJVDZYOWLWJYPSXSWNYHPZYJWJXGYPYQXSTBJWKDFV
      EXHVFWNYHGULVGWKVHVIVJVBVKVLVMVNVOVPVQVRVSVTYBXDXRQZBRXTYAYRBXQXDXNWAWBXD
      XRBWCWDWEWFWGWHVIWI $.
      $([18-Aug-94]$)
  $}

  ${
    $d x y A $.  $d x F $.  $d x G $.  $d y H $.
    tz7.44lem1.1 $e |- G = { <. x , y >. | ( ( x = (/) /\ y = A ) \/
            ( -. ( x = (/) \/ Lim dom x ) /\ y = ( H ` ( x ` U. dom x ) ) )
                \/ ( Lim dom x /\ y = U. ran x ) ) } $.

    $( ` G ` is a function.  Lemma for ~tz7.44 . $)
    tz7.44lem1 $p |- Fun G $=
      ( wfun cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab wb funeq
      ax-mp wmo funopab fvex cvv wcel rnexg zfun2g syl visset dmeq limeq
      biimpa dm0 nlim0 mtbir mto moeq3 mpgbir mpbir ) DGZAHZIJZBHZCJKVEVDLZMZNO
      VFVGPVDQZEQZJKVHVFVDRZPZJKSZABTZGZDVNJVCVOUADVNUBFUCVOVMBUDAVMABUEVEVHBCV
      JVLVIEUFVDUGUHZVLUGUHZVPVKUGUHVQVDUGUIVKUGUJUKAULUCVEVHKILZMZVEVHVSVEVGVR
      JVHVSUAVDIUMVGVRUNUKUOVSIMZVRIJVSVTUAVRIUNUPUCUQURUSUTVAVB $.
      $([23-Apr-95]$)
  $}

  ${
    $d x y A $.  $d x F $.  $d x G $.  $d y H $.
    tz7.44.1 $e |- G = { <. x , y >. | ( ( x = (/) /\ y = A ) \/
            ( -. ( x = (/) \/ Lim dom x ) /\ y = ( H ` ( x ` U. dom x ) ) )
                \/ ( Lim dom x /\ y = U. ran x ) ) } $.
    tz7.44.2 $e |- F Fn On $.
    tz7.44.3 $e |- ( x e. On -> ( F ` x ) = ( G ` ( F |` x ) ) ) $.
    ${
      tz7.44.4 $e |- A e. V $.
      $( The value of ` F ` at ` (/) `.  Part 1 of Theorem 7.44 of Takeuti and
         Zaring, p. 49. $)
      tz7.44-1 $p |- ( F ` (/) ) = A $=
      ( c0 cfv cres con wcel wceq cv fveq2 reseq2 syl cleq12d vtoclga 0elon
      ax-mp res0 wfun cop funopfv tz7.44lem1 wa copab cdm wlim wo wn cuni crn
      w3o 3mix1 ssopab2i sseqtr4 ssi zfnull cleq1 birand biland elopab
      cleqid pm3.2i mpbir mp2 3eqtr ) KDLZDKMZELZKELZCKNOVMVOPZAQZDLZDVRMZELZPV
      QAKNVRKPZVSVMWAVOVRKDRWBVTVNPWAVOPVRKDSVTVNERTUAIUBUCUDVNKPVOVPPVNKERDUEU
      DEUFKCUGZEOZVPCPKCEJUHABCEFGUIWCWBBQZCPZUJZABUKZOZWDWHEWCWHWGWBVRULZUMZUN
      UOWEWJUPVRLFLPUJZWKWEVRUQUPPUJZURZABUKEWGWNABWGWLWMUSUTGVAVBWIKKPZCCPZUJZ
      WGWOWFUJWQABKCVCJWBWBWOWFVRKKVDVEWFWFWPWOWECCVDVFVGWOWPKVHCVHVIVJUDVKVL
      $.
      $([23-Apr-95]$)
    $}

    ${
      $d x y B $.  $d y F $.  $d x H $.
      tz7.44.5 $e |- B e. On $.
      $( The value of ` F ` at a successor ordinal.  Part 2 of Theorem 7.44
         of Takeuti and Zaring, p. 49. $)
      tz7.44-2 $p |- ( F ` suc B ) = ( H ` ( F ` B ) ) $=
      ( csuc cfv cres con wcel wceq cv fveq2 reseq2 syl cleq12d vtoclga onsuc
      ax-mp wfun cop fvex funopfv tz7.44lem1 c0 cdm wlim wo wn cuni wa copab
      crn w3o 3mix2 ssopab2i sseqtr4 ssi cvv resfunexg wfn fnfun mp2 cleq1 wb
      dmeq limeq bi2ord binegd unieq 3syl fveq1 eqtrd cleq2d bi2and
      biland elopab dm0 syl6eq cin fndm ineq2i dmres wss sseqin1 onss mpbi
      3eqtr4 cleq1i nsuceq0 mtbir mto elisseti nlimsuc pm3.2ni fvres onelsuc
      onunisuc unieqi eqtr4 eqtr pm3.2i mpbir ) DLZEMZEXJNZFMZDEMZGMZXJOPZXKXMQ
      ZARZEMZEXRNZFMZQXQAXJOXRXJQZXSXKYAXMXRXJESYBXTXLQYAXMQXRXJETXTXLFSUAUBJUC
      DKUDZUEFUFXLXOUGZFPZXMXOQXLXOFXNGUHZUIABCFGHUJYDXRUKQZXRULZUMZUNZUOZBRZYH
      UPZXRMZGMZQZUQZABURZPZYEYRFYDYRYGYLCQUQZYQYIYLXRUSUPQUQZUTZABURFYQUVBABYQ
      YTUVAVAVBHVCVDYSXLUKQZXLULZUMZUNZUOZXOUVDUPZXLMZGMZQZUQZYQUVGYLUVJQZUQUVL
      ABXLXOXPEUFZXLVEPEXJOVFYCEOVGZUVNOEVHIUEVIYFXRXLQZYKUVGYPUVMUVPYJUVFUVPYG
      UVCYIUVEXRXLUKVJUVPYHUVDQZYIUVEVKXRXLVLZYHUVDVMUAVNVOUVPYOUVJYLUVPYNUVIQY
      OUVJQUVPYNUVHXRMZUVIUVPUVQYMUVHQYNUVSQUVRYHUVDVPYMUVHXRSVQUVHXRXLVRVSYNUV
      IGSUAVTWAYLXOQUVMUVKUVGYLXOUVJVJWBWCUVGUVKUVCUVEUVCUVDUKQZUVCUVDUKULUKXLU
      KVLWDWEUVTXJUKQUVDXJUKXJEULZWFXJOWFZUVDXJUWAOXJUVOUWAOQOEWGIUEWHEXJWIXJOW
      JXJUWBQXJOWKXJYCWLWMWNZWODWPWQWRUVEXJUMZUVDXJQUVEUWDVKUVDXJVMUWCUEDDOKWSW
      TWQXAXNUVIQUVKXNUVIGSXNDXLMZUVIDXJPXNUWEQDXJEXBDKXCUEDUVHQUWEUVIQDUVHXLSD
      XJUPUVHDKXDUVDXJUWCXEXFUEXGUEXHXIUEVIXG $.
      $([23-Apr-95]$)

      $( The value of ` F ` at a limit ordinal.  Part 3 of Theorem 7.44 of
         Takeuti and Zaring, p. 49.  $)
      tz7.44-3 $p |- ( Lim B -> ( F ` B ) = U. ( F " B ) ) $=
      ( wlim cres cfv cima cuni cop cv cdm crn wceq wa copab wcel wb limeq cin
      con wfn fndm ax-mp ineq2i dmres wss sseqin1 onss mpbi 3eqtr4 biimpr
      df-ima unieqi jctir wfun cvv resfunexg fnfun mp2 zfrep5 zfun2 dmeq syl
      rneq unieqd cleq2d bi2and cleq1 biland elopab sylibr c0 wo wn w3o
      3mix3 ssopab2i sseqtr4 ssi wi funopfv tz7.44lem1 3syl fveq2 reseq2
      cleq12d vtoclga syl5eq ) DLZEDMZFNZEDOZPZDENZWQWRXAQZARZSZLZBRZXDTZPZUAZ
      UBZABUCZUDZXCFUDZWSXAUAZWQWRSZLZXAWRTZPZUAZUBZXMWQXQXTXQWQXPDUAXQWQUEXPDU
      FDESZUGDUHUGZXPDYBUHDEUHUIZYBUHUAUHEUJIUKULEDUMDUHUNDYCUADUHUODKUPUQURUKU
      SWTXREDUTVAVBXKXQXGXSUAZUBYAABWRXADUHUDZEVCZWRVDUDEDUHVEKYDYGUHEVFIUKZVGW
      TYFYGWTVDUDEDUHVHKYHVGVIZXDWRUAZXFXQXJYEYJXEXPUAXFXQUEXDWRVJXEXPUFVKYJXIX
      SXGYJXHXRXDWRVLVMVNVOXGXAUAYEXTXQXGXAXSVPVQVRVSXLFXCXLXDVTUAZXGCUAUBZYKXF
      WAWBXGXEPXDNGNUAUBZXKWCZABUCFXKYNABXKYLYMWDWEHWFWGFVCXNXOWHWRXAFYIWIABCFG
      HWJUKWKYFXBWSUAZXDENZEXDMZFNZUAYOADUHXDDUAZYPXBYRWSXDDEWLYSYQWRUAYRWSUAXD
      DEWMYQWRFWLVKWNJWOKUKWP $.
      $([23-Apr-95]$)
    $}
  $}

  $( Define an operator constant for recursive function generator. $)
  $c rec $.

  $( Extend class notation with recursive function generator. $)
  crfg $a class rec ( A , B ) $.

  ${
    $d x y z f g F $.  $d x y z f g A $.
    $( Define a recursive function generator on ` On ` with
       characteristic function ` F ` and initial value ` A `.  This combines
       functions ` F ` in ~tfr1 and ` G ` in ~tz7.44-1 into one
       definition. $)
    df-rfg $a |- rec ( F , A ) = U. { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = (
                    { <. g , z >. | ( ( g = (/) /\ z = A ) \/
                    ( -. ( g = (/) \/ Lim dom g ) /\
                        z = ( F ` ( g ` U. dom g ) ) )
                    \/ ( Lim dom g /\ z = U. ran g ) ) }
                ` ( f |` y ) ) ) ) ) } $.
  $}

  ${
    $d x y z f g F $.   $d x y z f g G $.  $d x y z f g A $.  $d x y z f g B $.
    $( ` x y z f g ` are dummy. $)

    $( Equality theorem for recursive function generator. $)
    rfgeq1 $p |- ( F = G -> rec ( F , A ) = rec ( G , A ) ) $=
      ( vx vf vy vg vz wceq cv con wcel wfn wel cfv cres c0 wa cdm wlim wo wn
      cuni crn w3o copab wi wal wex cab crfg pm4.2i fveq1 cleq2d biland
      bi3ord biopabdv syl bilimd bialdv biexdv biabdv unieqd df-rfg
      3eqtr4g ) BCIZDJZKLZEJZVGMZFDNZFJZVIOZVIVLPZGJZQIZHJZAIRZVPVOSZTZUAUBZVQV
      SUCVOOZBOZIZRZVTVQVOUDUCIRZUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCVHVJVKVMVNVRW
      AVQWBCOZIZRZWFUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCBAUKCAUKVFWPXIVFWOXHEVFWNX
      GDVFWMXFVHVFWLXEVJVFWKXDFVFWJXCVKVFWIXBVMVFWHXAIWIXBIVFWGWTGHVFVRVRWEWSWF
      WFVFVRULVFWDWRWAVFWCWQVQWBBCUMUNUOVFWFULUPUQVNWHXAUMURUNUSUTUOUOVAVBVCDFH
      AEGBVDDFHAEGCVDVE $.
      $([9-Apr-95]$)


    $( Equality theorem for recursive function generator. $)
    rfgeq2 $p |- ( A = B -> rec ( F , A ) = rec ( F , B ) ) $=
      ( vx vf vy vg vz wceq cv con wcel wfn wel cfv cres c0 wa cdm wlim wo wn
      cuni crn w3o copab wi wal wex cab crfg cleq2 biland pm4.2i bi3ord
      biopabdv fveq1 syl cleq2d bilimd bialdv biexdv biabdv unieqd
      df-rfg 3eqtr4g ) ABIZDJZKLZEJZVHMZFDNZFJZVJOZVJVMPZGJZQIZHJZAIZRZVQVPSZTZ
      UAUBVRWAUCVPOCOIRZWBVRVPUDUCIRZUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCVIVKVLVNV
      OVQVRBIZRZWCWDUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCCAUKCBUKVGWNXFVGWMXEEVGWLX
      DDVGWKXCVIVGWJXBVKVGWIXAFVGWHWTVLVGWGWSVNVGWFWRIWGWSIVGWEWQGHVGVTWPWCWCWD
      WDVGVSWOVQABVRULUMVGWCUNVGWDUNUOUPVOWFWRUQURUSUTVAUMUMVBVCVDDFHAEGCVEDFHB
      EGCVEVF $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y f g $.  $d x y z g $.  $d f g G $.  $d x z G $.
    $d y z w g G $.

    $( Lemma for recursive function generator.  Changes bound variables. $)
    rfglem1 $p |- { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) }
                = { g | E. z ( z e. On /\ ( g Fn z /\
                A. w ( w e. z -> ( g ` w ) = ( G ` ( g |` w ) ) ) ) ) } $=
      ( cv con wcel wfn wel cfv cres wceq wi wal wa wex cab cleqid tfrlem3 weq
      a13b fveq2 reseq2 syl cleq12d bi2imd cbvalv bilan biex biab eqtr ) AHZI
      JEHZUOKBALBHZUPMUPUQNGMOPBQRRASETZCHZIJZFHZUSKZBCLZUQVAMZVAUQNZGMZOZPZBQZ
      RZRZCSZFTUTVBDCLZDHZVAMZVAVNNZGMZOZPZDQZRZRZCSZFTABCUREFGURUAUBVLWCFVKWBC
      VJWAUTVIVTVBVHVSBDBDUCZVCVMVGVRBDCUDWDVDVOVFVQUQVNVAUEWDVEVPOVFVQOUQVNVAU
      FVEVPGUEUGUHUIUJUKUKULUMUN $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y z w $.  $d x z w A $.  $d x z w H $.  $( ` w ` is dummy. $)
    $( Lemma for recursive function generator.  Changes bound variables. $)
    rfglem2 $p |- { <. x , y >. | ( ( x = (/) /\ y = A ) \/
            ( -. ( x = (/) \/ Lim dom x ) /\ y = ( H ` ( x ` U. dom x ) ) )
                \/ ( Lim dom x /\ y = U. ran x ) ) }
                = { <. z , y >. | ( ( z = (/) /\ y = A ) \/
            ( -. ( z = (/) \/ Lim dom z ) /\ y = ( H ` ( z ` U. dom z ) ) )
                \/ ( Lim dom z /\ y = U. ran z ) ) } $=
      ( vw cv cop wceq c0 wa cdm wlim wo wn cuni cfv crn w3o wex cab copab weq
      opeq1 cleq2d cleq1 birand wb dmeq limeq syl bi2ord binegd unieq
      fveq2 3syl fveq1 eqtrd bi2and rneq unieqd bi3ord biexdv cbvexv biab
      df-opab 3eqtr4 ) FGZAGZBGZHZIZVIJIZVJDIZKZVMVILZMZNZOZVJVPPZVIQZEQZIZKZVQ
      VJVIRZPZIZKZSZKZBTZATZFUAVHCGZVJHZIZWMJIZVNKZWPWMLZMZNZOZVJWRPZWMQZEQZIZK
      ZWSVJWMRZPZIZKZSZKZBTZCTZFUAWIABUBXKCBUBWLXNFWKXMACACUCZWJXLBXOVLWOWIXKXO
      VKWNVHVIWMVJUDUEXOVOWQWDXFWHXJXOVMWPVNVIWMJUFZUGXOVSXAWCXEXOVRWTXOVMWPVQW
      SXPXOVPWRIZVQWSUHVIWMUIZVPWRUJUKZULUMXOWBXDVJXOWAXCIWBXDIXOWAXBVIQZXCXOXQ
      VTXBIWAXTIXRVPWRUNVTXBVIUOUPXBVIWMUQURWAXCEUOUKUEUSXOVQWSWGXIXSXOWFXHVJXO
      WEXGVIWMUTVAUEUSVBUSVCVDVEWIABFVFXKCBFVFVG $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y z f g u v w F $.  $d x y z f g u v w A $.
    $( ` x y z f g u v w ` are dummy. $)
    $( A recursive function generator is a function on ordinals. $)
    rfgfnon $p |- rec ( F , A ) Fn On $=
      ( vx vy vu vw vv vg vz vf cv con wcel wfn wel cfv cres c0 wceq wa cdm
      wlim wo wn cuni crn w3o copab wi wal wex cab crfg rfglem1 df-rfg tfr1 )
      CDEKZLMFKZUQNGEOGKZURPURUSQHKZRSZIKZASTVAUTUAZUBZUCUDVBVCUEUTPBPSTVDVBUTU
      FUESTUGHIUHZPSUIGUJTTEUKFULJBAUMVEEGCDFJVEUNEGIAFHBUOUP $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y z f g u v w F $.  $d x y z f g u v w A $.
    $( ` x y f u v ` are dummy. $)
    $( Value of a recursive function generator. $)
    rfgval $p |- ( g e. On -> ( rec ( F , A ) ` g ) = (
                       { <. w , z >. | ( ( w = (/) /\ z = A ) \/
                       ( -. ( w = (/) \/ Lim dom w ) /\
                               z = ( F ` ( w ` U. dom w ) ) )
                       \/ ( Lim dom w /\ z = U. ran w ) ) }
                   ` ( rec ( F , A ) |` g ) ) ) $=
      ( vx vy vu vv vf cv con wcel crfg cfv cres c0 wceq wa cdm wlim wo wn
      cuni crn w3o copab wfn wel wi wal wex cab rfglem1 df-rfg tfr2 fveq1
      rfglem2 ax-mp syl6eq ) DKZLMVAECNZOVBVAPZVAQRZAKZCRZSVDVATZUAZUBUCVEVGUDV
      AOEORSVHVEVAUEUDRSUFDAUGZOZVCBKZQRZVFSVLVKTZUAZUBUCVEVMUDVKOEORSVNVEVKUEU
      DRSUFBAUGZOZFGDHKZLMVKVQUHIHUIIKZVKOVKVRPVIORUJIUKSSHULBUMJVBVIHIFGBJVIUN
      HIACBDEUOUPVIVORVJVPRVCVIVOUQDABCEURUSUT $.
      $([9-Apr-95]$)
  $}

  ${
    $d z g w F $.  $d z g w A $.
    $( ` z g w ` are dummy. $)

    ${
      rfg.1 $e |- A e. V $.

      $( The initial value of a recursive function generator. $)
      rfgzer $p |- ( rec ( F , A ) ` (/) ) = A $=
      ( vg vz vw crfg cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab
      rfglem2 rfgfnon rfgval tz7.44-1 ) DEABAGFHZIJZEHZAJKUFUELZMZNOUGUHPUEQBQJ
      KUIUGUERPJKSFETBFEDABUAABUBEFADBUCCUD $.
      $([23-Apr-95]$)
    $}

    ${
      $d z g B $.  $( ` z g ` are dummy. $)
      rfg.2 $e |- B e. On $.

      $( The value of a recursive function generator at a successor. $)
      rfgsuc $p |- ( rec ( F , A ) ` suc B ) = ( F ` ( rec ( F , A ) ` B ) ) $=
      ( vg vz vw crfg cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab
      rfglem2 rfgfnon rfgval tz7.44-2 ) EFABCAHGIZJKZFIZAKLUGUFMZNZOPUHUIQUFRCR
      KLUJUHUFSQKLTGFUACGFEACUBACUCFGAECUDDUE $.
      $([23-Apr-95]$)

      $( The value of a recursive function generator at a limit ordinal. $)
      rfglim $p |- ( Lim B ->
                   ( rec ( F , A ) ` B ) = U. ( rec ( F , A ) " B ) ) $=
      ( vg vz vw crfg cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab
      rfglem2 rfgfnon rfgval tz7.44-3 ) EFABCAHGIZJKZFIZAKLUGUFMZNZOPUHUIQUFRCR
      KLUJUHUFSQKLTGFUACGFEACUBACUCFGAECUDDUE $.
      $([23-Apr-95]$)
    $}
  $}

  ${
    $d x A $.  $d x B $.  $d x F $.  $( ` x ` is dummy. $)

    $( The initial value of a recursive function generator. $)
    rfgzert $p |- ( A e. C -> ( rec ( F , A ) ` (/) ) = A ) $=
      ( vx c0 cv crfg cfv wceq rfgeq2 fveq1 syl id cleq12d visset rfgzer
      vtoclg ) ECDFZGZHZRIECAGZHZAIDABRAIZTUBRAUCSUAITUBIRACJESUAKLUCMNRCDOPQ
      $.
      $([25-Apr-95]$)

    $( The value of a recursive function generator at a successor. $)
    rfgsuct $p |- ( B e. On ->
                 ( rec ( F , A ) ` suc B ) = ( F ` ( rec ( F , A ) ` B ) ) ) $=
      ( vx csuc crfg cfv wceq cv wcel con wa cab suceq fveq2 syl cleq12d
      0elon clded2 rfgsuc clded3 ) BEZCAFZGZBUCGZCGZHDIBJBKJLDMZEZUCGZUGUCGZCGZ
      HDBKBUGHZUDUIUFUKULUBUHHUDUIHBUGNUBUHUCOPULUEUJHUFUKHBUGUCOUEUJCOPQAUGCDB
      KRSTUA $.
      $([23-Apr-95]$)

    $( The value of a recursive function generator at a limit ordinal. $)
    rfglimt $p |- ( ( B e. C /\ Lim B ) ->
                   ( rec ( F , A ) ` B ) = U. ( rec ( F , A ) " B ) ) $=
      ( vx wcel wlim crfg cfv cima cuni wceq con wi limelon cv wa cab limeq
      fveq2 imaeq2 unieqd cleq12d bi2imd 0elon clded2 rfglim clded3 syl6
      pm2.43d imp ) BCFZBGZBDAHZIZUNBJZKZLZULUMURULUMBMFZUMURNZBCOUTEPBFUSQERZ
      GZVAUNIZUNVAJZKZLZNEBMBVALZUMVBURVFBVASVGUOVCUQVEBVAUNTVGUPVDBVAUNUAUBUCU
      DAVADEBMUEUFUGUHUIUJUK $.
      $([23-Apr-95]$)
  $}

  ${
    $d x y A $.  $d x y B $.  $d x y F $.
    $( The value of a recursive function generator at a limit ordinal,
       in terms of the union of all smaller values. $)
    rfglim2 $p |- ( ( B e. C /\ Lim B ) -> ( rec ( F , A ) ` B ) =
                  U. { y | E. x e. B y = ( rec ( F , A ) ` x ) } ) $=
      ( wcel wlim wa crfg cfv cima cuni cv wceq wrex cab rfglimt cop wex con
      wb word wi limord tz7.6 exp visset elon syl6ibr syl wfn fnfvop rfgfnon
      mpan cleqcom syl5bb syl6 pm5.32d biexdv df-rex syl5rbb biabdv dfima2
      syl5eq unieqd adantl eqtrd ) DEGZDHZIDFCJZKVKDLZMZBNZANZVKKZOZADPZBQZMZ
      CDEFRVJVMVTOVIVJVLVSVJVODGZVOVNSVKGZIZATZBQVSVLVJWDVRBVJWAVQIZATWDVRVJWEW
      CAVJWAVQWBVJWAVOUAGZVQWBUBVJDUCZWAWFUDDUEWGWAVOUCZWFWGWAWHDVOUFUGVOAUHUIU
      JUKWFVPVNOZWBVQVKUAULWFWIWBUBUAVOVNVKBUHUMCFUNUOVNVPUPUQURUSUTVQADVAVBVCA
      BVKDVDVEVFVGVH $.
      $([23-Apr-95]$)
  $}

  $( We use the next 3 theorems for finite recursion.  Note that we take
     advantage of what we have done for transfinite recursion, which allows
     us to explicitly specify the function and moreover not require the
     existence of omega. $)

  $( The function generated by finite recursion is a function on omega. $)
  frfnom $p |- ( rec ( F , A ) |` om ) Fn om $=
      ( crfg com cres wfn wfun cdm wceq wa df-fn funres con fnfun rfgfnon
      ax-mp cin wss sseqin1 omsson mpbi fndm ineq2i eqtr4 cleq2i dmres mpbir
      pm3.2i ) BACZDEZDFUJGZUJHZDIZJUJDKUKUMUIGZUKDUILUIMFZUNMUINABOZPPUMULDUIH
      ZQZIDURULDDMQZURDMRDUSIDMSTUAUQMDUOUQMIMUIUBUPPUCUDUEUIDUFUGUHUG $.
      $([15-Oct-96]$)

  $( The initial value for finite recursion. $)
  frzer $p |- ( A e. B -> ( ( rec ( F , A ) |` om ) ` (/) ) = A ) $=
      ( wcel c0 crfg cfv com cres rfgzert wceq fvres peano1 ax-mp syl5eqr ) ABD
      ECAFZGZAEPHIGZABCJEHDQRKEHPLMNO $.
      $([15-Oct-96]$)

  $( The successor value for finite recursion. $)
  frsuc $p |- ( B e. om -> ( ( rec ( F , A ) |` om ) ` suc B ) =
              ( F ` ( ( rec ( F , A ) |` om ) ` B ) ) ) $=
      ( com wcel csuc crfg cfv cres con wceq nnont rfgsuct syl peano2b fvres
      sylbi fveq2 3eqtr3d ) BDEZBFZCAGZHZBUBHZCHZUAUBDIZHZBUFHZCHZTBJEUCUEKBLA
      BCMNTUADEUCUGKBOUADUBPQTUDUHKUEUIKBDUBPUDUHCRNS $.
      $([15-Oct-96]$)

  ${
    $d x y z w F $.  $d x y z w A $.  $( ` z w ` are dummy. $)
    tz7.48.1 $e |- F Fn On $.
    $( A way of showing an ordinal function is one-to-one. $)
    tz7.48lem $p |- ( ( A (_ On /\ A. x e. A A. y e. x
                    -. ( F ` x ) = ( F ` y ) ) -> Fun `' ( F |` A ) ) $=
      ( vw vz con wss cv cfv wceq wn wral wa cres weq wi ccnv wfun wel wcel
      wal wb fvres cleqan12d adantr adantl ssel im2and wo pm3.48 orabs cleqcom
      bineg biror bitr syl6ibr pm2.03d word eloni im2an ordtri2 biimprd syl
      syl9r syl6 imp32 sylbird exp32 a2d 19.21aiiv r2al 3imtr4g pm3.26 imran
      syl4 exp3a 19.20i 3imtr4 cleq3 fveq2 cleq2d binegd bi2imd rcbvalv biral
      cleq4 cleq1d biraldv 3bitr ralcom sylbi ancri r19.26 sylibr syl5
      imdistani wfn cvv wf wf1 f1fv df-f1 bitr3 pm3.27 fnf sylanb ssfnres mpi
      sylan ) CHIZAJZDKZBJZDKZLZMZBXMNACNZOXLXMDCPZKZXOXTKZLZABQZRZBCNACNZOXTST
      ZXLXSYFXLABUAZXPXNLZMZRZBAUAZXRRZOZBCNZACNZYFXSXLXMCUBZXOCUBZOZYNRZBUCZAU
      CYSYERZBUCZAUCYPYFXLUVAUVCAXLYTUVBBXLYSYNYEXLYSYNYEXLYSYNOZOYCXQYDUVDXQYC
      UDZXLYSUVEYNYQYRXNYAXPYBXMCDUEXOCDUEUFUGUHXLYSYNXQYDRZXLYSXMHUBZXOHUBZOZY
      NUVFRXLYQUVGYRUVHCHXMUICHXOUIUJYNXQYHYLUKZMZUVIYDYNUVJXQYNUVJYJXRUKZXRYHY
      JYLXRULXRXRXRUKUVLXRUMXRYJXRXQYIXNXPUNUOUPUQURUSUVIXMUTZXOUTZOZUVKYDRUVGU
      VMUVHUVNXMVAXOVAVBUVOYDUVKXMXOVCVDVEVFVGVHVIVJVKVLVLYNABCCVMYEABCCVMVNXSY
      MBCNZACNZYPYQYLOZXRRZBUCZAUCYSYMRZBUCZAUCXSUVQUVTUWBAUVSUWABUVSYSYLXRYSYL
      OUVRXRYSYQYLYQYRVOVPVQVRVSVSXRABCXMVMYMABCCVMVTUVQYKBCNZACNZUVQOZYPUVQUWD
      UVQYKACNZBCNZUWDUVQFAUAZXNFJZDKZLZMZRZFCNZACNFGUAZGJZDKZUWJLZMZRZFCNZGCNZ
      UWGUVPUWNACYMUWMBFCBFQZYLUWHXRUWLXOUWIXMWAUXCXQUWKUXCXPUWJXNXOUWIDWBWCWDW
      EWFWGUWNUXAAGCAGQZUWMUWTFCUXDUWHUWOUWLUWSXMUWPUWIWHUXDUWKUWRUXDXNUWQUWJXM
      UWPDWBWIWDWEWJWFUXBAGUAZUWQXNLZMZRZACNZGCNUWGUXAUXIGCUWTUXHFACFAQZUWOUXEU
      WSUXGUWIXMUWPWAUXJUWRUXFUXJUWJXNUWQUWIXMDWBWCWDWEWFWGUXIUWFGBCGBQZUXHYKAC
      UXKUXEYHUXGYJUWPXOXMWHUXKUXFYIUXKUWQXPXNUWPXODWBWIWDWEWJWFUQWKYKBACWLWMWN
      YPUWCUVPOZACNUWEYOUXLACYKYMBCWOWGUWCUVPACWOUQWPVEWQWRXTCWSZYFYGXLCWTXTXAZ
      YFYGUXMUXNYFOZUXNYGOZYGUXOCWTXTXBUXPABCWTXTXCCWTXTXDXEUXNYGXFWMCXTXGXHXLD
      HWSUXMCHDXIEXJXKVE $.
      $([9-Feb-97]$)

    $( Proposition 7.48(1) of Takeuti and Zaring, p. 51. $)
    tz7.48-1 $p |- ( A. x e. On ( F ` x ) e. ( A \ ( F " x ) ) ->
                   ran F (_ A ) $=
      ( vy cv cfv cima cdif wcel con wral crn wceq wa wex hbra1 ax-17 wi ra4
      syl2 cleq3 eldifi syl5bi comm mpi imp3a syl 19.23ad cop visset elrn cdm
      opeldm wfn fndm ax-mp cleq4i sylib ancri wb fnfvop mpan pm5.32i sylibr
      19.22i sylbi syl5 ssrdv ) AFZCGZBCVJHZIJZAKLZECMZBVNVJKJZVKEFZNZOZAPZVQBJ
      ZVQVOJZVNVSWAAVMAKQWAARVNVPVMSZVSWASVMAKTWCVPVRWAWCVMVRWASZSVPWDSVPVMWDUA
      VRVMWAVRVKBJWAVMVKVQBUBVKBVLUCUDUEUFUGUHUIWBVJVQUJCJZAPVTAVQCEUKZULWEVSAW
      EVPWEOVSWEVPWEVJCUMZJVPVJVQCAUKUNWGKVJCKUOZWGKNKCUPDUQURUSUTVPVRWEWHVPVRW
      EVAKVJVQCWFVBDVCVDVEVFVGVHVI $.
      $([9-Feb-97]$)

    $( Proposition 7.48(2) of Takeuti and Zaring, p. 51. $)
    tz7.48-2 $p |- ( A. x e. On ( F ` x ) e. ( A \ ( F " x ) ) -> Fun `' F ) $=
      ( vy cv cfv cima cdif wcel con wral cres ccnv wfun wceq wn wa wel wi
      pm3.26 ontrt jca cdm crn wb fvres cleq3d df-ima cleq4i syl5bb adantr cin
      dmres elin bitr fvrn funres wfn fnfun ax-mp mpan sylbir mpbird cleq3
      biimprcd pm2.16d eldifn syl5 syl fndm sylan5br exp imp3a r19.21aiv
      r19.20ia wss tz7.48lem ssid funeq cnveq wrel relssres fnrel sseq1i mpbir
      mp2an sylibr ) AFZCGZBCWIHZIJZAKLZCKMZNZOZCNZOZWMWJEFZCGZPZQZEWILZAKLZWPW
      LXCAKWIKJZWLXCXEWLRXBEWIEASZXEWLXBXFXEWLXBTZXFXERZXFWSKJZRXGXHXFXIXFXEUAW
      SWIUBUCXFWSCUDZJZXGXIXFXKRZWTWKJZXGXLXMWSCWIMZGZXNUEZJZXFXMXQUFXKXFWTXPJX
      QXMXFWTXOXPWSWICUGUHWKXPWTCWIUIUJUKULXLWSXNUDZJZXQXSWSWIXJUMZJXLXRXTWSCWI
      UNUJWSWIXJUOUPXNOZXSXQWSXNUQCOZYAWICURCKUSZYBKCUTDVAVAVBVCVDXMWJWKJZQXBWL
      XMXAYDXAYDXMWJWTWKVEVFVGWJBWKVHVIVJXJKWSYCXJKPKCVKDVAZUJVLVJVMVNVOVMVPKKV
      QZXDWPAEKCDVRKVSZVBVJWQWOPZWRWPUFWQWOVTCWNPZYHCWNWACWBZXJKVQZYICKWCYCYJKC
      WDDVAYKYFXJKKYEWEYGWFWGVAVAWH $.
      $([9-Feb-97]$)

    $( Proposition 7.48(3) of Takeuti and Zaring, p. 51. $)
    tz7.48-3 $p |- ( A. x e. On ( F ` x ) e. ( A \ ( F " x ) ) -> -. A e. V ) $=
      ( cv cfv cima cdif wcel con wral cvv crn wss wi tz7.48-1 ssexg comm syl
      cdm ccnv wfun tz7.48-2 funrnex df-rn cleq3i dfdm4 3imtr4g wfn wceq fndm
      ax-mp tz7.13 mtbir mtoi mtod ) AEZCFBCUQGHIAJKZBLIZCMZLIZURUTBNZUSVAOABCD
      PUSVBVAUTBLQRSURVACTZLIZURCUAZUBZVAVDOABCDUCVFVETZLIZVEMZLIZVAVDVHVFVJLVE
      UDRUTVGLCUEUFVCVILCUGUFUHSVDJLIVCJLCJUIVCJUJJCUKDULUFUMUNUOUP $.
      $([9-Feb-97]$)

    ${
      tz7.49.2 $e |- A e. V $.
      $( Proposition 7.49 of Takeuti and Zaring, p. 51. $)
      tz7.49 $p |- ( A. x e. On ( -. ( A \ ( F " x ) ) = (/) ->
                   ( F ` x ) e. ( A \ ( F " x ) ) ) ->
                   E. x e. On ( A. y e. x -. ( A \ ( F " y ) ) = (/) /\
                   ( F " x ) = A /\ Fun `' ( F |` x ) ) ) $=
      ( vz cv cima cdif c0 wceq wn cfv wcel wi con wral wa wrex cres ccnv wfun
      w3a wex hbra1 pm3.27 adantr wss wel ax-17 hban visset weq imaeq2 difeq2
      syl cleq1d binegd fveq2 cleq34d bi2imd rcla4v cleq3 eldifi syl5bi comm
      syl8 ontrt syl5 ra4 imp syl7 com23 exp4a exp3a pm2.43d com34 imp3a
      19.23ad fvelima wfn fnfun ax-mp mpan ssrdv ssdif0 biimpr im2an eqss
      sylibr wal ssel cdm onsst fndm sseq2i funfvima eldifn im2and cleq3a
      pm2.16d syl6 exp4d com24 imp4a com3r 19.21adv 19.21ad r2al syl6ibr ancld
      tz7.48lem ancoms 3jca exp41 imdistan 19.22d df-rex 3imtr4g r19.20 cvv
      tz7.48-3 mt2 mtoi dfrex2 onminex mpd ) CDAHZIZJZKLZMZYIDNZYKOZPZAQRZYLCDB
      HZIZJZKLZMZBYIRZSZAQTZUVCYJCLZDYIUAUBUCZUDZAQTZYQYIQOZUVDSZAUEUVJUVHSZAUE
      UVEUVIYQUVKUVLAYPAQUFYQUVJUVDUVHPPUVKUVLPYQUVJYLUVCUVHYQUVJUVCYLUVHYQUVCU
      VJYLUVHPYQUVCUVJYLUVHYQUVCSZUVJSZYLSZUVCUVFUVGUVNUVCYLUVMUVCUVJYQUVCUGUHU
      HUVOYJCUIZCYJUIZSUVFUVNUVPYLUVQUVNGYJCUVMUVJGHZYJOZUVRCOZPUVMUVSUVJUVTUVM
      BAUJZYRDNZUVRLZSZBUEZUVJUVTPZUVSUVMUWDUWFBYQUVCBYQBUKZUVBBYIUFZULUWFBUKUV
      MUWAUWCUWFUVMUWAUVJUWCUVTUVMUWAUVJUWCUVTPZPZYQUVCUWAUWAUWJPZPYQUVCUWAUWKY
      QUVCUWASZUWAUVJUWIYQUWAUVJSZUWLUWIYQUWMUVBUWIUWLYQYRQOZUVBUWIPUWMYQUWNUVB
      UWBYTOZUWIYPUVBUWOPAYRQBUMABUNZYMUVBYOUWOUWPYLUVAUWPYKYTKUWPYJYSLYKYTLYIY
      RDUOYJYSCUPUQZURZUSUWPYNUWBYKYTYIYRDUTUWQVAVBVCZUWCUWOUVTUWCUWBCOUVTUWOUW
      BUVRCVDUWBCYSVEVFVGVHYRYIVIVJUVCUWAUVBUVBBYIVKVLZVMVNVOVPVLVQVRVSVTDUCZUV
      SUWEBUVRYIDWADQWBZUXAQDWCEWDZWEVJVNVLWFUVQYLCYJWGWHWIYJCWJWKUVNUVGYLUVMUV
      JUVGUVCYQUVJUVGPUVCYQSZYIQUIZUVGUVJUXDUXEUXEUWBUVRDNZLZMZGYRRBYIRZSUVGUXD
      UXEUXIUXDUXEUWAGBUJZSUXHPZGWLZBWLUXIUXDUXEUXLBUVCYQBUWHUWGULUXEBUKUXDUXEU
      XKGUXDUXEUWAUXJUXHUXEUWAUXDUXJUXHPZUXEUWAUVCYQUXMUXEUWAUVCYQUXMPZPUXEUWAU
      VCUWAUXNUXEUWAUVCUWAUXNUXEUWAUWNUWLUXNPYIQYRWMUWNUXJYQUWLUXHUWNUXJYQUWLUX
      HUWNUXJYQUWLSZSUXFYSOZUWBYSOZMZSUXHUWNUXJUXPUXOUXRUWNYRDWNZUIZUXJUXPPZUWN
      YRQUIUXTYRWOUXSQYRUXBUXSQLQDWPEWDWQWKUXAUXTUYAYRUVRDWRUXCWEUQUWNYQUWLUXRY
      QUWNUWLUXRPYQUWNUVBUXRUWLYQUWNUVBUWOUXRUWSUWBCYSWSVHUWTVMVGVSWTUXPUXRUXHU
      XPUXGUXQUXFYSUWBXAXBVLXCXDXEXCVOVRVQXFXGXFXHXIUXHBGYIYRXJXKXLBGYIDEXMXCYI
      WOVJXNVLUHXOXPVNVRXFUVJUVDUVHXQUQXRUVDAQXSUVHAQXSXTYQYLAQTZUVEYQYMAQRZMUY
      BYQUYCYOAQRZYMYOAQYAUYDCYBOACDEYCFYDYEYLAQYFWKYLUVAABUWRYGUQYH $.
      $([10-Feb-97]$)

      $( Corollary of Proposition 7.49 of Takeuti and Zaring, p. 51. $)
      tz7.49c $p |- ( A. x e. On ( -. ( A \ ( F " x ) ) = (/) ->
                   ( F ` x ) e. ( A \ ( F " x ) ) ) ->
                   E. x e. On ( F |` x ) : x -1-1-onto-> A ) $=
      ( vy cv cima cdif c0 wceq wn cfv wcel wi con wral cres ccnv wfun w3a
      wrex wf1o tz7.49 wa wfn crn wss onsst ssfnres mpi syl df-ima cleq1i
      biimp im2an imran f1o2 df-3an an1r 3bitr sylibr exp31 imp3a 3simpc syl5
      r19.22ia ) BCAGZHZIZJKLVHCMVJNOAPQBCFGHIJKLFVHQZVIBKZCVHRZSTZUAZAPUBVHBVM
      UCZAPUBAFBCDEUDVOVPAPVHPNZVLVNUEVPVOVQVLVNVPVQVLVNVPVQVLUEZVNUEVMVHUFZVMU
      GZBKZUEZVNUEZVPVRWBVNVQVSVLWAVQVHPUHZVSVHUIWDCPUFVSVHPCUJDUKULVLWAVIVTBCV
      HUMUNUOUPUQVPVSVNWAUAVSVNUEWAUEWCVHBVMURVSVNWAUSVSVNWAUTVAVBVCVDVKVLVNVEV
      FVGUL $.
      $([10-Feb-97]$)
    $}
  $}



$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
        Transfinite Recursion
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  ${
    $d x y z A $.  $d x y z B $.  $d x y z w F $.  $d x y z w G $.
      $( ` y z w ` are dummy. $)
    $( Lemma for transfinite recursion.  Compare Lemma 1 of Takeuti and
       Zaring, p. 47. $)
    tfrlem1 $p |- ( A e. On -> ( ( F Fn A /\ G Fn A ) ->
                  ( A. x ( x e. A -> ( ( F ` x ) = ( B ` ( F |` x ) ) /\
                                        ( G ` x ) = ( B ` ( G |` x ) ) ) ) ->
                  A. x ( x e. A -> ( F ` x ) = ( G ` x ) ) ) ) ) $=
      ( vy vz vw con wcel wfn wa wss cv cfv cres wceq wi wal wel sseq1 eleq2
      birimd bialdv bi2imd bilimd weq biland a14b bi2and onelsst sstr imland
      ssel syl4d 19.20dv im2and syl6 com23 19.21adv cleq12 fvreseq biimpar
      fveq2d syl5bir exp4c com4l syl9 imp4a imp a2d ax-2 19.20 ax17el hba1
      hbim ax-17 a13b fveq2 cleq12d cbvalv syl5bb cbv4 syl5ib exp syl34d
      pm2.43 19.20ii syl5 tfis2 vtoclga ssid mpii ) BIJDBKEBKLZBBMZANZBJZWPDOZD
      WPPZCOZQWPEOZEWPPZCOZQLZRZASZWQWRXAQZRZASZRZWNFNZBMZAFTZXDRZASZXMXGRZASZR
      ZRZRWNWOXJRZRFBIXKBQZXSXTWNYAXLWOXRXJXKBBUAYAXOXFXQXIYAXNXEAYAXMWQXDXKBWP
      UBZUCUDYAXPXHAYAXMWQXGYBUCUDUEUEUFXKIJZWNXLXOXQWNXLLZXOLZXQRZWNGNZBMZLZAG
      TZXDRZASZLZYJXGRZASZRZFGFGUGZYEYMXQYOYQYDYIXOYLYQXLYHWNXKYGBUAUHYQXNYKAYQ
      XMYJXDFGAUIZUCUDUJYQXPYNAYQXMYJXGYRUCUDUEYCGFTZYMRZGSZYSYORZGSZRZYFYSYPRZ
      GSYCUVDYEYFRYFYCYEUVAUVCYFYCYEYTGYCYSYEYMYCYSYGXKMZYEYMRXKYGUKUVFYDYIXOYL
      UVFXLYHWNYGXKBULUMUVFXNYKAUVFYJXMXDYGXKWPUNUOUPUQURUSUTYCUVCYDXOXQYCYDUVC
      XRYCYDUVCXRRYCYDLZXMHATZHNZDOZUVIEOZQZRZHSZRZASZXRUVCUVGUVPXNXPRZASXRUVGU
      VOUVQAUVGUVOXMXDXGRZRUVQUVGXMUVNUVRYCYDXMUVNUVRRZRYCXMYDUVSYCXMWNXLUVSYCX
      MWPXKMZWNXLUVSRRXKWPUKUVTXLWPBMZWNUVSWPXKBULXDWNUWAUVNXGXDWNUWAUVNXGXDXGW
      TXCQWNUWALZUVNLZWRWTXAXCVAUWCWSXBCUWBWSXBQUVNHBWPDEVBVCVDVEVFVGVHURVIUSVJ
      VKXMXDXGVLURUPXNXPAVMURUVBUVOGAYSYOAGFAVNYNAVOVPUVOGVQGAUGZYSXMYOUVNGAFVR
      UWDHGTZUVLRZHSUVNYOUWDUWFUVMHUWDUWEUVHUVLGAHUIUCUDYNUWFAHAHUGZYJUWEXGUVLA
      HGVRUWGWRUVJXAUVKWPUVIDVSWPUVIEVSVTUEWAWBUEWCWDWEUSVIWFYEXQWGURUVEYTUVBGY
      SYMYOVLWHWIWJVFWKBWLWM $.
      $([10-Aug-94]$)
  $}

  ${
    $d w A $.  $d w B $.  $d w F $.  $d w G $.  $d w x $.  $d w y $.
    $( Lemma for transfinite recursion.  Messy details needed to link in
       ~tfrlem1 . $)
    tfrlem2 $p |- ( ( F Fn A /\ G Fn A ) ->
       ( ( <. x , y >. e. F /\ <. x , z >. e. G ) ->
       ( A e. On -> ( A. w ( A e. On -> ( w e. A ->
          ( ( F ` w ) = ( B ` ( F |` w ) ) /\
            ( G ` w ) = ( B ` ( G |` w ) ) ) ) ) ->
       y = z ) ) ) ) $=
      ( wfn wa cv cop wcel con cfv cres wceq wi wal weq wb wfun visset funopfv
      imp im2an an4s fnfun sylan cleq12 syl adantr opelfn tfrlem1 eleq1 fveq2
      cleq12d bi2imd a4b1 syl8 com4r exp pm2.43i imp43 mpbid abai bial ax-17
      19.28 3bitr3r sylan5b exp43 ) GEIZHEIZJZAKZBKZLGMZVPCKZLHMZJZENMZWBDKZEMZ
      WCGOZGWCPFOQWCHOZHWCPFOQJRZRZDSZBCTZVOWAJZWBWGDSZJZWJWBWIJZWKWMJVPGOZVPHO
      ZQZWJWKWQWJUAZWMWKWOVQQZWPVSQZJZWRGUBZHUBZJWAXAVOXBVRXCVTXAXBVRJWSXCVTJWT
      XBVRWSVPVQGBUCZUDUEXCVTWTVPVSHCUCUDUEUFUGVMXBVNXCEGUHEHUHUFUIWOVQWPVSUJUK
      ULVOWAWBWLWQVOWAWBWLWQRZRRVOWAWBVOXEVOWAWBVOXERRZWKVPEMZXFVMVRVNVTXGVMVRJ
      XGVNVTJEVPVQGAUCXDUMULUGWBVOWLXGWQWBVOWLWDWEWFQZRZDSXGWQRZDEFGHUNXIXJDADA
      TZWDXGXHWQWCVPEUOXKWEWOWFWPWCVPGUPWCVPHUPUQURUSUTVAUKVBVAVCVDVEWBWGJZDSWB
      WHJZDSWMWNXLXMDWBWGVFVGWBWGDWBDVHZVIWBWHDXNVIVJVKVL $.
      $([23-Mar-95]$)
  $}

  ${
    $d x y f g $.  $d x y z $.  $d g z $.  $d f g G $.  $d x z G $.
    $( Let ` A ` be the class of "acceptable" functions. $)
    tfrlem3.1 $e |- A = { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) } $.

    $( Lemma for transfinite recursion.  Changes bound variables in ` A `. $)
    tfrlem3   $p |- A = { g | E. z ( z e. On /\ ( g Fn z /\
                A. y ( y e. z -> ( g ` y ) = ( G ` ( g |` y ) ) ) ) ) } $=
      ( cv con wcel wfn wel cfv cres wceq wi wal wa wex cab visset weq fneq1
      fveq1 reseq1 fveq2d cleq12d bilimd bialdv bi2and biland biexdv abcl
      eleq1 fneq2 a14b birimd cbvexv bitr cleqabri eqtr ) DAIZJKZEIZVCLZBAMZBIZ
      VENZVEVHOZGNZPZQZBRZSZSZATZEUAZCIZJKZFIZVSLZBCMZVHWANZWAVHOZGNZPZQZBRZSZS
      ZCTZFUAHWLFVRWAVRKVDWAVCLZVGWGQZBRZSZSZATZWLVQWREWAFUBEFUCZVPWQAWSVOWPVDW
      SVFWMVNWOVCVEWAUDWSVMWNBWSVLWGVGWSVIWDVKWFVHVEWAUEWSVJWEGVEWAVHUFUGUHUIUJ
      UKULUMUNWQWKACACUCZVDVTWPWJVCVSJUOWTWMWBWOWIVCVSWAUPWTWNWHBWTVGWCWGACBUQU
      RUJUKUKUSUTVAVB $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y f g h A $.  $d x y z w v u f F $.
    $d x y z w f g h G $.  $d x y B $.  $d z w v u g h $.

    $( Let ` A ` be the class of "acceptable" functions. $)
    tfrlem.1 $e |- A = { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) } $.

    $( Let ` F ` be the union of all acceptable functions. $)
    tfrlem.2 $e |- F = U. A $.

    $( Lemma for transfinite recursion.   An acceptable function is a
       function. $)
    tfrlem4 $p |- ( g e. A -> Fun g ) $=
      ( vz cv wcel con wfn wel cfv cres wceq wi wal wa wex wfun tfrlem3
      cleqabi pm3.27 pm3.26 fnfun 3syl 19.23aiv sylbi ) EKZCLJKZMLZULUMNZBJOBKZ
      ULPULUPQGPRSBTZUAZUAZJUBZULUCZUTECABJCDEGHUDUEUSVAJUSURUOVAUNURUFUOUQUGUM
      ULUHUIUJUK $.
      $([9-Apr-95]$)

    $( Lemma for transfinite recursion.  The values of two acceptable
       functions are the same within their domains. $)
    tfrlem5 $p |- ( ( g e. A /\ h e. A ) ->
                  ( ( <. x , u >. e. g /\ <. x , v >. e. h ) -> u = v ) ) $=
      ( vz vw cv wcel wa con wfn wel cfv cres wceq wi wal wex cop weq tfrlem3
      cleqabi bi2an eeanv bitr4 cin onin 19.26 wss wb onelsst impac fvres
      ssreseq fveq2d cleqan12rd bi2and syl prth pm3.27 elin sylib syl5 mpbidi
      exp3a 19.20i sylbir imlan an4s im2an 2elresin tfrlem2 fnresin1 fnresin2
      syl2an sylbid com24 com3r imp32 19.23aivv sylbi ) GOZEPZHOZEPZQZMOZRPZWJW
      OSZBMTZBOZWJUAZWJWSUBZJUAZUCZUDZBUEZQZQZNOZRPZWLXHSZBNTZWSWLUAZWLWSUBZJUA
      ZUCZUDZBUEZQZQZQZNUFMUFZAOZDOUGZWJPYBCOUGZWLPQZDCUHZUDZWNXGMUFZXSNUFZQYAW
      KYHWMYIYHGEABMEFGJKUIUJYIHEABNEFHJKUIUJUKXGXSMNULUMXTYGMNXTWOXHUNZRPZWQXJ
      QZYKWSYJPZWSWJYJUBZUAZYNWSUBZJUAZUCZWSWLYJUBZUAZYSWSUBZJUAZUCZQZUDUDZBUEZ
      QZQZYGWPXIXFXRUVHWPXIQYKXFXRQUVGWOXHUOWQXJXEXQUVGXEXQQZUVFYLUVIXDXPQZBUEU
      VFXDXPBUPUVJUVEBUVJYKYMUVDYKYMQZXCXOQZUVDUVJUVKWSYJUQZYMQZUVLUVDURYKYMUVM
      YJWSUSUTUVNXCYRXOUVCYMUVMWTYOXBYQWSYJWJVAUVMXAYPJWJWSYJVBVCVDYMUVMXLYTXNU
      VBWSYJWLVAUVMXMUVAJWLWSYJVBVCVDVEVFUVJWRXKQZUVLUVKWRXCXKXOVGUVKYMUVOYKYMV
      HWSWOXHVIVJVKVLVMVNVOVPVQVRVQYKYLUVFYGYLUVFYKYGYLYEYKUVFYFYLYEYCYNPYDYSPQ
      ZYKUVFYFUDUDZADCWOXHWJWLVSYNYJSYSYJSUVPUVQUDWQXJADCBYJJYNYSVTWOXHWJWAXHWO
      WLWBWCWDWEWFWGVFWHWI $.
      $([9-Apr-95]$)

    $( Lemma for transfinite recursion.  ` F ` is a relation. $)
    tfrlem6 $p |- Rel F $=
      ( vg cuni wceq wrel releq cv wcel wi reluni wfun tfrlem4 funrel syl mpg
      mpbiri ax-mp ) ECJZKZELZHUFUGUELZEUEMINZCOZUILZPUHIICQUJUIRUKABCDIEFGHSUI
      TUAUBUCUD $.
      $([8-Aug-94]$)

    $( Lemma for transfinite recursion.  ` F ` is a function. $)
    tfrlem7 $p |- Fun F $=
      ( vu vv vg vh wfun wrel cv cop wcel wa weq wi wal dffun2 tfrlem6 wex
      cuni eleq2i eluni bitr bi2an eeanv bitr4 an4 ancom tfrlem5 imp sylbi
      19.23aivv ax-gen gen2 pm3.2i mpbir ) EMENZAOZIOPZEQZVCJOPZEQZRZIJSZTZJUAZ
      IUAAUAZRAIJEUBVBVLABCDEFGHUCVKAIVJJVHVDKOZQZVMCQZRZVFLOZQZVQCQZRZRZLUDKUD
      ZVIVHVPKUDZVTLUDZRWBVEWCVGWDVEVDCUEZQWCEWEVDHUFKVDCUGUHVGVFWEQWDEWEVFHUFL
      VFCUGUHUIVPVTKLUJUKWAVIKLWAVOVSRZVNVRRZRZVIWAWGWFRWHVNVOVRVSULWGWFUMUHWFW
      GVIABJICDKLEFGHUNUOUPUQUPURUSUTVA $.
      $([9-Aug-94]$)

    $( Lemma for transfinite recursion.  The domain of ` F ` is ordinal. $)
    tfrlem8 $p |- Ord dom F $=
      ( vv vw vz cdm con wss word wtr wi wel cv wcel wa wal dftr2 wex cop wfn
      cfv cres wceq visset eldm cab cuni unieqi eqtr eleq2i eluniab bitr biex
      19.42v opelfn exp adantr adantl comm imp wb fndm sseq1d cleqabi elssuni
      sseq2i dmss sylbir syl 19.23bi mpbid pm3.26 jca 19.22i 19.23aivv sylbi
      imlan sylibr ontr1t ssel sylan9r exp4b com4t imp45 19.23aiv ax-gen
      mpgbir trssord 3exp ax-mp ontrt sylan exp31 com3l imp3a 19.23adv ssri
      tz7.12 mp2 ) ELZMNZMOZXFOZXFPZXGXHXIQQXJIJRZJSZXFTZUAZISZXFTZQZJUBIIJXFUC
      XQJXNXKJARZASZXFNZXSMTZUAZUAZUAZAUDZXPXNXKYCAUDZUAYEXMYFXKXMXLKSZUEZDSZTZ
      YAYIXSUFZBARBSZYIUGYIYLUHFUGUIQBUBZUAZUAZAUDZUAZDUDZKUDZYFXMYHETZKUDZYSKX
      LEJUJZUKZYTYRKYTYHYPDULZUMZTYREUVEYHECUMZUVEHCUVDGUNUOUPYPDYHUQURZUSURYQY
      FKDYQYJYOUAZAUDYFYJYOAUTUVHYCAUVHXRYBYJYOXRYOYJXRYNYJXRQZYAYKUVIYMYKYJXRX
      SXLYGYIUVBKUJVAZVBVCVDVEVFYOYBYJYOXTYAYOYILZXFNZXTYNUVLXTVGZYAYKUVMYMYKUV
      KXSXFXSYIVHVIVCVDYOUVLAYPYICTZUVLYPDCGVJUVNYIUVFNZUVLYICVKUVOYIENUVLEUVFY
      IHVLYIEVMVNVOVNVPVQYAYNVRVSVDVSVTVNWAWBWCXKYCAUTWDYDXPAXKXRXTYAXPXTYAXKXR
      XPXTYAXKXRXPYAXKXRUAIARXTXPXSXOXLWEXSXFXOWFWGWHWIWJWKVOWLWMXJXGXHXIXFMWNW
      OWPJXFMXMUVAXLMTZUVCYTUVPKYTYRUVPUVGYQUVPDYJYPUVPYJYOUVPAYJYAYNUVPYNYJYAU
      VPYKYJYAUVPQQYMYKYJYAUVPXRYAUVPYKYJUAXLXSWQUVJWRWSVCWTXAXBVFWKWBWKWBXCXDX
      E $.
      $([14-Aug-94]$)

    $( Lemma for transfinite recursion.  The value of ` F `. $)
    tfrlem9 $p |- ( y e. dom F -> ( F ` y ) = ( G ` ( F |` y ) ) ) $=
      ( vz cv cdm wcel cop wex cfv cres wceq visset eldm con wfn wel wi wal wa
      cab cuni unieqi eqtr eleq2i eluniab bitr opelfn wss fndm eleq2d wfun wb
      funssfv adantarl fun2ssres fveq2d eleq1d onelsst syl6bir imp31 sylan5
      cleq12d tfrlem7 mpan11 biimprd exp44 com4l com23 sylbird com4t ax-2 a4sd
      syl8 comm imp4d cleqabi elssuni sseq2i sylibr sylbir 19.23bi mpcom syl
      exp4d exp com4r pm2.43i com3l 19.23adv imp 19.23aiv sylbi ) BJZEKLWSIJZMZ
      ELZINWSEOZEWSPZFOZQZIWSEBRZSXBXFIXBXADJZLZAJZTLZXHXJUAZBAUBZWSXHOZXHWSPZF
      OZQZUCZBUDZUEUEZANZUEZDNZXFXBXAYADUFZUGZLYCEYEXAECUGZYEHCYDGUHUIUJYADXAUK
      ULYBXFDXIYAXFXIXTXFAXIXKXLXSXFXLXIXKXSXFUCZXLXIXKYGUCUCXLXIXKXLYGXLXIXKXL
      YGUCUCXLXIUEZXKXLXSXFYHXMXTXFUCXJWSWTXHXGIRUMXTXMXFXHEUNZXTXMXFUCZYIXKXLX
      SYJXKYIXLXSYJUCZUCXKYIXLXMXQXFUCZUCZYKXLXMXKYIYLXLXMWSXHKZLZXKYIYLUCZUCXL
      YNXJWSXJXHUOZUPXLXKYOYPYIXLXKYOYLYIXLXKYOYLYIXLXKUEZYOUEZUEXFXQEUQZYIYSXF
      XQURYTYIUEZYSUEXCXNXEXPUVAYOXCXNQYRWSEXHUSUTUVAWSYNUNZXEXPQYSUVAUVBUEXDXO
      FWSEXHVAVBXLXKYOUVBXLXKYNTLYOUVBUCXLYNXJTYQVCYNWSVDVEVFVGVHABCDEFGHVIVJVK
      VLVMVNVOVPYMXRYJBXMXQXFVQVRVSVTWAXTYIAYAXHCLZYIYADCGWBUVCXHYFUNYIXHCWCEYF
      XHHWDWEWFWGWHVTWIWJWKWLWMWNWAWOWPWQWRWQWR $.
      $([17-Aug-94]$)

    ${
      $d x y f C $.

      $( Extend ` F ` with one ordered pair.  Assuming the domain of ` F ` is
         not ` On `, we will prove facts about ` C ` to derive a
         contradiction. $)
      tfrlem.3 $e |- C = ( F u. { <. dom F , ( G ` ( F |` dom F ) ) >. } ) $.

      $( Lemma for transfinite recursion.  ` C ` is a function and extends
         the domain of ` F ` by one. $)
      tfrlem10 $p |- ( dom F e. On -> C Fn suc dom F ) $=
        ( cdm con wcel wfun csuc wceq wa wfn cres cfv cop csn wi cin c0 cun
        funun wb funeq ax-mp sylibr cv wn wal opeq1 sneq dmeq 3syl cleq12d
        visset fvex dmsn vtoclg eleq2d eleq1 binegd word eloni ordeirr syl
        syl5bir comm elsni syl5 sylbid pm2.03d 19.21aiv disj sylan5 exp
        tfrlem7 mpan funsn mpcom uneq2d dmun eqtr df-suc 3eqtr4g jca df-fn ) FK
        ZLMZDNZDKZWLOZPZQDWPRWMWNWQWLFWLSZGTZUAZUBZNZWMWNFNZXBWMWNUCXCXBQZWMWNX
        DWLXAKZUDUEPZWNWMXDXFQFXAUFZNZWNFXAUGDXGPZWNXHUHJDXGUIUJUKWMAULZWLMZXJX
        EMZUMUCZAUNXFWMXMAWMXLXKWMXLXJWLUBZMZXKUMZWMXEXNXJXJWSUAZUBZKZXJUBZPXEX
        NPAWLLXJWLPZXSXEXTXNYAXQWTPZXRXAPZXSXEPXJWLWSUOZXQWTUPZXRXAUQURXJWLUPUS
        XJWSAUTZWRGVAZVBVCZVDWMYAXPXOYAWMXPYAXPWLWLMZUMZWMYAXKYIXJWLWLVEVFWMWLV
        GYJWLVHWLVIVJVKVLXJWLVMVNVOVPVQAWLXEVRUKVSVTABCEFGHIWAWBXRNZXBAWLLYAYBY
        CYKXBUHYDYEXRXAUIURXJWSYFYGWCVCWDWMWLXEUFZWLXNUFWOWPWMXEXNWLYHWEWOXGKZY
        LXIWOYMPJDXGUQUJFXAWFWGWLWHWIWJDWPWKUK $.
        $([14-Aug-94]$)

      $( Lemma for transfinite recursion.  The value of ` C `. $)
      tfrlem11 $p |- ( dom F e. On ->
                     ( y e. suc dom F -> ( C ` y ) = ( G ` ( C |` y ) ) ) ) $=
        ( cdm con wcel cv wceq wo cfv cres csuc wi wfun wa wss funssfv
        adantarl fun2ssres fveq2d onelsst imp sylan5 cleq12d tfrlem9 syl5bir
        cop csn cun ssun1 sseqtr4 mpan12 wfn tfrlem10 fnfun syl sylan exp32
        pm2.43i pm2.43d wb fvex fnfvop visset eqelsuc syl2an opeq1 adantl
        eqimss reseq2 eqtrd fveq2 opeq2 3syl sneq eleq2d opex snid mpbii elun2
        eleq2i sylibr mpbird exp jaod elsuci syl5 ) FKZLMZBNZWOMZWQWOOZPWQDQZDW
        QRZGQZOZWQWOSZMZWPWRXCWSWPWRXCWPWRWRXCTZTWPWPWRXFDUAZWPWRUBZXFWPXGFDUCZ
        XHXFXGXIUBZXHUBZXCWQFQZFWQRZGQZOWRXKWTXLXBXNXJWRWTXLOWPWQDFUDUEXJWQWOUC
        ZXBXNOXHXJXOUBXAXMGWQDFUFZUGWPWRXOWOWQUHUIUJUKABCEFGHIULUMFFWOFWORZGQZU
        NZUOZUPZDFXTUQJURZUSWPDXDUTZXGABCDEFGHIJVAZXDDVBVCZVDVEVFVGWPWSXCWPWSUB
        ZXCWQXBUNZDMZYCXEXCYHVHWPWSXDWQXBDXAGVIVJYDWQWOBVKVLVMYFYGYAMZYHYFYGXTM
        ZYIYFYGYGUOZMYJYFYKXTYGYFYGXSOYKXTOYFYGWOXBUNZXSWSYGYLOWPWQWOXBVNVOYFXA
        XQOXBXROYLXSOYFXAXMXQXGXOXAXMOZWPWSXGXIXOYMXPYBUSYEWQWOVPVMWSXMXQOWPWQW
        OFVQVOVRXAXQGVSXBXRWOVTWAVRYGXSWBVCWCYGWQXBWDWEWFYGXTFWGVCDYAYGJWHWIWJW
        KWLWQWOWMWN $.
        $([18-Aug-94]$)

      $( Lemma for transfinite recursion.  ` C ` is an acceptable function. $)
      tfrlem12 $p |- ( dom F e. On -> C e. A ) $=
        ( cdm con wcel cv wfn wel cfv cres wceq wi wal wa wex cvv wb csuc fnex
        tz7.24 tfrlem10 syl13 fneq1 fveq1 reseq1 fveq2d cleq12d bilimd bialdv
        bi2and biland biexdv vtoclabg syl eleq1 fneq2 eleq2 birimd cla4egv
        tfrlem11 19.21aiv jca mpbird ) FKZLMZDCMZANZLMZDVOOZBAPZBNZDQZDVSRZGQZS
        ZTZBUAZUBZUBZAUCZVMDUDMZVNWHUEVLUFZLMZDWJOZWIVMWJLDUGVLUHZABCDEFGHIJUIZ
        UJVPENZVOOZVRVSWOQZWOVSRZGQZSZTZBUAZUBZUBZAUCWHEDCUDWODSZXDWGAXEXCWFVPX
        EWPVQXBWEVOWODUKXEXAWDBXEWTWCVRXEWQVTWSWBVSWODULXEWRWAGWODVSUMUNUOUPUQU
        RUSUTHVAVBWKWKWLVSWJMZWCTZBUAZUBZUBZWHVMWGXJAWJLVOWJSZVPWKWFXIVOWJLVCXK
        VQWLWEXHVOWJDVDXKWDXGBXKVRXFWCVOWJVSVEVFUQURURVGWMVMWKXIWMVMWLXHWNVMXGB
        ABCDEFGHIJVHVIVJVJUJVK $.
        $([15-Aug-94]$)

      $( Lemma for transfinite recursion.  If ` dom F ` is in ` On `, then
         ` C ` is acceptable, and thus a subset of ` F `, but ` dom C ` is
         bigger than ` dom F `.  This is a contradiction, so ` dom F ` must be
         ` On `. $)
      tfrlem13 $p |- dom F = On $=
        ( cdm con wcel wn wceq wo orel1 word tfrlem8 ordeirr wss wi cuni
        elssuni sseq2i sylibr dmss ssel 3syl tfrlem12 csuc wfn tfrlem10 fndm
        syl eleq2d sucidg mpbird syl13 nsyl ax-mp tz7.14 mp2 ) FKZLMZNZVEVDLOZP
        ZVGVEVGQVDRZVFABCEFGHISZVIVDVDMZVEVDTDCMZVDDKZMZVKVEVLDFUAZVMVDUAVNVKUB
        VLDCUCZUAVODCUDFVPDIUEUFDFUGVMVDVDUHUIABCDEFGHIJUJVEVNVDVDUKZMVEVMVQVDV
        EDVQULVMVQOABCDEFGHIJUMVQDUNUOUPVDLUQURUSUTVAVIVHVJVDVBVAVC $.
        $([14-Aug-94]$)

    $}
  $}

  ${
    $d x y f A $.  $d x y f F $.
    $d x y f G $.  $d x y B $.  $d y z $.

    $( Let ` A ` be the class of "acceptable" functions. $)
    tfr.1 $e |- A = { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) } $.

    $( Let ` F ` be the union of all acceptable functions. $)
    tfr.2 $e |- F = U. A $.

    $( Principle of Transfinite Recursion, part 1.  Theorem 7.41(1) of
       Takeuti and Zaring, p. 47. $)
    tfr1 $p |- F Fn On $=
      ( con wfn wfun cdm wceq wa df-fn tfrlem7 cres cfv cop csn cun cleqid
      tfrlem13 pm3.2i mpbir ) EIJEKZELZIMZNEIOUFUHABCDEFGHPABCEUGEUGQFRSTUAZDEF
      GHUIUBUCUDUE $.
      $([17-Aug-94]$)

    $( Principle of Transfinite Recursion, part 2.  Theorem 7.41(2) of
       Takeuti and Zaring, p. 47. $)
    tfr2 $p |- ( z e. On -> ( F ` z ) = ( G ` ( F |` z ) ) ) $=
      ( cv cfv cres wceq con weq fveq2 reseq2 fveq2d cleq12d wcel cdm cop csn
      cun cleqid tfrlem13 eleq2i tfrlem9 sylbir vtoclga ) BJZFKZFUKLZGKZMZCJZFK
      ZFUPLZGKZMBUPNBCOZULUQUNUSUKUPFPUTUMURGUKUPFQRSUKNTUKFUAZTUOVANUKABDFVAFV
      ALGKUBUCUDZEFGHIVBUEUFUGABDEFGHIUHUIUJ $.
      $([9-Apr-95]$)

    $( Principle of Transfinite Recursion, part 3.  Theorem 7.41(3) of
       Takeuti and Zaring, p. 47. $)
    tfr3 $p |- ( ( B Fn On /\
               A. x ( x e. On -> ( B ` x ) = ( G ` ( B |` x ) ) ) ) ->
               B = F ) $=
      ( con wfn cv wcel cfv cres wceq wi wal wa wb cleqfv tfr1 mpan2 biimpar
      cleqid mpan21 ax-17 hba1 hban hbim weq fveq2 cleq12d bilimd wel tfr2
      jctr jcab sylibr cleq12 syl6 imp adantl wss fvreseq mpan12 syl6bir onsst
      sylan5 ancoms adantr mpbird exp43 com4t exp4a pm2.43d a4s com3l imp3a
      a2d bi2.04 bial 19.21v bitr syl5ib tfis2f comm 19.21ai anabss5 ) DJKZALZJ
      MZWKDNZDWKOZGNZPZQZARZDFPZWJWLWMWKFNZPZQZARZWSWJWRSZWJJJPZXCWSWJWSXEXCSZW
      JFJKZWSXFTAJJDFUAABCEFGHIUBZUCUDJUEUFXDXBAWJWRAWJAUGWQAUHUIZWLXDXAXDXAQZX
      DBLZDNZXKFNZPZQZABXDXNAXIXNAUGUJABUKZXAXNXDXPWMXLWTXMWKXKDULWKXKFULUMUNWL
      XDBAUOZXNQZBRZQZXJXQXOQZBRZWLXDXSXAWLWJWRXSXAQZWRWLWJYCWQWLWJYCQZQAWQWLYD
      WQWLWLWJYCWLWJSZXSWQWLXAYEXSWQWLXAYEXSSZWQWLSZSXAWOFWKOZGNZPZYGXAYJTZYFWQ
      WLYKWQWLWPWTYIPZSZYKWQWQWLYLQZSWLYMQWQYNABACEFGHIUPUQWLWPYLURUSWMWOWTYIUT
      VAVBVCYFYJYGYEXSYJWJWLXSYJQZWJWKJVDZYOWLWJYPSXSWNYHPZYJWJXGYPYQXSTBJWKDFV
      EXHVFWNYHGULVGWKVHVIVJVBVKVLVMVNVOVPVQVRVSVTYBXDXRQZBRXTYAYRBXQXDXNWAWBXD
      XRBWCWDWEWFWGWHVIWI $.
      $([18-Aug-94]$)
  $}

  ${
    $d x y A $.  $d x F $.  $d x G $.  $d y H $.
    tz7.44lem1.1 $e |- G = { <. x , y >. | ( ( x = (/) /\ y = A ) \/
            ( -. ( x = (/) \/ Lim dom x ) /\ y = ( H ` ( x ` U. dom x ) ) )
                \/ ( Lim dom x /\ y = U. ran x ) ) } $.

    $( ` G ` is a function.  Lemma for ~tz7.44 . $)
    tz7.44lem1 $p |- Fun G $=
      ( wfun cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab wb funeq
      ax-mp wmo funopab fvex cvv wcel visset rnexg zfun2g syl dmeq limeq
      biimpa dm0 nlim0 mtbir mto moeq3 mpgbir mpbir ) DGZAHZIJZBHZCJKVEVDLZMZNO
      VFVGPVDQZEQZJKVHVFVDRZPZJKSZABTZGZDVNJVCVOUAFDVNUBUCVOVMBUDAVMABUEVEVHBCV
      JVLVIEUFVDUGUHZVLUGUHZAUIVPVKUGUHVQVDUGUJVKUGUKULUCVEVHKILZMZVEVHVSVEVGVR
      JVHVSUAVDIUMVGVRUNULUOVSIMZVRIJVSVTUAUPVRIUNUCUQURUSUTVAVB $.
      $([23-Apr-95]$)
  $}

  ${
    $d x y A $.  $d x F $.  $d x G $.  $d y H $.
    tz7.44.1 $e |- G = { <. x , y >. | ( ( x = (/) /\ y = A ) \/
            ( -. ( x = (/) \/ Lim dom x ) /\ y = ( H ` ( x ` U. dom x ) ) )
                \/ ( Lim dom x /\ y = U. ran x ) ) } $.
    tz7.44.2 $e |- F Fn On $.
    tz7.44.3 $e |- ( x e. On -> ( F ` x ) = ( G ` ( F |` x ) ) ) $.
    ${
      tz7.44.4 $e |- A e. V $.
      $( The value of ` F ` at ` (/) `.  Part 1 of Theorem 7.44 of Takeuti and
         Zaring, p. 49. $)
      tz7.44-1 $p |- ( F ` (/) ) = A $=
        ( c0 cfv cres con wcel wceq 0elon cv fveq2 reseq2 fveq2d cleq12d
        vtoclga ax-mp res0 fveq2i wfun cop funopfv tz7.44lem1 wa copab cdm
        wlim wo wn cuni crn w3o 3mix1 ssopab2i sseqtr4 zfnull cleq1 birand
        biland opelopab cleqid pm3.2i mpbir ssii mp2 3eqtr ) KDLZDKMZELZKELZCKN
        OVNVPPZQARZDLZDVSMZELZPVRAKNVSKPZVTVNWBVPVSKDSWCWAVOEVSKDTUAUBIUCUDVOKE
        DUEUFEUGKCUHZEOVQCPKCEJUIABCEFGUJWCBRZCPZUKZABULZEWDWHWGWCVSUMZUNZUOUPW
        EWIUQVSLFLPUKZWJWEVSURUQPUKZUSZABULEWGWMABWGWKWLUTVAGVBWDWHOKKPZCCPZUKZ
        WGWNWFUKWPABKCVCJWCWCWNWFVSKKVDVEWFWFWOWNWECCVDVFVGWNWOKVHCVHVIVJVKVLVM
        $.
        $([23-Apr-95]$)
    $}

    ${
      $d x y B $.  $d y F $.  $d x H $.
      tz7.44.5 $e |- B e. On $.
      $( The value of ` F ` at a successor ordinal.  Part 2 of Theorem 7.44
         of Takeuti and Zaring, p. 49. $)
      tz7.44-2 $p |- ( F ` suc B ) = ( H ` ( F ` B ) ) $=
        ( csuc cfv cres con wcel wceq onsuc cv fveq2 reseq2 fveq2d cleq12d
        vtoclga ax-mp wfun cop fvex funopfv tz7.44lem1 c0 cdm wlim wo wn cuni
        wa copab crn w3o 3mix2 ssopab2i sseqtr4 cvv resfunexg wfn fnfun mp2
        cleq1 wb dmeq limeq syl bi2ord binegd unieq 3syl fveq1 eqtrd cleq2d
        bi2and biland opelopab dm0 syl6eq cin fndm ineq2i dmres wss sseqin1
        onss mpbi 3eqtr4 cleq1i nsuceq0 mtbir mto elisseti nlimsuc pm3.2ni
        onelsuc fvres onunisuc unieqi eqtr4 fveq2i eqtr pm3.2i mpbir ssii ) DLZ
        EMZEXLNZFMZDEMZGMZXLOPZXMXOQZDKRZASZEMZEYANZFMZQXSAXLOYAXLQZYBXMYDXOYAX
        LETYEYCXNFYAXLEUAUBUCJUDUEFUFXNXQUGZFPXOXQQXNXQFXPGUHZUIABCFGHUJYAUKQZY
        AULZUMZUNZUOZBSZYIUPZYAMZGMZQZUQZABURZFYFYSYHYMCQUQZYRYJYMYAUSUPQUQZUTZ
        ABURFYRUVBABYRYTUVAVAVBHVCYFYSPXNUKQZXNULZUMZUNZUOZXQUVDUPZXNMZGMZQZUQZ
        YRUVGYMUVJQZUQUVLABXNXQXREUFZXNVDPEXLOVEXTEOVFZUVNIOEVGUEVHYGYAXNQZYLUV
        GYQUVMUVPYKUVFUVPYHUVCYJUVEYAXNUKVIUVPYIUVDQZYJUVEVJYAXNVKZYIUVDVLVMVNV
        OUVPYPUVJYMUVPYOUVIGUVPYOUVHYAMZUVIUVPUVQYNUVHQYOUVSQUVRYIUVDVPYNUVHYAT
        VQUVHYAXNVRVSUBVTWAYMXQQUVMUVKUVGYMXQUVJVIWBWCUVGUVKUVCUVEUVCUVDUKQZUVC
        UVDUKULUKXNUKVKWDWEUVTXLUKQUVDXLUKXLEULZWFXLOWFZUVDXLUWAOXLUVOUWAOQIOEW
        GUEWHEXLWIXLOWJXLUWBQXLOWKXLXTWLWMWNZWODWPWQWRUVEXLUMZUVDXLQUVEUWDVJUWC
        UVDXLVLUEDDOKWSWTWQXAXPUVIGXPDXNMZUVIDXLPXPUWEQDKXBDXLEXCUEDUVHXNDXLUPU
        VHDKXDUVDXLUWCXEXFXGXHXGXIXJXKVHXH $.
        $([23-Apr-95]$)

      $( The value of ` F ` at a limit ordinal.  Part 3 of Theorem 7.44 of
         Takeuti and Zaring, p. 49.  $)
      tz7.44-3 $p |- ( Lim B -> ( F ` B ) = U. ( F " B ) ) $=
        ( wlim cres cfv cima cuni cop cv cdm crn wceq wa copab wcel wb cin con
        wfn fndm ax-mp ineq2i dmres wss sseqin1 onss mpbi 3eqtr4 limeq biimpr
        df-ima unieqi jctir wfun cvv resfunexg fnfun mp2 zfrep5 zfun2 dmeq syl
        rneq unieqd cleq2d bi2and cleq1 biland opelopab sylibr c0 wo wn w3o
        3mix3 ssopab2i sseqtr4 ssi wi tz7.44lem1 funopfv 3syl fveq2 reseq2
        fveq2d cleq12d vtoclga syl5eq ) DLZEDMZFNZEDOZPZDENZWRWSXBQZARZSZLZBRZX
        ETZPZUAZUBZABUCZUDZXDFUDZWTXBUAZWRWSSZLZXBWSTZPZUAZUBZXNWRXRYAXRWRXQDUA
        XRWRUEDESZUFDUGUFZXQDYCUGDEUGUHZYCUGUAIUGEUIUJUKEDULDUGUMDYDUADUGUNDKUO
        UPUQXQDURUJUSXAXSEDUTVAVBXLXRXHXTUAZUBYBABWSXBDUGUDZEVCZWSVDUDEDUGVEKYE
        YHIUGEVFUJZVGXAYGYHXAVDUDEDUGVHKYIVGVIZXEWSUAZXGXRXKYFYKXFXQUAXGXRUEXEW
        SVJXFXQURVKYKXJXTXHYKXIXSXEWSVLVMVNVOXHXBUAYFYAXRXHXBXTVPVQVRVSXMFXDXMX
        EVTUAZXHCUAUBZYLXGWAWBXHXFPXENGNUAUBZXLWCZABUCFXLYOABXLYMYNWDWEHWFWGFVC
        XOXPWHABCFGHWIWSXBFYJWJUJWKYGXCWTUAZKXEENZEXEMZFNZUAYPADUGXEDUAZYQXCYSW
        TXEDEWLYTYRWSFXEDEWMWNWOJWPUJWQ $.
        $([23-Apr-95]$)
    $}
  $}

  $( Define an operator constant for recursive function generator. $)
  $c rec $.

  $( Extend class notation with recursive function generator. $)
  crfg $a class rec ( A , B ) $.

  ${
    $d x y z f g F $.  $d x y z f g A $.
    $( Define a recursive function generator on ` On ` with
       characteristic function ` F ` and initial value ` A `.  This combines
       functions ` F ` in ~tfr1 and ` G ` in ~tz7.44-1 into one
       definition. $)
    df-rfg $a |- rec ( F , A ) = U. { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = (
                    { <. g , z >. | ( ( g = (/) /\ z = A ) \/
                    ( -. ( g = (/) \/ Lim dom g ) /\
                        z = ( F ` ( g ` U. dom g ) ) )
                    \/ ( Lim dom g /\ z = U. ran g ) ) }
                ` ( f |` y ) ) ) ) ) } $.
  $}

  ${
    $d x y z f g F $.   $d x y z f g G $.  $d x y z f g A $.  $d x y z f g B $.
    $( ` x y z f g ` are dummy. $)

    $( Equality theorem for recursive function generator. $)
    rfgeq1 $p |- ( F = G -> rec ( F , A ) = rec ( G , A ) ) $=
      ( vx vf vy vg vz wceq cv con wcel wfn wel cfv cres c0 wa cdm wlim wo wn
      cuni crn w3o copab wi wal wex cab crfg pm4.2i fveq1 cleq2d biland bi3ord
      biopabdv syl bilimd bialdv biexdv biabdv unieqd df-rfg 3eqtr4g ) BCIZDJZK
      LZEJZVGMZFDNZFJZVIOZVIVLPZGJZQIZHJZAIRZVPVOSZTZUAUBZVQVSUCVOOZBOZIZRZVTVQ
      VOUDUCIRZUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCVHVJVKVMVNVRWAVQWBCOZIZRZWFUEZG
      HUFZOZIZUGZFUHZRZRZDUIZEUJZUCBAUKCAUKVFWPXIVFWOXHEVFWNXGDVFWMXFVHVFWLXEVJ
      VFWKXDFVFWJXCVKVFWIXBVMVFWHXAIWIXBIVFWGWTGHVFVRVRWEWSWFWFVFVRULVFWDWRWAVF
      WCWQVQWBBCUMUNUOVFWFULUPUQVNWHXAUMURUNUSUTUOUOVAVBVCDFHAEGBVDDFHAEGCVDVE
      $.
      $([9-Apr-95]$)


    $( Equality theorem for recursive function generator. $)
    rfgeq2 $p |- ( A = B -> rec ( F , A ) = rec ( F , B ) ) $=
      ( vx vf vy vg vz wceq cv con wcel wfn wel cfv cres c0 wa cdm wlim wo wn
      cuni crn w3o copab wi wal wex cab crfg cleq2 biland pm4.2i bi3ord
      biopabdv fveq1 syl cleq2d bilimd bialdv biexdv biabdv unieqd df-rfg
      3eqtr4g ) ABIZDJZKLZEJZVHMZFDNZFJZVJOZVJVMPZGJZQIZHJZAIZRZVQVPSZTZUAUBVRW
      AUCVPOCOIRZWBVRVPUDUCIRZUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCVIVKVLVNVOVQVRBI
      ZRZWCWDUEZGHUFZOZIZUGZFUHZRZRZDUIZEUJZUCCAUKCBUKVGWNXFVGWMXEEVGWLXDDVGWKX
      CVIVGWJXBVKVGWIXAFVGWHWTVLVGWGWSVNVGWFWRIWGWSIVGWEWQGHVGVTWPWCWCWDWDVGVSW
      OVQABVRULUMVGWCUNVGWDUNUOUPVOWFWRUQURUSUTVAUMUMVBVCVDDFHAEGCVEDFHBEGCVEVF
      $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y f g $.  $d x y z g $.  $d f g G $.  $d x z G $.
    $d y z w g G $.

    $( Lemma for recursive function generator.  Changes bound variables. $)
    rfglem1 $p |- { f | E. x ( x e. On /\ ( f Fn x /\
                A. y ( y e. x -> ( f ` y ) = ( G ` ( f |` y ) ) ) ) ) }
                = { g | E. z ( z e. On /\ ( g Fn z /\
                A. w ( w e. z -> ( g ` w ) = ( G ` ( g |` w ) ) ) ) ) } $=
      ( cv con wcel wfn wel cfv cres wceq wi wal wa wex cab cleqid tfrlem3 weq
      a13b fveq2 reseq2 fveq2d cleq12d bi2imd cbvalv bilan biex biab eqtr ) AHZ
      IJEHZUOKBALBHZUPMUPUQNGMOPBQRRASETZCHZIJZFHZUSKZBCLZUQVAMZVAUQNZGMZOZPZBQ
      ZRZRZCSZFTUTVBDCLZDHZVAMZVAVNNZGMZOZPZDQZRZRZCSZFTABCUREFGURUAUBVLWCFVKWB
      CVJWAUTVIVTVBVHVSBDBDUCZVCVMVGVRBDCUDWDVDVOVFVQUQVNVAUEWDVEVPGUQVNVAUFUGU
      HUIUJUKUKULUMUN $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y z w $.  $d x z w A $.  $d x z w H $.  $( ` w ` is dummy. $)
    $( Lemma for recursive function generator.  Changes bound variables. $)
    rfglem2 $p |- { <. x , y >. | ( ( x = (/) /\ y = A ) \/
            ( -. ( x = (/) \/ Lim dom x ) /\ y = ( H ` ( x ` U. dom x ) ) )
                \/ ( Lim dom x /\ y = U. ran x ) ) }
                = { <. z , y >. | ( ( z = (/) /\ y = A ) \/
            ( -. ( z = (/) \/ Lim dom z ) /\ y = ( H ` ( z ` U. dom z ) ) )
                \/ ( Lim dom z /\ y = U. ran z ) ) } $=
      ( vw cv cop wceq c0 wa cdm wlim wo wn cuni cfv crn w3o wex cab copab weq
      opeq1 cleq2d cleq1 birand wb dmeq limeq syl bi2ord binegd unieq fveq2
      3syl fveq1 eqtrd fveq2d bi2and rneq unieqd bi3ord biexdv cbvexv biab
      df-opab 3eqtr4 ) FGZAGZBGZHZIZVJJIZVKDIZKZVNVJLZMZNZOZVKVQPZVJQZEQZIZKZVR
      VKVJRZPZIZKZSZKZBTZATZFUAVICGZVKHZIZWNJIZVOKZWQWNLZMZNZOZVKWSPZWNQZEQZIZK
      ZWTVKWNRZPZIZKZSZKZBTZCTZFUAWJABUBXLCBUBWMXOFWLXNACACUCZWKXMBXPVMWPWJXLXP
      VLWOVIVJWNVKUDUEXPVPWRWEXGWIXKXPVNWQVOVJWNJUFZUGXPVTXBWDXFXPVSXAXPVNWQVRW
      TXQXPVQWSIZVRWTUHVJWNUIZVQWSUJUKZULUMXPWCXEVKXPWBXDEXPWBXCVJQZXDXPXRWAXCI
      WBYAIXSVQWSUNWAXCVJUOUPXCVJWNUQURUSUEUTXPVRWTWHXJXTXPWGXIVKXPWFXHVJWNVAVB
      UEUTVCUTVDVEVFWJABFVGXLCBFVGVH $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y z f g u v w F $.  $d x y z f g u v w A $.
    $( ` x y z f g u v w ` are dummy. $)
    $( A recursive function generator is a function on ordinals. $)
    rfgfnon $p |- rec ( F , A ) Fn On $=
      ( vx vy vu vw vv vg vz vf cv con wcel wfn wel cfv cres c0 wceq wa cdm
      wlim wo wn cuni crn w3o copab wi wal wex cab crfg rfglem1 df-rfg tfr1 )
      CDEKZLMFKZUQNGEOGKZURPURUSQHKZRSZIKZASTVAUTUAZUBZUCUDVBVCUEUTPBPSTVDVBUTU
      FUESTUGHIUHZPSUIGUJTTEUKFULJBAUMVEEGCDFJVEUNEGIAFHBUOUP $.
      $([9-Apr-95]$)
  $}

  ${
    $d x y z f g u v w F $.  $d x y z f g u v w A $.
    $( ` x y f u v ` are dummy. $)
    $( Value of a recursive function generator. $)
    rfgval $p |- ( g e. On -> ( rec ( F , A ) ` g ) = (
                       { <. w , z >. | ( ( w = (/) /\ z = A ) \/
                       ( -. ( w = (/) \/ Lim dom w ) /\
                               z = ( F ` ( w ` U. dom w ) ) )
                       \/ ( Lim dom w /\ z = U. ran w ) ) }
                   ` ( rec ( F , A ) |` g ) ) ) $=
      ( vx vy vu vv vf cv con wcel crfg cfv cres c0 wceq wa cdm wlim wo wn
      cuni crn w3o copab wfn wel wi wal wex cab rfglem1 df-rfg tfr2 rfglem2
      fveq1 ax-mp syl6eq ) DKZLMVAECNZOVBVAPZVAQRZAKZCRZSVDVATZUAZUBUCVEVGUDVAO
      EORSVHVEVAUEUDRSUFDAUGZOZVCBKZQRZVFSVLVKTZUAZUBUCVEVMUDVKOEORSVNVEVKUEUDR
      SUFBAUGZOZFGDHKZLMVKVQUHIHUIIKZVKOVKVRPVIORUJIUKSSHULBUMJVBVIHIFGBJVIUNHI
      ACBDEUOUPVIVORVJVPRDABCEUQVCVIVOURUSUT $.
      $([9-Apr-95]$)
  $}

  ${
    $d z g w F $.  $d z g w A $.
    $( ` z g w ` are dummy. $)

    ${
      rfg.1 $e |- A e. V $.

      $( The initial value of a recursive function generator. $)
      rfgzer $p |- ( rec ( F , A ) ` (/) ) = A $=
        ( vg vz vw crfg cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab
        rfglem2 rfgfnon rfgval tz7.44-1 ) DEABAGFHZIJZEHZAJKUFUELZMZNOUGUHPUEQB
        QJKUIUGUERPJKSFETBFEDABUAABUBEFADBUCCUD $.
        $([23-Apr-95]$)
    $}

    ${
      $d z g B $.  $( ` z g ` are dummy. $)
      rfg.2 $e |- B e. On $.

      $( The value of a recursive function generator at a successor. $)
      rfgsuc $p |- ( rec ( F , A ) ` suc B ) = ( F ` ( rec ( F , A ) ` B ) ) $=
        ( vg vz vw crfg cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab
        rfglem2 rfgfnon rfgval tz7.44-2 ) EFABCAHGIZJKZFIZAKLUGUFMZNZOPUHUIQUFR
        CRKLUJUHUFSQKLTGFUACGFEACUBACUCFGAECUDDUE $.
        $([23-Apr-95]$)

      $( The value of a recursive function generator at a limit ordinal. $)
      rfglim $p |- ( Lim B ->
                   ( rec ( F , A ) ` B ) = U. ( rec ( F , A ) " B ) ) $=
        ( vg vz vw crfg cv c0 wceq wa cdm wlim wo wn cuni cfv crn w3o copab
        rfglem2 rfgfnon rfgval tz7.44-3 ) EFABCAHGIZJKZFIZAKLUGUFMZNZOPUHUIQUFR
        CRKLUJUHUFSQKLTGFUACGFEACUBACUCFGAECUDDUE $.
        $([23-Apr-95]$)
    $}
  $}

  ${
    $d x A $.  $d x F $.  $( ` x ` is dummy. $)

    $( The initial value of a recursive function generator. $)
    rfgzert $p |- ( A e. C -> ( rec ( F , A ) ` (/) ) = A ) $=
      ( vx c0 cv crfg cfv wceq rfgeq2 fveq1 syl id cleq12d visset rfgzer
      vtoclg ) ECDFZGZHZRIECAGZHZAIDABRAIZTUBRAUCSUAITUBIRACJESUAKLUCMNRCDOPQ
      $.
      $([25-Apr-95]$)
  $}

  $( The value of a recursive function generator at a successor. $)
  rfgsuct $p |- ( B e. On ->
               ( rec ( F , A ) ` suc B ) = ( F ` ( rec ( F , A ) ` B ) ) ) $=
    ( con wcel csuc crfg cfv wceq c0 cded suceq fveq2d fveq2 cleq12d 0elon
    elimel rfgsuc dedth ) BDEZBFZCAGZHZBUBHZCHZITBJKZFZUBHZUFUBHZCHZIBJBUFIZUCU
    HUEUJUKUAUGUBBUFLMUKUDUICBUFUBNMOAUFCBJDPQRS $.
    $([23-Apr-95]$)

  $( The value of a recursive function generator at a limit ordinal. $)
  rfglimt $p |- ( ( B e. C /\ Lim B ) ->
                 ( rec ( F , A ) ` B ) = U. ( rec ( F , A ) " B ) ) $=
    ( wcel wlim crfg cfv cima cuni wceq con wi limelon c0 cded limeq fveq2
    imaeq2 unieqd cleq12d bi2imd 0elon elimel rfglim dedth syl6 pm2.43d imp )
    BCEZBFZBDAGZHZULBIZJZKZUJUKUPUJUKBLEZUKUPMZBCNUQURUQBOPZFZUSULHZULUSIZJZKZM
    BOBUSKZUKUTUPVDBUSQVEUMVAUOVCBUSULRVEUNVBBUSULSTUAUBAUSDBOLUCUDUEUFUGUHUI
    $.
    $([23-Apr-95]$)

  ${
    $d x y A $.  $d x y B $.  $d x y F $.
    $( The value of a recursive function generator at a limit ordinal,
       in terms of the union of all smaller values. $)
    rfglim2 $p |- ( ( B e. C /\ Lim B ) -> ( rec ( F , A ) ` B ) =
                  U. { y | E. x e. B y = ( rec ( F , A ) ` x ) } ) $=
      ( wcel wlim wa crfg cfv cima cuni cv wceq wrex cab rfglimt cop wex con
      wb word wi limord tz7.6 exp visset elon syl6ibr syl wfn fnfvop rfgfnon
      mpan cleqcom syl5bb syl6 pm5.32d biexdv df-rex syl5rbb biabdv dfima2
      syl5eq unieqd adantl eqtrd ) DEGZDHZIDFCJZKVKDLZMZBNZANZVKKZOZADPZBQZMZCD
      EFRVJVMVTOVIVJVLVSVJVODGZVOVNSVKGZIZATZBQVSVLVJWDVRBVJWAVQIZATWDVRVJWEWCA
      VJWAVQWBVJWAVOUAGZVQWBUBVJDUCZWAWFUDDUEWGWAVOUCZWFWGWAWHDVOUFUGVOAUHUIUJU
      KWFVPVNOZWBVQVKUAULWFWIWBUBUAVOVNVKBUHUMCFUNUOVNVPUPUQURUSUTVQADVAVBVCABV
      KDVDVEVFVGVH $.
      $([23-Apr-95]$)

    $( The value of a recursive function generator at a limit ordinal,
       in terms of indexed union of all smaller values. $)
    rfglim2a $p |- ( ( B e. C /\ Lim B ) -> ( rec ( F , A ) ` B ) =
                  U. x e. B ( rec ( F , A ) ` x ) ) $=
      ( vy wcel wlim wa crfg cfv cv wceq wrex cab cuni ciun rfglim2 fvex
      dfiun2 syl6eqr ) CDGCHICEBJZKFLALZUBKZMACNFOPACUDQAFBCDERAFCUDUCUBSTUA $.
      $([28-Jun-98]$)
  $}

  $( We use the next 3 theorems for finite recursion.  Note that we take
     advantage of what we have done for transfinite recursion, which allows
     us to explicitly specify the function and moreover not require the
     existence of omega. $)

  $( The function generated by finite recursion is a function on omega. $)
  frfnom $p |- ( rec ( F , A ) |` om ) Fn om $=
    ( crfg com cres wfn wfun cdm wceq wa df-fn con rfgfnon fnfun ax-mp funres
    cin wss sseqin1 omsson mpbi fndm ineq2i eqtr4 cleq2i dmres mpbir pm3.2i )
    BACZDEZDFUJGZUJHZDIZJUJDKUKUMUIGZUKUILFZUNABMZLUINODUIPOUMULDUIHZQZIDURULDD
    LQZURDLRDUSIDLSTUAUQLDUOUQLIUPLUIUBOUCUDUEUIDUFUGUHUG $.
    $([15-Oct-96]$)

  $( The initial value for finite recursion. $)
  frzer $p |- ( A e. B -> ( ( rec ( F , A ) |` om ) ` (/) ) = A ) $=
    ( wcel c0 crfg cfv com cres rfgzert wceq peano1 fvres ax-mp syl5eqr ) ABDEC
    AFZGZAEPHIGZABCJEHDQRKLEHPMNO $.
    $([15-Oct-96]$)

  $( The successor value for finite recursion. $)
  frsuc $p |- ( B e. om -> ( ( rec ( F , A ) |` om ) ` suc B ) =
              ( F ` ( ( rec ( F , A ) |` om ) ` B ) ) ) $=
    ( com wcel csuc crfg cfv cres con wceq nnont rfgsuct syl peano2b fvres
    sylbi fveq2d 3eqtr3d ) BDEZBFZCAGZHZBUBHZCHZUAUBDIZHZBUFHZCHTBJEUCUEKBLABCM
    NTUADEUCUGKBOUADUBPQTUDUHCBDUBPRS $.
    $([15-Oct-96]$)

  ${
    $d x y z w F $.  $d x y z w A $.  $( ` z w ` are dummy. $)
    tz7.48.1 $e |- F Fn On $.
    $( A way of showing an ordinal function is one-to-one. $)
    tz7.48lem $p |- ( ( A (_ On /\ A. x e. A A. y e. x
                    -. ( F ` x ) = ( F ` y ) ) -> Fun `' ( F |` A ) ) $=
      ( vw vz con wss cv cfv wceq wn wral wa cres weq wi ccnv wfun wel wcel
      wal wb fvres cleqan12d adantr adantl ssel im2and wo pm3.48 orabs cleqcom
      bineg biror bitr syl6ibr pm2.03d word ordtri2 biimprd eloni syl2an syl9r
      syl6 imp32 sylbird exp32 a2d 19.20dv r2al 3imtr4g pm3.26 imran syl4
      exp3a 19.20i 3imtr4 eleq1 fveq2 cleq2d binegd bi2imd rcbvalv biral eleq2
      cleq1d biraldv 3bitr ralcom sylbi ancri r19.26 sylibr syl syl5 imdistani
      wfn cvv wf wf1 f1fv df-f1 bitr3 pm3.27bd fnf sylanb ssfnres mpi sylan )
      CHIZAJZDKZBJZDKZLZMZBXMNACNZOXLXMDCPZKZXOXTKZLZABQZRZBCNACNZOXTSTZXLXSYFX
      LABUAZXPXNLZMZRZBAUAZXRRZOZBCNZACNZYFXSXLXMCUBZXOCUBZOZYNRZBUCZAUCYSYERZB
      UCZAUCYPYFXLUVAUVCAXLYTUVBBXLYSYNYEXLYSYNYEXLYSYNOZOYCXQYDUVDXQYCUDZXLYSU
      VEYNYQYRXNYAXPYBXMCDUEXOCDUEUFUGUHXLYSYNXQYDRZXLYSXMHUBZXOHUBZOZYNUVFRXLY
      QUVGYRUVHCHXMUICHXOUIUJYNXQYHYLUKZMZUVIYDYNUVJXQYNUVJYJXRUKZXRYHYJYLXRULX
      RXRXRUKUVLXRUMXRYJXRXQYIXNXPUNUOUPUQURUSXMUTZXOUTZUVKYDRUVGUVHUVMUVNOYDUV
      KXMXOVAVBXMVCXOVCVDVEVFVGVHVIVJVKVKYNABCCVLYEABCCVLVMXSYMBCNZACNZYPYQYLOZ
      XRRZBUCZAUCYSYMRZBUCZAUCXSUVPUVSUWAAUVRUVTBUVRYSYLXRYSYLOUVQXRYSYQYLYQYRV
      NVOVPVQVRVRXRABCXMVLYMABCCVLVSUVPYKBCNZACNZUVPOZYPUVPUWCUVPYKACNZBCNZUWCU
      VPFAUAZXNFJZDKZLZMZRZFCNZACNFGUAZGJZDKZUWILZMZRZFCNZGCNZUWFUVOUWMACYMUWLB
      FCBFQZYLUWGXRUWKXOUWHXMVTUXBXQUWJUXBXPUWIXNXOUWHDWAWBWCWDWEWFUWMUWTAGCAGQ
      ZUWLUWSFCUXCUWGUWNUWKUWRXMUWOUWHWGUXCUWJUWQUXCXNUWPUWIXMUWODWAWHWCWDWIWEU
      XAAGUAZUWPXNLZMZRZACNZGCNUWFUWTUXHGCUWSUXGFACFAQZUWNUXDUWRUXFUWHXMUWOVTUX
      IUWQUXEUXIUWIXNUWPUWHXMDWAWBWCWDWEWFUXHUWEGBCGBQZUXGYKACUXJUXDYHUXFYJUWOX
      OXMWGUXJUXEYIUXJUWPXPXNUWOXODWAWHWCWDWIWEUQWJYKBACWKWLWMYPUWBUVOOZACNUWDY
      OUXKACYKYMBCWNWFUWBUVOACWNUQWOWPWQWRXTCWSZYFYGXLCWTXTXAZYFYGUXLUXMYFOZUXM
      YGUXNCWTXTXBUXMYGOABCWTXTXCCWTXTXDXEXFCXTXGXHXLDHWSUXLCHDXIEXJXKWP $.
      $([9-Feb-97]$)

    $( Proposition 7.48(1) of Takeuti and Zaring, p. 51. $)
    tz7.48-1 $p |- ( A. x e. On ( F ` x ) e. ( A \ ( F " x ) ) ->
                   ran F (_ A ) $=
      ( vy cv cfv cima cdif wcel con wral crn wceq wa wex hbra1 ax-17 wi ra4
      syl2 eleq1 eldifi syl5bi comm mpi imp3a syl 19.23ad cop visset elrn cdm
      opeldm wfn fndm ax-mp eleq2i sylib ancri wb fnfvop mpan pm5.32i sylibr
      19.22i sylbi syl5 ssrdv ) AFZCGZBCVJHZIJZAKLZECMZBVNVJKJZVKEFZNZOZAPZVQBJ
      ZVQVOJZVNVSWAAVMAKQWAARVNVPVMSZVSWASVMAKTWCVPVRWAWCVMVRWASZSVPWDSVPVMWDUA
      VRVMWAVRVKBJWAVMVKVQBUBVKBVLUCUDUEUFUGUHUIWBVJVQUJCJZAPVTAVQCEUKZULWEVSAW
      EVPWEOVSWEVPWEVJCUMZJVPVJVQCAUKUNWGKVJCKUOZWGKNDKCUPUQURUSUTVPVRWEWHVPVRW
      EVAKVJVQCWFVBDVCVDVEVFVGVHVI $.
      $([9-Feb-97]$)

    $( Proposition 7.48(2) of Takeuti and Zaring, p. 51. $)
    tz7.48-2 $p |- ( A. x e. On ( F ` x ) e. ( A \ ( F " x ) ) -> Fun `' F ) $=
      ( vy cv cfv cima cdif wcel con wral cres ccnv wfun wceq wn wa wel wi
      pm3.26 ontrt jca cdm crn wb fvres eleq1d df-ima eleq2i syl5bb adantr cin
      dmres elin bitr fvrn wfn fnfun ax-mp funres mpan sylbir mpbird eleq1a
      pm2.16d eldifn syl5 syl fndm sylan5br exp imp3a r19.21aiv r19.20ia wss
      tz7.48lem ssid wrel relssres fnrel sseq1i mpbir mp2an cnveq funeq sylibr
      ) AFZCGZBCWHHZIJZAKLZCKMZNZOZCNZOZWLWIEFZCGZPZQZEWHLZAKLZWOWKXBAKWHKJZWKX
      BXDWKRXAEWHEASZXDWKXAXEXDWKXATZXEXDRZXEWRKJZRXFXGXEXHXEXDUAWRWHUBUCXEWRCU
      DZJZXFXHXEXJRZWSWJJZXFXKXLWRCWHMZGZXMUEZJZXEXLXPUFXJXEWSXOJXPXLXEWSXNXOWR
      WHCUGUHWJXOWSCWHUIUJUKULXKWRXMUDZJZXPXRWRWHXIUMZJXKXQXSWRCWHUNUJWRWHXIUOU
      PXMOZXRXPWRXMUQCOZXTCKURZYADKCUSUTWHCVAUTVBVCVDXLWIWJJZQXAWKXLWTYCWSWJWIV
      EVFWIBWJVGVHVIXIKWRYBXIKPDKCVJUTZUJVKVIVLVMVNVLVOKKVPZXCWOAEKCDVQKVRZVBVI
      WPWNPZWQWOUFCWMPZYGCVSZXIKVPZYHCKVTYBYIDKCWAUTYJYEXIKKYDWBYFWCWDCWMWEUTWP
      WNWFUTWG $.
      $([9-Feb-97]$)

    $( Proposition 7.48(3) of Takeuti and Zaring, p. 51. $)
    tz7.48-3 $p |- ( A. x e. On ( F ` x ) e. ( A \ ( F " x ) ) -> -. A e. V ) $=
      ( cv cfv cima cdif wcel con wral cvv crn wss wi tz7.48-1 ssexg comm syl
      cdm ccnv wfun tz7.48-2 funrnex df-rn eleq1i dfdm4 3imtr4g wfn wceq fndm
      ax-mp tz7.13 mtbir mtoi mtod ) AEZCFBCUQGHIAJKZBLIZCMZLIZURUTBNZUSVAOABCD
      PUSVBVAUTBLQRSURVACTZLIZURCUAZUBZVAVDOABCDUCVFVETZLIZVEMZLIZVAVDVHVFVJLVE
      UDRUTVGLCUEUFVCVILCUGUFUHSVDJLIVCJLCJUIVCJUJDJCUKULUFUMUNUOUP $.
      $([9-Feb-97]$)

    ${
      tz7.49.2 $e |- A e. V $.
      $( Proposition 7.49 of Takeuti and Zaring, p. 51. $)
      tz7.49 $p |- ( A. x e. On ( -. ( A \ ( F " x ) ) = (/) ->
                   ( F ` x ) e. ( A \ ( F " x ) ) ) ->
                   E. x e. On ( A. y e. x -. ( A \ ( F " y ) ) = (/) /\
                   ( F " x ) = A /\ Fun `' ( F |` x ) ) ) $=
        ( vz cv cima cdif c0 wceq wn cfv wcel wi con wral wa wrex cres ccnv
        wfun w3a wex hbra1 pm3.27 adantr wss wel ax-17 hban weq imaeq2 difeq2
        syl cleq1d binegd fveq2 eleq12d bi2imd rcla4v eleq1 eldifi syl5bi comm
        syl8 ontrt syl5 ra4 imp syl7 com23 exp4a exp3a pm2.43d com34 imp3a
        19.23ad fvelima wfn fnfun ax-mp mpan ssrdv ssdif0 biimpr im2an eqss
        sylibr wal ssel cdm onsst fndm sseq2i funfvima eldifn im2and eleq1a
        pm2.16d syl6 exp4d com24 imp4a com3r 19.21adv 19.21ad r2al syl6ibr
        ancld tz7.48lem ancoms 3jca exp41 imdistan 19.22d df-rex 3imtr4g
        r19.20 cvv tz7.48-3 mt2 mtoi dfrex2 onminex mpd ) CDAHZIZJZKLZMZYHDNZYJ
        OZPZAQRZYKCDBHZIZJZKLZMZBYHRZSZAQTZUVBYICLZDYHUAUBUCZUDZAQTZYPYHQOZUVCS
        ZAUEUVIUVGSZAUEUVDUVHYPUVJUVKAYOAQUFYPUVIUVCUVGPPUVJUVKPYPUVIYKUVBUVGYP
        UVIUVBYKUVGYPUVBUVIYKUVGPYPUVBUVIYKUVGYPUVBSZUVISZYKSZUVBUVEUVFUVMUVBYK
        UVLUVBUVIYPUVBUGUHUHUVNYICUIZCYIUIZSUVEUVMUVOYKUVPUVMGYICUVLUVIGHZYIOZU
        VQCOZPUVLUVRUVIUVSUVLBAUJZYQDNZUVQLZSZBUEZUVIUVSPZUVRUVLUWCUWEBYPUVBBYP
        BUKZUVABYHUFZULUWEBUKUVLUVTUWBUWEUVLUVTUVIUWBUVSUVLUVTUVIUWBUVSPZPZYPUV
        BUVTUVTUWIPZPYPUVBUVTUWJYPUVBUVTSZUVTUVIUWHYPUVTUVISZUWKUWHYPUWLUVAUWHU
        WKYPYQQOZUVAUWHPUWLYPUWMUVAUWAYSOZUWHYOUVAUWNPAYQQABUMZYLUVAYNUWNUWOYKY
        TUWOYJYSKUWOYIYRLYJYSLYHYQDUNYIYRCUOUPZUQZURUWOYMUWAYJYSYHYQDUSUWPUTVAV
        BZUWBUWNUVSUWBUWACOUVSUWNUWAUVQCVCUWACYRVDVEVFVGYQYHVHVIUVBUVTUVAUVABYH
        VJVKZVLVMVNVOVKVPVQVRVSDUCZUVRUWDBUVQYHDVTDQWAZUWTEQDWBWCZWDVIVMVKWEUVP
        YKCYIWFWGWHYICWIWJUVMUVFYKUVLUVIUVFUVBYPUVIUVFPUVBYPSZYHQUIZUVFUVIUXCUX
        DUXDUWAUVQDNZLZMZGYQRBYHRZSUVFUXCUXDUXHUXCUXDUVTGBUJZSUXGPZGWKZBWKUXHUX
        CUXDUXKBUVBYPBUWGUWFULUXDBUKUXCUXDUXJGUXCUXDUVTUXIUXGUXDUVTUXCUXIUXGPZU
        XDUVTUVBYPUXLUXDUVTUVBYPUXLPZPUXDUVTUVBUVTUXMUXDUVTUVBUVTUXMUXDUVTUWMUW
        KUXMPYHQYQWLUWMUXIYPUWKUXGUWMUXIYPUWKUXGUWMUXIYPUWKSZSUXEYROZUWAYROZMZS
        UXGUWMUXIUXOUXNUXQUWMYQDWMZUIZUXIUXOPZUWMYQQUIUXSYQWNUXRQYQUXAUXRQLEQDW
        OWCWPWJUWTUXSUXTYQUVQDWQUXBWDUPUWMYPUWKUXQYPUWMUWKUXQPYPUWMUVAUXQUWKYPU
        WMUVAUWNUXQUWRUWACYRWRVGUWSVLVFVRWSUXOUXQUXGUXOUXFUXPUXEYRUWAWTXAVKXBXC
        XDXBVNVQVPXEXFXEXGXHUXGBGYHYQXIXJXKBGYHDEXLXBYHWNVIXMVKUHXNXOVMVQXEUVIU
        VCUVGXPUPXQUVCAQXRUVGAQXRXSYPYKAQTZUVDYPYLAQRZMUYAYPUYBYNAQRZYLYNAQXTUY
        CCYAOACDEYBFYCYDYKAQYEWJYKYTABUWQYFUPYG $.
        $([10-Feb-97]$)

      $( Corollary of Proposition 7.49 of Takeuti and Zaring, p. 51. $)
      tz7.49c $p |- ( A. x e. On ( -. ( A \ ( F " x ) ) = (/) ->
                   ( F ` x ) e. ( A \ ( F " x ) ) ) ->
                   E. x e. On ( F |` x ) : x -1-1-onto-> A ) $=
        ( vy cv cima cdif c0 wceq wn cfv wcel wi con wral cres ccnv wfun w3a
        wrex wf1o tz7.49 wa wfn crn wss onsst ssfnres mpi syl df-ima cleq1i
        biimp im2an imran f1o2 df-3an an1r 3bitr sylibr exp31 imp3a 3simpc
        syl5 r19.22ia ) BCAGZHZIZJKLVHCMVJNOAPQBCFGHIJKLFVHQZVIBKZCVHRZSTZUAZAP
        UBVHBVMUCZAPUBAFBCDEUDVOVPAPVHPNZVLVNUEVPVOVQVLVNVPVQVLVNVPVQVLUEZVNUEV
        MVHUFZVMUGZBKZUEZVNUEZVPVRWBVNVQVSVLWAVQVHPUHZVSVHUIWDCPUFVSVHPCUJDUKUL
        VLWAVIVTBCVHUMUNUOUPUQVPVSVNWAUAVSVNUEWAUEWCVHBVMURVSVNWAUSVSVNWAUTVAVB
        VCVDVKVLVNVEVFVGUL $.
        $([10-Feb-97]$)
    $}
  $}



$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
       Grammars, Logics, Machines and Automata
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c Kleene $.

  $( Extend class notation with the Kleene star. $)
  ckln $a class Kleene $.

  $c Words $.

  $( Extend class notation with the class of words of a given size. $)
  cwrd $a class Words $.

  ${
    $d x y $.
    $( The words of size ` y ` over an alphabet ` x ` are the finite sequences
       over ` x ` of size ` y ` .  Their domains are fiercely set to
       ` ( 1 ... y ) ` so that I can concatenate them easily.  The case
       ` y = 0 ` is a bit tricky and corresponds to the unique empty word
       (often denoted by an epsilon or by ` 1 ` in textbooks.)
       Experimental. $)
    df-words $a |- Words = ( x e. _V , y e. NN0 |-> ( x ^m ( 1 ... y ) ) ) $.
  $}

  ${
    $d x y A $.  $d y N $.
    $( The words over a set ` A ` .  (Contributed by FL, 14-Jan-2014.) $)
    isword $p |- ( ( A e. B /\ N e. NN0 )
      -> ( A Words N ) = ( A ^m ( 1 ... N ) ) ) $=
      ( vx vy wcel cn0 wa cvv c1 cfz co cmap cwrd elisset adantr simpr oprex cv
      wceq a1i opreq1 opreq2 opreq2d df-words ovmpt2g syl111anc ) ABFZCGFZHZAIF
      ZUIAJCKLZMLZIFZACNLUMTUHUKUIABOPUHUIQUNUJAULMRUADEACIGDSZJESZKLZMLUMNAUQM
      LIUOAUQMUBUPCTUQULAMUPCJKUCUDDEUEUFUG $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d x a u $.
    $( The Kleene star of an alphabet ` x ` is the set of all the finite
       sequences of elements of this alphabet.  Experimental. $)
    df-kle $a |- Kleene = ( x e. _V |->
      U_ u e. NN0 ( x ^m ( 1 ... u ) ) ) $.
  $}

  ${
    $d x u A $.
    $( The predicate is the Kleene star of a set ` A ` .  An element of
       ` ( Kleene `` A ) ` is called a word.  (Contributed by FL,
       14-Jan-2014.) $)
    isKleene $p |- ( A e. B
    -> ( Kleene ` A ) = U_ u e. NN0 ( A ^m ( 1 ... u ) ) ) $=
      ( vx wcel cvv cn0 c1 cv cfz co cmap ciun ckln cfv wceq elisset wral nn0ex
      a1i oprex iunexg sylancr opreq1 adantr ralrimiva iuneq2 syl df-kle fvmptg
      rgen syl11anc ) BCEZBFEAGBHAIZJKZLKZMZFEZBNOUQPBCQUMGFEUPFEZAGRZURSUTUMUS
      AGUSUNGEZBUOLUATUKTAGUPFFUBUCDBAGDIZUOLKZMZUQFFNVBBPZVCUPPZAGRVDUQPVEVFAG
      VEVFVAVBBUOLUDUEUFAGVCUPUGUHDAUIUJUL $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d n A $.
    $( Symbols and variables belong to the Kleene star of ` NN ` .
       (Contributed by FL, 2-Feb-2014.) $)
    1iskle $p |- ( A e. NN -> { <. 1 , A >. } e. ( Kleene ` NN ) ) $=
      ( vn cn wcel c1 cop csn cn0 cv cfz co cmap wceq ax-mp a1i mpbird cvv nnex
      wf sylancr ciun ckln cfv wrex 1nn0 wss wf1o 1nn f1osng mpan syl snssi fss
      f1of syl11anc cz 1z fzsn feq2d oprex elmapg opreq2 opreq2d eleq2d rcla4ev
      wb eliun sylibr isKleene syl6eleqr ) ACDZEAFGZBHCEBIZJKZLKZUAZCUBUCZVKVLV
      ODZBHUDZVLVPDVKEHDVLCEEJKZLKZDZVSUEVKWBVTCVLSZVKWCEGZCVLSZVKWDAGZVLSZWFCU
      FWEVKWDWFVLUGZWGECDVKWHUHEACCUIUJWDWFVLUNUKACULWDWFCVLUMUOVKVTWDCVLVTWDMZ
      VKEUPDWIUQEURNOUSPVKCQDZVTQDZWBWCVFRWKVKEEJUTOCVTVLQQVATPVRWBBEHVMEMZVOWA
      VLWLVNVTCLVMEEJVBVCVDVETBVLHVOVGVHWJVQVPMRBCQVINVJ $.
      $( [2-Feb-2014] $)
  $}

  ${
    $d x C $.
    selsubf.1 $e |- A e. _V $.
    selsubf.2 $e |- C e. _V $.
    $( A way of selecting a subset of functions so that their values belong to
       ` B ` .  (Contributed by FL, 14-Jan-2014.) $)
    selsubf $p |- ( ( A ^m C ) i^i ~P ( C X. B ) ) = ( ( A i^i B ) ^m C ) $=
      ( vx cxp cpw cv wfn cab cin cmap co in32 xpindi pweqi pwin ineq1i mapval2
      eqtr2i eqtri inex1 3eqtr4i ) CAGZHZFICJFKZLZCBGZHZLZCABLZGZHZUGLZACMNZUJL
      ULCMNUKUFUJLZUGLUOUFUGUJOUQUNUGUNUEUILZHUQUMURCABPQUEUIRUASUBUPUHUJACFDET
      SULCFABDUCETUD $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d f C $.
    selsubf3.1 $e |- A e. _V $.
    selsubf3.2 $e |- C e. _V $.
    $( A way of selecting a subset of functions so that their values belong to
       ` B ` .  (Contributed by FL, 14-Jan-2014.) $)
    selsubf3 $p |- ( ( A ^m C ) i^i ~P ( _V X. B ) ) = ( ( A i^i B ) ^m C ) $=
      ( vf cxp cpw cv wfn cab cin cvv cmap co in32 pwin eqtri ineq1i mapval2
      inxp inv1 xpeq1i pweqi eqtr3i inex1 3eqtr4i ) CAGZHZFICJFKZLZMBGZHZLZCABL
      ZGZHZUJLZACNOZUMLUOCNOUNUIUMLZUJLURUIUJUMPUTUQUJUHULLZHUTUQUHULQVAUPVACML
      ZUOGUPCAMBUAVBCUOCUBUCRUDUESRUSUKUMACFDETSUOCFABDUFETUG $.
      $( [14-Jan-2014] $)
  $}

  ${
    $( A way of selecting a subset of functions so that their values belong to
       ` B ` .  (Contributed by FL, 14-Jan-2014.) $)
    selsubf3g $p |- ( ( A e. D /\ C e. E ) ->
        ( ( A ^m C ) i^i ~P ( _V X. B ) ) = ( ( A i^i B ) ^m C ) ) $=
      ( wcel cvv cmap cxp cin wceq elisset cif ineq1d eqeq12d opreq2 0ex elimel
      co c0 cpw opreq1 ineq1 opreq1d selsubf3 dedth2h syl2an ) ADFAGFZCGFZACHSZ
      GBIUAZJZABJZCHSZKZCEFADLCELUHUIUOUHATMZCHSZUKJZUPBJZCHSZKUPUICTMZHSZUKJZU
      SVAHSZKACTTAUPKZULURUNUTVEUJUQUKAUPCHUBNVEUMUSCHAUPBUCUDOCVAKZURVCUTVDVFU
      QVBUKCVAUPHPNCVAUSHPOUPBVAATGQRCTGQRUEUFUG $.
      $( [14-Jan-2014] $)
  $}

  $c IndCls $.

  $( Extend class notation with the class of inductive closures. $)
  clincl $a class IndCls $.

  $c IndClsBu $.

  $( Extend class notation with the class of inductive closures. $)
  clinclb $a class IndClsBu $.

  ${
    $d x y a f j $.
    $( Definition of an inductive closure.  Top down definition.  Gallier
       p. 19 $)
    df-indcls $a |- IndCls = ( x e. _V , y e. _V |-> |^| { a | ( x C_ a /\
        A. f e. y A. j e. ( dom f i^i ~P ( _V X. a ) ) ( f ` j ) e. a ) } ) $.
  $}

  ${
    $d A f n $.  $d f U n $.  $d f F $.
    $( Lemma for ~ indclsbu .  (Contributed by FL, 14-Jan-2014.) $)
    lemindclsbu $p |- ( ( U e. A /\
      A. f e. F E. n e. NN f e. ( U ^m ( U ^m ( 1 ... n ) ) ) )
       -> F e. _V ) $=
      ( wcel c1 co cmap cn cz cxp cpw wss cvv wa wi sylbi syl mp2b cv wrex wral
      cfz wex df-rex oprex mapsspw cuz fzssuz uzssz sstri xpss1 sspwb sstr ssel
      cfv w3a a1i syl5com ex com5l 3imp1 com12 3exp1 expcom imp exlimiv ralimdv
      a1dd dfss3 sylibr elisset xpexg pwexg sylancr syl11anc ssexg mpan9 syldan
      zex ) BAFZCUAZBBGDUAZUDHZIHZIHZFZDJUBZCEUCZEKBLZMZBLZMZNZEOFZWBWJPWCWNFZC
      EUCZWOWBWJWRWBWIWQCEWIWBWQWIWDJFZWHPZDUEWBWQQZWHDJUFWTXADWSWHXAWEOFWFWEBL
      ZMZNZWSWHXAQZQZGWDUDUGBWEOUHWEKNXBWKNZXDXFQZWEGUIUQKGWDUJGUKULWEKBUMXGXCW
      LNZXHXBWKUNXDXIXFXDXIPWFWLNZXFWFXCWLUOXJWSWHWBWQWFOFWGWFBLZMZNZXJWSWHURWB
      PZWQQBWEIUGBWFOUHXNXMWQXJWSWHWBXMWQQZXJXKWMNZWSWHWBXOQQQZWFWLBUMXPXLWNNZX
      QXKWMUNXMXRWSWHWBWQXMXRXFXMXRPWGWNNZWSXEWGXLWNUOXSXEQWSXSWHWQWBWGWNWCUPVJ
      USUTVAVBRSVCVDTVESVFRTTVGVHRVDVIVGCEWNVKVLWBWNOFZWOWPWBWMOFZXTWBWLOFZBOFZ
      YAWBKOFZYCYBWABAVMZYDYCPWKOFYBKBOOVNWKOVOSVPYEWLBOOVNVQWMOVOSWOXTWPEWNOVR
      VAVSVT $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d a f j x y n F $.  $d a f j n U $.  $d a f j x y n X $.  $d f j n A $.
    $( The inductive closure of ` X ` under ` F ` .  (Contributed by FL,
       14-Jan-2014.) $)
    indcls2 $p |- ( ( U e. A /\ X C_ U /\
        A. f e. F E. n e. NN f e. ( U ^m ( U ^m ( 1 ... n ) ) ) )
      -> ( X IndCls F ) = |^| { a | ( X C_ a /\
        A. f e. F A. j e. ( dom f i^i ~P ( _V X. a ) )
          ( f ` j ) e. a ) } ) $=
      ( vx wcel cv co cmap wral cvv wa cin wceq adantr wi vy wss c1 cfz cn wrex
      w3a clincl cfv cdm cxp cpw cab cint simp1 simp2 lemindclsbu 3adant2 simp3
      3jca jca ssexg ancoms 3adant3 elisset 3ad2ant3 c0 wne simpl1 simpl2 wf wb
      wex oprex elmapg sylancl fdm jctir adantl selsubf3g syl eleq2d ffvelrn ex
      com12 inidm opreq1i eleq2s syl6bi pm2.43a ralrimiv imbi2d syl5ibr pm2.43b
      ineq1 raleq mpcom rexlimivw ralimdv imp sseq2 xpeq2 pweqd ineq2d ralbidv2
      eleq2 imbi12d ralbidv anbi12d cla4egv abn0 sylibr intex sylib sseq1 simpr
      syl12anc imbi1d abbidv inteqd df-indcls ovmpt2ga syl111anc ) BAJZGBUBZCKZ
      BBUCEKZUDLZMLZMLJZEUEUFZCFNZUGZYDYEFOJZUGZYLPZGFUHLGHKZUBZDKZYFUIZYQJZDYF
      UJZOYQUKZULZQZNZCFNZPZHUMZUNZRZYMYOYLYMYDYEYNYDYEYLUOYDYEYLUPYDYLYNYEABCE
      FUQURUTYDYEYLUSVAYPGOJZYNUUJOJZUUKYOUULYLYDYEUULYNYEYDUULGBAVBVCVDSYOYNYL
      YNYDYNYEFOVEVFSYPUUIVGVHZUUMYPUUHHVMZUUNYPYDYEYTBJZDUUBOBUKZULZQZNZCFNZUU
      OYDYEYNYLVIYDYEYNYLVJYOYLUVAYOYKUUTCFYKYOUUTYJYOUUTTZEUEYJYOUUTYOYJYIBYFV
      KZUVBYOYDYIOJYJUVCVLYDYEYNUOZBYHMVNBYIYFAOVOVPUUBYIRZUVCUVBYIBYFVQUVCUVBU
      VEYOUUPDYIUURQZNZTUVCYOUVGUVCYOPZUUPDUVFYSUVFJZUVHUUPUVHUVIYSBBQZYHMLZJUV
      HUUPTZUVHUVFUVKYSUVHYDYHOJZPZUVFUVKRYOUVNUVCYOYDUVMUVDUCYGUDVNVRVSBBYHAOV
      TWAWBUVLYSYIUVKUVHYSYIJZUUPUVCUVOUUPTYOUVCUVOUUPYIBYSYFWCWDSWEUVJBYHMBWFW
      GWHWIWJWKWDUVEUUTUVGYOUVEUUSUVFRUUTUVGVLUUBYIUURWOUUPDUUSUVFWPWAWLWMWQWIW
      NWRWEWSWTYDYEUVAPZUUOUUHUVPHBAYQBRZYRYEUUGUVAYQBGXAUVQUUFUUTCFUVQUUAUUPDU
      UEUUSUVQYSUUEJYSUUSJUUAUUPUVQUUEUUSYSUVQUUDUURUUBUVQUUCUUQYQBOXBXCXDWBYQB
      YTXFXGXEXHXIXJWTXQUUHHXKXLUUIXMXNIUAGFOOIKZYQUBZUUFCUAKZNZPZHUMZUNUUJUHOU
      VRGRZUVTFRZPZUWCUUIUWFUWBUUHHUWFUVSYRUWAUUGUWDUVSYRVLUWEUVRGYQXOSUWFUUFUU
      FCUVTFUWFYFUVTJYFFJUUFUWFUVTFYFUWDUWEXPWBXRXEXIXSXTIUACDHYAYBYCWA $.
      $( [4-Feb-2014] $)
  $}

  ${
    $d f n x y F $.  $d f n y A $.  $d f n x y U $.  $d f n x y X $.
    $( X is a part of the inductive closure of ` X ` under ` F ` .
       (Contributed by FL, 15-Jan-2014.) $)
    xindcls $p |- ( ( U e. A /\ X C_ U /\
        A. f e. F E. n e. NN f e. ( U ^m ( U ^m ( 1 ... n ) ) ) )
      -> X C_ ( X IndCls F ) ) $=
      ( vx vy wcel wss cv c1 cfz co cmap cn wrex wral a1i mpbird w3a clincl cfv
      cdm cvv cxp cpw cin wa cab cint wi wal id adantr ax-gen wb ssintab sseq2d
      indcls2 ) BAIFBJCKZBBLDKMNONONIDPQCERUAZFFEUBNZJFFGKZJZHKVAUCVDIHVAUDUEVD
      UFUGUHRCERZUIZGUJUKZJZVBVIVGVEULZGUMZVKVBVJGVEVEVFVEUNUOUPSVIVKUQVBVGGFUR
      STVBVCVHFABCHDEFGUTUST $.
      $( [4-Feb-2014] $)
  $}


  ${
    $d u x y z n a l m b o f j $.
    $( Definition of an inductive closure.  Gallier p. 19.  Bottom up
       definition. $)
    df-indclsbu $a |- IndClsBu = ( u e. _V |-> ( x e. ~P u ,
      y e. ~P { z | E. n e. NN z e. ( u ^m ( u ^m ( 1 ... n ) ) ) }
        |-> ( a e. NN0 |->
           ( ( ( l e. ~P u , m e. ~P u |-> ( l u. m ) ) seq0 ( b e. NN0 |->
         if ( b = 0 , x ,
            { o | E. f e. y E. j e. ( dom f i^i
              ( _V X. ( ( x IndClsBu y ) ` ( b - 1 ) ) ) )
              o = ( f ` j ) } ) ) ) ` a ) ) ) ) $.
  $}

  ${
    $d a b f j l m n o u x y z $.  $d a b f j o x y z F $.  $d a f j o N $.
    $d a f l m n u x y z U $.  $d a b f j o x y X $.  $d f n A $.
    $( Definition of an inductive closure.  Gallier p. 19.  (Contributed by FL,
       14-Jan-2014.) $)
    indclsbu $p |- ( ( ( U e. A /\ X C_ U ) /\
      A. f e. F E. n e. NN f e. ( U ^m ( U ^m ( 1 ... n ) ) ) /\ N e. NN0 ) ->
        ( ( X ( IndClsBu ` U ) F ) ` N ) = ( ( ( l e. ~P U , m e. ~P U |->
      ( l u. m ) ) seq0 ( b e. NN0 |-> if ( b = 0 , X ,
        { o | E. f e. F E. j e. ( dom f i^i
          ( _V X. ( ( X IndClsBu F ) ` ( b - 1 ) ) ) )
         o = ( f ` j ) } ) ) ) ` N ) ) $=
      ( vz wcel cv co cn0 cfv wceq cvv vx vy va vu wss wa c1 cfz cmap wrex wral
      w3a clinclb cpw cab cun cmpt2 cc0 cdm cmin cxp cin cif cmpt cseq0 elisset
      cn adantr 3ad2ant1 pwexg nnex a1i abid2 oprex eqeltri rgen abrexex2g 3syl
      jctir mpt2exg syl11anc pweq id opreq1 opreq12d eleq2d rexbidv pweqd eqidd
      abbidv mpt2eq123dv fveq1d mpteq2dva df-indclsbu fvmptg opreqd ssexg elpwg
      opreq1d ancoms biimprd adantld mpcom simpl eleq1d rexbidva cbvralv biimpi
      weq 3ad2ant2 ssabral sylibr lemindclsbu adantlr 3adant3 syl mpbird mptexg
      nn0ex ax-mp biidd simpll wel simplr opreq12 xpeq2d ineq2d anbi1d rexbidv2
      wb anbi12d ifbieq12d opreq2d eqid ovmpt2ga syl111anc simp3 fveq2 sylancl
      fvex 3eqtrd ) BANZJBUEZUFZCOZBBUGFOZUHPZUIPZUIPZNZFVGUJZCHUKZIQNZULZIJHBU
      MRZPZRIJHUAUBBUNZMOZUUINZFVGUJZMUOZUNZUCQUCOZLEUUQUUQLOEOUPZUQZKQKOZURSZU
      AOZGODOZUUERSZDUUEUSZTUVFUGUTPZUVHUBOZUMPZRZVAZVBZUJZCUVMUJZGUOZVCZVDZVEP
      ZRZVDZUQZPZRIUCQUVCUVEKQUVGJUVJDUVKTUVLJHUMPZRZVAZVBZUJZCHUJZGUOZVCZVDZVE
      PZRZVDZRZIUWQRZUUNIUUPUWGUUNUUOUWFJHUUNBTNZUWFTNZUUOUWFSUUDUULUXBUUMUUBUX
      BUUCBAVFVHVIUUNUUQTNZUVBTNZUXCUUDUULUXDUUMUUBUXDUUCBAVJVHVIUUNVGTNZUUSMUO
      ZTNZFVGUKZUFUVATNUXEUUNUXFUXIUXFUUNVKVLUXHFVGUXHUUFVGNZUXGUUITMUUIVMBUUHU
      IVNVOVLVPVSUUSFMVGTTVQUVATVJVRUAUBUUQUVBUWETTVTWAUDBUAUBUDOZUNZUURUXKUXKU
      UGUIPZUIPZNZFVGUJZMUOZUNZUCQUVCLEUXLUXLUVDUQZUWBVEPZRZVDZUQUWFTTUMUXKBSZU
      AUBUXLUXRUYBUUQUVBUWEUXKBWBZUYCUXQUVAUYCUXPUUTMUYCUXOUUSFVGUYCUXNUUIUURUY
      CUXKBUXMUUHUIUYCWCUXKBUUGUIWDWEWFWGWJWHUYCUCQUYAUWDUYCUYAUWDSUVCQNZUYCUVC
      UXTUWCUYCUXSUVEUWBVEUYCLEUXLUXLUVDUUQUUQUVDUYDUYDUYCUVDWIWKWSWLVHWMWKUAUB
      MUDCDEFGUCKLWNWOWAWPWLUUNIUWGUWSUUNJUUQNZHUVBNZUWSTNZUWGUWSSUUDUULUYFUUMJ
      TNZUUDUYFUUCUUBUYIJBAWQWTUYIUUCUYFUUBUYIUYFUUCJBTWRXAXBXCVIUUNUYGHUVAUEZU
      UNUUTMHUKZUYJUULUUDUYKUUMUULUYKUUKUUTCMHCMXIZUUJUUSFVGUYLUXJUFUUEUURUUIUY
      LUXJXDXEXFXGXHXJUUTMHXKXLUUNHTNZUYGUYJYJUUDUULUYMUUMUUBUULUYMUUCABCFHXMXN
      XOHUVATWRXPXQUYHUUNQTNUYHXSUCQUWRTXRXTVLUAUBJHUUQUVBUWEUWSUWFTUVHJSZUVMHS
      ZUFZUCQUWDUWRUYPUWDUWRSUYEUYPUVCUWCUWQUYPUWBUWPUVEVEUYPKQUWAUWOUYPUVFQNZU
      FZUVGUVGUVHUVTJUWNUYRUVGYAUYNUYOUYQYBUYRUVSUWMGUYRUVRUWLCUVMHUYRCUBYCUUEH
      NUVRUWLUYRUVMHUUEUYNUYOUYQYDWFUYRUVJUVJDUVQUWKUYRUVIUVQNUVIUWKNUVJUYRUVQU
      WKUVIUYRUVPUWJUVKUYRUVOUWITUYRUVLUVNUWHUYPUVNUWHSUYQUVHJUVMHUMYEVHWLYFYGW
      FYHYIYKYIWJYLWMYMWLVHWMUWFYNYOYPWLUUNUUMUXATNUWTUXASUUDUULUUMYQIUWQYTUCIU
      WRUXAQTUWSUVCIUWQYRUWSYNWOYSUUA $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d b f j l m n o $.  $d b f j o F $.  $d b f j o X $.  $d f n A $.
    $d f l m n U $.
    $( Definition of an inductive closure at ` 0 ` .  (Contributed by FL,
       14-Jan-2014.) $)
    indclsbu0 $p |- ( ( U e. A /\ X C_ U /\
      A. f e. F E. n e. NN f e. ( U ^m ( U ^m ( 1 ... n ) ) ) ) ->
        ( ( X ( IndClsBu ` U ) F ) ` 0 ) = X ) $=
      ( vl vm vb vo vj wcel cv co wrex cc0 cfv cn0 wceq cvv wss c1 cmap cn wral
      cfz w3a clinclb cpw cun cmpt2 cdm cmin cxp cin cab cif cseq0 3simpa simp3
      cmpt wa 0nn0 a1i indclsbu syl111anc pwexg mpt2exg syl11anc 3ad2ant1 nn0ex
      mptexg syl seq00g ssexg 3adant3 lemindclsbu 3adant2 dmexg rgen ab2rexexg2
      ancoms inex1g ifcl eqeq1 opreq1 adantr fveq2d xpeq2d ineq2d eleq2d anbi1d
      sylancl rexbidv2 rexbidva abbidv ifbieq2d eqid fvmptg iftrue ax-mp syl6eq
      sylancr 3eqtrd ) BALZFBUAZCMZBBUBDMUFNUCNUCNLDUDOCEUEZUGZPFEBUHQNQZPGHBUI
      ZXKGMHMUJZUKZIRIMZPSZFJMKMZXGQZSZKXGULZTXNUBUMNZFEUHNZQZUNZUOZOZCEOZJUPZU
      QZVAZURNQZPYIQZFXIXEXFVBXHPRLZXJYJSXEXFXHUSXEXFXHUTYLXIVCVDABCKHDJEPFIGVE
      VFXIXMTLZYITLZYJYKSXEXFYMXHXEXKTLZYOYMBAVGZYPGHXKXKXLTTVHVIVJXIRTLZYNYQXI
      VKVDIRYHTVLVMTTXMYIVNVIXIYKPPSZFXRKXSTPUBUMNZYAQZUNZUOZOZCEOZJUPZUQZFXIYL
      UUFTLZYKUUFSVCXIFTLZUUETLZUUGXEXFUUHXHXFXEUUHFBAVOWBVPXIETLZUUBTLZCEUEUUI
      XEXHUUJXFABCDEVQVRUUKCEXGELZXSTLUUKXGEVSXSUUATWCVMVTCKJEUUBXQTTWAWMYRFUUE
      TWDVIIPYHUUFRTYIXOXOYRYGUUEFXNPPWEXOYFUUDJXOYEUUCCEXOUULVBZXRXRKYDUUBUUMX
      PYDLXPUUBLXRUUMYDUUBXPUUMYCUUAXSUUMYBYTTUUMXTYSYAXOXTYSSUULXNPUBUMWFWGWHW
      IWJWKWLWNWOWPWQYIWRWSXCYRUUFFSPWRYRFUUEWTXAXBXD $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d b f g h j l m o U $.  $d b f j l m n o U $.  $d b f j n o A $.
    $d b f g h j o F $.  $d b f g h j o N $.  $d b f g h j o X $.
    $d g h l m z $.  $d n o F $.  $d n o N $.  $d n o X $.
    $( Definition of an inductive closure at a successor.  (Contributed by FL,
       14-Jan-2014.) $)
    indclsbusuc $p |- ( ( ( U e. A /\ X C_ U ) /\
      A. f e. F E. n e. NN f e. ( U ^m ( U ^m ( 1 ... n ) ) ) /\ N e. NN0 ) ->
        ( ( X ( IndClsBu ` U ) F ) ` ( N + 1 ) ) =
        ( ( ( X ( IndClsBu ` U ) F ) ` N ) u.
        { o | E. f e. F E. j e. ( dom f i^i
          ( _V X. ( ( X IndClsBu F ) ` N ) ) ) o = ( f ` j ) } ) ) $=
      ( vl vm wcel wa c1 co cn0 wceq cvv a1i wi vb vg vh vz wss cv cmap cn wrex
      cfz wral w3a caddc clinclb cfv cpw cun cmpt2 cc0 cdm cmin cxp cin cab cif
      cmpt cseq0 peano2nn0 indclsbu syl3an3 pwexg adantr 3ad2ant1 mpt2exg nn0ex
      syl11anc mptexg ax-mp simp3 seq0p1g imp syl21anc wf ssexg biimprd adantld
      elpwg syl ancoms pm2.43i ad2antrr wn r19.29 oprex elmapg wfn sylbi syl6bi
      elin ex mpan2 3adant3 syl5ibr 3expd com12 rexlimiv visset rgen ab2rexexg2
      inex1 sylancl mpbird eqid sylib elpw sylibr 3ad2ant3 fveq2d xpeq2d ineq2d
      wb eleq2d anbi1d rexbidv2 abbidv cr clt wbr lt01 syl22anc 3imp fvex ax-17
      1re uneq12 eqtrd syl111anc cc ax1cn 3eqtrd df-f wfun fnfun fvelrn syl5com
      ssel com23 com3l impcom eleq1 exp3a com3r abssdv lemindclsbu adantlr dmex
      ifclda ralrimiva fmpt unss biimpi syl2anb unex rgen2a fmptb mpbii seq0clg
      crn syl23anc eqeq1 opreq1 rexbidva ifbieq2d fvmptg wne nn0re peano2re cle
      ifcl nn0ge0 addgegt0 gt0ne0 df-ne wal simpl1 fdm biimpa 3exp1 com15 com24
      ffvelrn alrimiv abss adantl iffalse eleq1d mpancom eqeltrd pm3.2i cbvmpt2
      unexg opreqd ovmpt2ga eqcomd axaddrcl nn0cn subidi opreq2d addid1 rexbidv
      addsubass uneq12d ) BALZIBUEZMZCUFZBBNEUFZUJOZUGOZUGOLZEUHUIZCGUKZHPLZULZ
      HNUMOZIGBUNUOOZUOZUYEJKBUPZUYHJUFZKUFZUQZURZUAPUAUFZUSQZIFUFZDUFZUXPUOZQZ
      DUXPUTZRUYMNVAOZIGUNOZUOZVBZVCZUIZCGUIZFVDZVEZVFZVGOZUOZHVUJUOZUYEVUIUOZU
      YLOZHUYFUOZUYRDUYSRHVUAUOZVBZVCZUIZCGUIZFVDZUQZUYCUXOUYBUYEPLZUYGVUKQHVHZ
      ABCDKEFGUYEIUAJVIVJUYDUYLRLZVUIRLZUYCVUKVUNQZUYDUYHRLZVVHVVEUXOUYBVVHUYCU
      XMVVHUXNBAVKVLVMZVVIJKUYHUYHUYKRRVNVPZVVFUYDPRLVVFVOUAPVUHRVQVRSZUXOUYBUY
      CVSZVVEVVFMZUYCVVGRRUYLVUIHVTWAWBUYDVUNVULVUMUQZVVBUYDVULUYHLZVUMUYHLZVVN
      RLZVUNVVNQUYDVVEVVFUYCPUYHVUIWCZUYHUYHVBUYHUYLWCZVVOVVJVVKVVLUYDVUHUYHLZU
      APUKVVRUYDVVTUAPUYDUYMPLZMZUYNIVUGUYHUYDIUYHLZVWAUYNUXOUYBVWCUYCUXOVWCUXN
      UXMUXOVWCTZUXNUXMMIRLZVWDIBAWDZVWEUXNVWCUXMVWEVWCUXNIBRWGWEWFWHWIWJVMWKVW
      BUYNWLZMZVUGUYHLZVUGBUEZVWHVUFFBUYDVUFUYOBLZTZVWAVWGUXOUYBVWLUYCUXOUYBVWL
      UXMUYBVWLTUXNUYBVUFUXMVWKUYBVUFUXMVWKTZUYBVUFMUYAVUEMZCGUIVWMUYAVUECGWMVW
      NVWMCGVWNUXPGLZVWMUYAVUEVWOVWMTZUXTVUEVWPTZEUHUXTVWQTUXQUHLZVUEUXTVWPUYRU
      XTVWPTZDVUDUYPVUDLZUYPUYSLZUYPVUCLZMUYRVWSTZUYPUYSVUCWSVXAVXCVXBUYRVXAVWS
      UYRVXAUXTVWOVWMUYRVXAUXTVWOULZUXMVWKVXDUXMMVWKUYRUYQBLZVXDUXMVXEVXAUXTUXM
      VXETZVWOUXTVXAVXFUXMUXTVXAVXEUXMUXSRLZUXTVXAVXETZTBUXRUGWNZUXMVXGMZUXTUXS
      BUXPWCZVXHBUXSUXPARWOZVXKUXPUXSWPZUXPUVHZBUEZMVXHUXSBUXPUUAVXMVXOVXHVXMUX
      PUUBZVXOVXHTUXSUXPUUCVXPVXAVXOVXEVXPVXAVXOVXETVXPVXAMUYQVXNLVXOVXEUYPUXPU
      UDVXNBUYQUUFUUEWTUUGWHWAWQWRXAUUHUUIXBWAUYOUYQBUUJZXCUUKXDXEVLWQXFXESXFWA
      XEXFWHWTUULVLWAXBWKUUMVWHVUGRLZVWIVWJYAVWHGRLZVUDRLZCGUKVXRUYDVXSVWAVWGUX
      OUYBVXSUYCUXMUYBVXSUXNABCEGUUNUUOXBZWKVXTCGVXTVWOUYSVUCUXPCXGUUPZXJSXHCDF
      GVUDUYQRRXIXKVUGBRWGWHXLUUQUURUAPUYHVUHVUIVUIXMZUUSXNUYDUYKUYHLZKUYHUKJUY
      HUKZVVSVYDJKUYHUYIUYHLZUYJUYHLZMUYKBUEZVYDVYFUYIBUEZUYJBUEZVYHVYGUYIBJXGZ
      XOUYJBKXGZXOVYIVYJMVYHUYIUYJBUUTUVAUVBUYKBUYIUYJVYKVYLUVCXOXPUVDVYEVVSYAU
      YDJKUYHUYHUYHUYKUYLUYLXMUVESUVFVVMUYCVVRVVSULVVORRUYHUYLVUIHUVGWAUVIUYDVU
      MUYEUSQZIUYRDUYSRUYENVAOZVUAUOZVBZVCZUIZCGUIZFVDZVEZUYHUYDVVCWUARLZVUMWUA
      QUYCUXOVVCUYBVVDXQUYDVWEVYTRLZWUBUXOUYBVWEUYCUXNUXMVWEVWFWIVMUYDVXSVYQRLZ
      CGUKWUCVYAWUDCGWUDVWOUYSVYPVYBXJSXHCDFGVYQUYQRRXIXKZVYMIVYTRUVSVPUAUYEVUH
      WUAPRVUIUYMUYEQZUYNVYMVUGVYTIUYMUYEUSUVJWUFVUFVYSFWUFVUEVYRCGWUFVUEVYRYAV
      WOWUFUYRUYRDVUDVYQWUFVWTUYPVYQLZUYRWUFVUDVYQUYPWUFVUCVYPUYSWUFVUBVYORWUFU
      YTVYNVUAUYMUYENVAUVKXRXSXTYBYCYDVLUVLYEUVMVYCUVNVPZVYMWLZUYDWUAUYHLZUYDUY
      EUSUVOZWUIUYDUYEYFLZUSUYEYGYHZWUKUYDHYFLZWULUYCUXOWUNUYBHUVPZXQZHUVQWHUYD
      WUNNYFLZUSHUVRYHZUSNYGYHZWUMWUPWUQUYDYNSUYCUXOWURUYBHUVTZXQWUSUYDYISHNUWA
      ZYJUYEUWBZVPUYEUSUWCZXNWUIUYDMWUJVYTUYHLZUYDWVDWUIUYDWVDVYTBUEZUYDVYSVWKT
      ZFUWDWVEUYDWVFFUXOUYBUYCWVFUYBUXOUYCWVFTUYBVYSUYCUXOVWKUYBVYSUYCUXOVWKTTZ
      UYBVYSMUYAVYRMZCGUIWVGUYAVYRCGWMWVHWVGCGWVHVWOWVGUYAVYRVWOWVGTZUXTVYRWVIT
      ZEUHUXTWVJTVWRVYRUXTWVIUYRUXTWVITZDVYQUYRWUGWVKUYRWUGUXTVWOWVGUYRWUGUXTVW
      OULZUYCUXOVWKWVLUYCUXOULVWKUYRVXEWVLUYCUXOVXEWUGUXTVWOUYCUXOVXETTZWUGVXAU
      YPVYPLZMUXTVWOWVMTTZUYPUYSVYPWSVXAWVOWVNUXOUXTVWOUYCVXAVXEUXMUXTVWOUYCVXH
      TTZTZUXNUXMVXGWVQVXIVXJUXTVXKWVPVXLVXKVWOUYCVXAVXEVXKVWOUYCULZVXAMVXKUYPU
      XSLZVXEVXKVWOUYCVXAUWEWVRVXAWVSWVRUYSUXSUYPVXKVWOUYSUXSQUYCUXSBUXPUWFVMYB
      UWGUXSBUYPUXPUWKVPUWHWRXAVLUWIVLWQYKYKVXQXCXDXDXEXFXESXFWAXEXFWHWTUWJXEYK
      UWLVYSFBUWMXPUYDWUCWVDWVEYAWUEVYTBRWGWHXLUWNWUIWUJWVDYAUYDWUIWUAVYTUYHVYM
      IVYTUWOZUWPVLXLUWQUWRUYDVULRLZVUMRLZMZVVQWWCUYDWWAWWBHVUJYLUYEVUIYLUWSSVU
      LVUMRRUXAWHVVOVVPVVQULZVUNVULVUMUBUCUYHUYHUBUFZUCUFZUQZURZOVVNWWDUYLWWHVU
      LVUMUYLWWHQWWDJKUBUCUDUYHUYHUYKWWGUDUFZUYKLZUBYMWWJUCYMWWIWWGLZJYMWWKKYMU
      YIWWEUYJWWFYOUWTSUXBUBUCVULVUMUYHUYHWWGVVNWWHRWWEVULWWFVUMYOWWHXMUXCYPYQU
      YDVULVUOVUMVVAUYDVUOVULABCDKEFGHIUAJVIUXDUYDVUMWUAVYTVVAWUHUYDWUIWUAVYTQU
      YDWUKWUIUYCUXOWUKUYBUYCWULWUMWUKUYCWUNWUQWULWUOYNHNUXEXKUYCWUNWUQWURWUSWU
      MWUOWUQUYCYNSWUTWUSUYCYISWVAYJWVBVPXQWVCXNWVTWHUYCUXOVYTVVAQUYBUYCVYSVUTF
      UYCVYRVUSCGUYCUYRUYRDVYQVURUYCWUGUYPVURLUYRUYCVYQVURUYPUYCVYPVUQUYSUYCVYO
      VUPRUYCVYNHVUAUYCVYNHNNVAOZUMOZHUSUMOZHUYCHYRLZNYRLZWWPVYNWWMQHUXFZWWPUYC
      YSSZWWRHNNUXKYQUYCWWLUSHUMWWLUSQUYCNYSUXGSUXHUYCWWOWWNHQWWQHUXIWHYTXRXSXT
      YBYCYDUXJYEXQYTUXLYPYT $.
      $( [14-Jan-2014] $)
  $}


  $c Grammar $.

  $( Extend class notation with the class of all grammars. $)
  cgrm $a class Grammar $.

  ${
    $d x n t p s l r a $.
    $( A grammar is a structure composed of a set of non-terminal symbols
       ` n ` , of terminal symbols ` t ` , a set of productions ` p ` and a
       distinguished element of ` n ` , the start symbol ` s ` .
       Experimental. $)
    df-grm $a |- Grammar = { x | E. n E. t E. p E. s (
         ( x = <. <. n , t >. , <. p , s >. >. /\
           n e. Fin /\
           t e. Fin ) /\
         ( ( n i^i t ) = (/) /\
             p = { <. l , r >. | ( l e. ( Kleene ` ( n u. t ) ) /\ r e. (
        Kleene ` ( n u. t ) ) /\ E. a e. NN ( l ` a ) e. n ) } /\
             s e. n ) ) } $.
  $}

  $c sym $.

  $( Extend class notation with a function returning the symbols of a
     grammar. $)
  csym $a class sym $.

  $( The symbols of a grammar ` g ` .  Experimental. $)
  df-sym $a |- sym = ( g e. Grammar |-> ( ( ( 1st o. 1st ) ` g ) u. (
    ( 2nd o. 1st ) ` g ) ) ) $.

  $c prdct $.

  $( Extend class notation with a function returning the productions of a
     grammar. $)
  cprdct $a class prdct $.

  $( The productions of a grammar. $)
  df-prodct $a |- prdct = ( 1st o. 2nd ) $.

  $c conc $.

  $( Extend class notation with an operation concatenating two sequences of
     symbols. $)
  cconc $a class conc $.

  ${
    $d x y a b $.
    $( Concatenation of two words.  Experimental. $)
    df-conc $a |- conc = ( x e. _V , y e. _V |->
      if ( x = (/) , y , if ( y = (/) , x ,
      ( x u. ( a e. ( ( ( # ` x ) + 1 ) ... ( ( # ` x )
        + ( # ` y ) ) ) |-> ( y ` ( a - ( # ` x ) ) ) ) ) ) ) ) $.
  $}

  ${
    $d x y a $.  $d y A a $.
    $( Concatenation with the empty set.  (Contributed by FL, 14-Jan-2014.) $)
    isconc1 $p |- ( A e. B -> ( (/) conc A ) = A ) $=
      ( va vx vy wcel c0 co wceq chash cfv c1 caddc cfz cmin cmpt cif ifbieq12d
      cv cvv cconc cun w3a 0ex a1i elisset eqid iftrue ax-mp eleq1d mpbird 3jca
      eqeq1 eqidd biidd fveq2 opreq1d opreq12d opreq2d fveq2d mpteq12dv uneq12d
      id fveq1 df-conc ovmpt2g syl eqtrd ) ABFZGAUAHZGGIZAAGIZGGCGJKZLMHZVMAJKZ
      MHZNHZCSZVMOHZAKZPZUBZQZQZAVIGTFZATFZWDTFZUCVJWDIVIWEWFWGWEVIUDUEABUFZVIW
      GWFWHVIWDATWDAIZVIVKWIGUGVKAWCUHUIUEZUJUKULDEGATTDSZGIZESZWMGIZWKWKCWKJKZ
      LMHZWOWMJKZMHZNHZVRWOOHZWMKZPZUBZQZQWDUAVKWMWNGGCVNVMWQMHZNHZVSWMKZPZUBZQ
      ZQTWLWLVKWMXDWMXJWKGGUMWLWMUNWLWNWNWKXCGXIWLWNUOWLVCZWLWKGXBXHXKWLCWSXAXF
      XGWLWPVNWRXENWLWOVMLMWKGJUPZUQWLWOVMWQMXLUQURWLWTVSWMWLWOVMVROXLUSUTVAVBR
      RWMAIZVKVKWMXJAWCXMVKUOXMVCXMWNVLGXIGWBWMAGUMXMGUNZXMGGXHWAXNXMCXFXGVQVTX
      MXEVPVNNXMWQVOVMMWMAJUPUSUSVSWMAVDVAVBRRDECVEVFVGWJVH $.
      $( [14-Jan-2014] $)
  $}


  ${
    $d x y A a $.
    $( Concatenation with the empty set.  (Contributed by FL, 14-Jan-2014.) $)
    isconc2 $p |- ( A e. B -> ( A conc (/) ) = A ) $=
      ( va vx vy wcel c0 co wceq chash cfv caddc cfz cmin cif cvv a1i ifbieq12d
      c1 cv cconc cmpt cun w3a elisset 0ex wa adantr simpl oprex mptexg syl jca
      wn unexg ifclda 3jca eqeq1 eqidd biidd id opreq1d opreq12d opreq2d fveq2d
      fveq2 mpteq12dv uneq12d fveq1 df-conc ovmpt2g iftrue eqcom biimpi iffalse
      eqtrd eqid ax-mp pm2.61i ) ABFZAGUAHZAGIZGGGIZAACAJKZSLHZWDGJKZLHZMHZCTZW
      DNHZGKZUBZUCZOZOZAVTAPFZGPFZWOPFZUDWAWOIVTWPWQWRABUEZWQVTUFQVTWBGWNPWQVTW
      BUGUFQVTWNPFWBUNZVTWCAWMPVTWPWCWSUHVTWCUNZUGZVTWLPFZUGWMPFXBVTXCVTXAUIXBW
      HPFZXCXDXBWEWGMUJQCWHWKPUKULUMAWLBPUOULUPUHUPUQDEAGPPDTZGIZETZXGGIZXEXECX
      EJKZSLHZXIXGJKZLHZMHZWIXINHZXGKZUBZUCZOZOWOUAWBXGXHAACWEWDXKLHZMHZWJXGKZU
      BZUCZOZOPXEAIZXFWBXGXRXGYDXEAGURYEXGUSYEXHXHXEXQAYCYEXHUTYEVAZYEXEAXPYBYF
      YECXMXOXTYAYEXJWEXLXSMYEXIWDSLXEAJVFZVBYEXIWDXKLYGVBVCYEXNWJXGYEXIWDWINYG
      VDVEVGVHRRXHWBWBXGYDGWNXHWBUTXHVAXHXHWCAYCAWMXGGGURXHAUSZXHAAYBWLYHXHCXTY
      AWHWKXHWEWEXSWGMXHWEUSXHXKWFWDLXGGJVFVDVCWJXGGVIVGVHRRDECVJVKULWOAIZVTWBY
      IWBWOGAWBGWNVLWBGAIAGVMVNVPWTWOWNAWBGWNVOWNAIZWTWCYJGVQWCAWMVLVRQVPVSQVP
      $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d x y A a $.  $d y B a $.
    $( Definition of a concatenation.  (Contributed by FL, 14-Jan-2014.) $)
    isconc3 $p |- ( ( A e. C /\ B e. C /\ ( A =/= (/) /\ B =/= (/) ) )
    -> ( A conc B ) =
     ( A u. ( a e. ( ( ( # ` A ) + 1 ) ... ( ( # ` A )
        + ( # ` B ) ) ) |-> ( B ` ( a - ( # ` A ) ) ) ) ) ) $=
      ( vx vy wcel c0 co wceq chash cfv c1 caddc cfz cv cmin cif cvv ifbieq12d
      wne wa w3a cconc cun elisset 3ad2ant1 3ad2ant2 adantr wn oprex a1i mptexg
      cmpt syl wb unexb mpbid df-ne iffalse sylbi adantl 3ad2ant3 eleq1d mpbird
      ifclda 3jca eqeq1 eqidd biidd id fveq2 opreq1d opreq12d opreq2d mpteq12dv
      jca fveq2d uneq12d fveq1 uneq2d df-conc ovmpt2g eqid 3eqtrd eqtrd ) ACGZB
      CGZAHUAZBHUAZUBZUCZABUDIZAHJZBBHJZAADAKLZMNIZWPBKLZNIZOIZDPZWPQIZBLZUNZUE
      ZRZRZXEWLASGZBSGZXGSGZUCWMXGJWLXHXIXJWGWHXHWKACUFUGZWHWGXIWKBCUFUHZWLWNBX
      FSWLXIWNXLUIWLXFSGZWNUJZWLXMXESGZWLXHXDSGZUBZXOWLXHXPXKWLWTSGZXPXRWLWQWSO
      UKULDWTXCSUMUOVQXQXOUPWLAXDUQULURWLXFXESWKWGXFXEJZWHWJXSWIWJWOUJXSBHUSWOA
      XEUTVAVBVCZVDVEUIVFVGEFABSSEPZHJZFPZYCHJZYAYADYAKLZMNIZYEYCKLZNIZOIZXAYEQ
      IZYCLZUNZUEZRZRXGUDWNYCYDAADWQWPYGNIZOIZXBYCLZUNZUEZRZRSYAAJZYBWNYCYNYCYT
      YAAHVHUUAYCVIUUAYDYDYAYMAYSUUAYDVJUUAVKZUUAYAAYLYRUUBUUADYIYKYPYQUUAYFWQY
      HYOOUUAYEWPMNYAAKVLZVMUUAYEWPYGYGNUUCUUAYGVIVNVNUUAYJXBYCUUAYEWPXAQUUCVOV
      RVPVSTTYCBJZWNWNYCYTBXFUUDWNVJUUDVKUUDYDWOAYSAXEYCBHVHUUDAVIUUDYRXDAUUDDY
      PYQWTXCUUDYOWSWQOUUDYGWRWPNYCBKVLVOVOXBYCBVTVPWATTEFDWBWCUOWLXGXFXEXEWKWG
      XGXFJZWHWIUUEWJWIXNUUEAHUSWNBXFUTVAUIVCXTXEXEJWLXEWDULWEWF $.
      $( [14-Jan-2014] $)
  $}

  ${
    $d n A $.  $d x A $.
    $( The empty set is an element of the kleene star of ` A ` .  (Contributed
       by FL, 2-Feb-2014.) $)
    empklst $p |- ( A e. B -> (/) e. ( Kleene ` A ) ) $=
      ( vn vx wcel c0 cn0 c1 cfz cmap ciun ckln cfv wrex cc0 wceq eleq2d opreq2
      cv co 0nn0 wi opreq1 c1o 0lt1o visset map0e eleqtrri vtoclg syl5ibr ax-mp
      fz10 opreq2d rcla4ev sylancr eliun sylibr isKleene eleqtrrd ) ABEZFCGAHCS
      ZITZJTZKZALMUTFVCEZCGNZFVDEUTOGEFAHOITZJTZEZVFUAVGFPZUTVIUBULUTVIVJFAFJTZ
      EZFDSZFJTZEVLDABVMAPVNVKFVMAFJUCQFUDVNUEVMDUFUGUHUIVJVHVKFVGFAJRQUJUKVEVI
      COGVAOPZVCVHFVOVBVGAJVAOHIRUMQUNUOCFGVCUPUQCABURUS $.
      $( [2-Feb-2014] $)
  $}

  ${
    $d a b c d A $.  $d a b c d B $.  $d a b c d C $.
    $( Closure of concatenation.  (Contributed by FL, 2-Feb-2014.) $)
    clscnc $p |- ( ( A e. ( Kleene ` C ) /\ B e. ( Kleene ` C ) )
       -> ( A conc B ) e. ( Kleene ` C ) ) $=
      ( va vc wcel wa co wi c0 wceq c1 caddc cfz cvv cn0 cmap adantr wb imbi2d
      vb ckln cfv cconc isconc1 eleq1 biimpd eqcoms mpcom opreq1 eleq1d syl5ibr
      vd adantld wne isconc2 opreq2 adantrd a1i w3a chash cmin cmpt cun isconc3
      cv cdm elfvdm elisset ciun isKleene wrex weq opreq2d cbviunv eleq2i eliun
      bitri nn0addcl ancoms ad2ant2r 3adant3 oprex elmapg wfn ffn fseq1hash cin
      wf mpan2 simpl2r wral elfzel1 adantl nn0z zaddcl syl2anr ad2antrr elfzelz
      cz 3ad2ant2 anim12i fzsubel syl21anc ex com13 pm2.43i impcom nn0cn pncan2
      cc syl opreq12d eleq2d syl6 clt wbr nn0re sylancr cle cc0 syl11anc nn0ge0
      cr bicomd syl6bi imp mpbird 3exp1 mpteq12dv uneq2d exp3a com3l exp3acom3r
      pm2.43a 3imp1 rexlimiva sylbi eleq2 imbi12d simpl1r ax1cn biimpac ffvelrn
      ad2antrl jca ralrimiva eqid fmpt sylib visset ltp1 fzdisj fun simp2l 0fz1
      necon3bid cn simpr2l ltlen mpand elnnnn0b sylanbrc nnge1 3ad2ant1 addge01
      0re 1z elfz1 fzsplit unidm eqcomi feq23d simpl3 sylancl fveq2d syl5ibrcom
      3jca eqidd com5l com23 imp3a com25 com4l rcla4ev sylibr 3syl 3imp eqeltrd
      com12 3expia pm2.61dne pm2.61ine ) ACUBUCZFZBUWNFZGZABUDHZUWNFZIZAJAJKZUW
      PUWSUWOUWPUWSUXAJBUDHZUWNFZUXBBKUWPUXCBUWNUEUWPUXCIBUXBBUXBKUWPUXCBUXBUWN
      UFUGUHUIUXAUWRUXBUWNAJBUDUJUKULUNAJUOZUWTBJBJKZUWTIUXDUXEUWOUWSUWPUWOUWSU
      XEAJUDHZUWNFZUXFAKUWOUXGAUWNUPUWOUXGIAUXFAUXFKUWOUXGAUXFUWNUFUGUHUIUXEUWR
      UXFUWNBJAUDUQUKULURUSUWQUXDBJUOZUWSUWOUWPUXDUXHGZUWSUWOUWPUXIUTUWRADAVAUC
      ZLMHZUXJBVAUCZMHZNHZDVFZUXJVBHZBUCZVCZVDZUWNABUWNDVEUWOUWPUXIUXSUWNFZUWOU
      WPUXIUXTIZIZUWOCUBVGZFCOFZUWOUYBIZACUBVHCUYCVIUWNDPCLUXONHZQHZVJZKZUYDUYE
      DCOVKUYDUYEUYIAUYHFZBUYHFZUXIUXSUYHFZIZIZIUYDUYJUYKUXIUYLUYDUYJUYKUTUXIGU
      XSCLUAVFZNHZQHZFZUAPVLZUYLUYDUYJUYKUXIUYSUYJUYDUYKUXIUYSIZIZUYJACLEVFZNHZ
      QHZFZEPVLZUYDVUAIZUYJAEPVUDVJZFVUFUYHVUHADEPUYGVUDDEVMUYFVUCCQUXOVUBLNUQV
      NVOVPEAPVUDVQVRVUEVUGEPUYKVUBPFZVUEGZUYDUYTUYKBCLUMVFZNHZQHZFZUMPVLZVUJUY
      DUYTIIZUYKBUMPVUMVJZFVUOUYHVUQBDUMPUYGVUMDUMVMUYFVULCQUXOVUKLNUQVNVOVPUMB
      PVUMVQVRVUNVUPUMPVUKPFZVUNGZVUJUYDUXIUYSVUSVUJUYDUTZUXIGVUBVUKMHZPFZUXSCL
      VVANHZQHZFZUYSVUTVVBUXIVUSVUJVVBUYDVURVUIVVBVUNVUEVUIVURVVBVUBVUKVSVTWAWB
      RVUSVUJUYDUXIVVEVUNVURVUJUYDUXIVVEIZIZIUYDVUNVURVUJVVFVUNUYDVURVUJVVFIIZU
      YDVUNVULCBWIZUYDVVHIZUYDVULOFVUNVVISLVUKNWCCVULBOOWDWJBVULWEZVVIVVJVULCBW
      FUYDVVKVVIVVHUYDVVKVVIGZVVHIUYDVUJVVLVURUYDVVFUYDVUIVUEVVLVURVVGIZIZUYDVU
      EVUIVVNUYDVUEVUCCAWIZVUIVVNIZUYDVUCOFVUEVVOSLVUBNWCCVUCAOOWDWJAVUCWEZVVOV
      VPVUCCAWFZVUIVVQVVOVVNVVQVUIVVOVVNIZVUIVVQVUIVVSIZVUIVVQGZUXJVUBKZVVTAVUB
      WGVWBVUIVVOVVNVVLVWBVUIVVOGZVVMVVKVVIVWBVWCVVMIIVURVVKVVIVWBVWCVVGVVKVURV
      VIVWBVWCVVGIZIZIZVURVVKVURVWFIZVURVVKGUXLVUKKZVWGBVUKWGVWHVURVVIVWEVURVVI
      GZVWEVWHVWBVWCUYDUXIADUXKUXJVUKMHZNHZUXQVCZVDZVVDFZIZIZIZIVWIVWQVWBVWCUYD
      UXIADVUBLMHZVVANHZUXOVUBVBHZBUCZVCZVDZVVDFZIZIZIVWIVWCUYDUXIVXDVWIVWCUYDU
      TZUXIGZVXDVVCCVXCWIZVXHVXIVUCVWSVDZCCVDZVXCWIZVXHVVOVWSCVXBWIZVUCVWSWHJKZ
      VXLVUIVVOVWIUYDUXIWKVXHVXACFZDVWSWLVXMVXHVXODVWSVWTVWRVUBVBHZVVAVUBVBHZNH
      ZFZVXHUXOVWSFZGZVXOVXTVXHVXSVXTVXHVXSIVXHVXTVXTVXSVXHVXTVXTVXSIVYAVXTVXSV
      YAVWRWTFZVVAWTFZUXOWTFZVUBWTFZGZVXTVXSSVXTVYBVXHUXOVWRVVAWMWNVXGVYCUXIVXT
      VWIVWCVYCUYDVURVUIVYCVVIVVOVUIVYEVUKWTFVYCVURVUBWOZVUKWOVUBVUKWPWQWAWBZWR
      VXTVXHVYFVXTVYDVXHVYEUXOVWRVVAWSVXGVYEUXIVWCVWIVYEUYDVUIVYEVVOVYGRXARZXBV
      TUXOVUBVWRVVAXCXDUGXEXFXGXHVXSVYAVVIVWTVULFZGZVXOVXSVYAVYKVXSVYAGVVIVYJVX
      HVVIVXSVXTVURVVIVWCUYDUXIUUAUUEVYAVXSVYJVYAVXRVULVWTVYAVXPLVXQVUKNVYAVUBX
      KFZLXKFZGZVXPLKVXGVYNUXIVXTVWIVWCVYNUYDVURVUIVYNVVIVVOVUIVURVYNVUIVYLVURV
      YMVUBXIZVYMVURUUBUSXBVTWAWBWRVUBLXJXLVYAVYLVUKXKFZGZVXQVUKKVXGVYQUXIVXTVW
      IVWCVYQUYDVURVUIVYQVVIVVOVUIVURVYQVUIVYLVURVYPVYOVUKXIXBVTWAWBWRVUBVUKXJX
      LXMXNUUCUUFXEVULCVWTBUUDXOUIUUGDVWSCVXAVXBVXBUUHUUIUUJVXHVUBOFVUBVWRXPXQZ
      VXNEUUKVXHVUBYDFZVYRVXGVYSUXIVWCVWIVYSUYDVUIVYSVVOVUBXRZRXARVUBUULXLOLVUB
      VWRVVAUUMXSVUCVWSCCAVXBUUNXDVXHVVCCVXJVXKVXCVXHVVAOFVUBVVCFZVVCVXJKVUBVUK
      MWCVXHWUAVYELVUBXTXQZVUBVVAXTXQZUTZVXHVYEWUBWUCVYIVXGUXIWUBVXGUXDWUBUXHUX
      DVXGWUBVXGUXDVUBYAUOZVXGWUBIVXGVUIVVQUXDWUESVWIVUIVVOUYDUUOVWCVWIVVQUYDVV
      OVVQVUIVVRWNXAVWAAJVUBYAAVUBUUPUUQYBWUEVXGVUBUURFZWUBWUEVXGWUFWUEVXGGVUIY
      AVUBXPXQZWUFVUIVVOVWIUYDWUEUUSVXGWUEWUGVWCVWIWUEWUGIZUYDVUIWUHVVOVUIYAVUB
      XTXQZWUEWUGVUBYCVUIWUIWUEGZWUGVUIYAYDFZVYSWUJWUGSUVGVYTWUKVYSGWUGWUJYAVUB
      UUTYEXSUGUVARXAXHVUBUVBUVCXEVUBUVDXOYFYOURYGVXHWUCYAVUKXTXQZVXGWULUXIVWIV
      WCWULUYDVURWULVVIVUKYCRUVERVXHVYSVUKYDFZGZWUCWULSVXGWUNUXIVWIVWCWUNUYDVUR
      VUIWUNVVIVVOVUIVURWUNVUIVYSVURWUMVYTVUKXRXBVTWAWBRWUNWULWUCVUBVUKUVFYEXLY
      HUVRVXHLWTFVYCWUAWUDSUVHVXGVYCUXIVYHRVUBLVVAUVIXSYHOVUBLVVAUVJXSCVXKKVXHV
      XKCCUVKUVLUSUVMYHVXHUYDVVCOFVXDVXISVWIVWCUYDUXIUVNLVVANWCCVVCVXCOOWDUVOYH
      YIVWBVWPVXFVWCVWBVWOVXEUYDVWBVWNVXDUXIVWBVWMVXCVVDVWBVWLVXBAVWBDVWKUXQVWS
      VXAVWBUXKVWRVWJVVANUXJVUBLMUJUXJVUBVUKMUJXMVWBUXPVWTBUXJVUBUXOVBUQUVPYJYK
      UKTTTUVQVWHVWDVWQVWBVWHVVGVWPVWCVWHVVFVWOUYDVWHVVEVWNUXIVWHUXSVWMVVDVWHUX
      RVWLAVWHDUXNUXQVWKUXQVWHUXMVWJUXKNUXLVUKUXJMUQVNVWHUXQUVSYJYKUKTTTTULYLXL
      XEYOUVTYGYMYLXLXEYOYMUIYFUWAUWBUWCXGYNUIYFYOUWDXHYPUYRVVEUAVVAPUYOVVAKZUY
      QVVDUXSWUOUYPVVCCQUYOVVALNUQVNXNUWEYBYIYQYRYMYQYRUWJYPUYLUXSUAPUYQVJZFUYS
      UYHWUPUXSDUAPUYGUYQDUAVMUYFUYPCQUXOUYOLNUQVNVOVPUAUXSPUYQVQVRUWFYIUYIUWOU
      YJUYBUYNUWNUYHAYSUYIUWPUYKUYAUYMUWNUYHBYSUYIUXTUYLUXIUWNUYHUXSYSTYTYTULUI
      UWGXGUWHUWIUWKYNUWLUWM $.
      $( [2-Feb-2014] $)
  $}

  $c -.c $.

  $( Extend class notation with the symbol ` -. ` . $)
  cnots $a class -.c $.


  $( Definition of the symbol ` -. ` .  Experimental. $)
  df-nots $a |- -.c = { <. 1 , 1 >. } $.

  $c /\c $.

  $( Extend class notation with the symbol ` /\ ` . $)
  cands $a class /\c $.

  $( Definition of the symbol ` /\ ` .  Experimental. $)
  df-ands $a |- /\c = { <. 1 , 2 >. } $.

  $c \/c $.

  $( Extend class notation with the symbol ` \/ ` . $)
  clors $a class \/c $.

  $( Definition of the symbol ` \/ ` .  Experimental. $)
  df-ors $a |- \/c = { <. 1 , 3 >. } $.

  $c =>c $.

  $( Extend class notation with the symbol ` -> ` . $)
  cimps $a class =>c $.

  $( Definition of the symbol ` -> ` .  Experimental. $)
  df-imps $a |- =>c = { <. 1 , 4 >. } $.

  $c <=>c $.

  $( Extend class notation with the symbol ` <-> ` . $)
  cbis $a class <=>c $.

  $( Definition of the symbol ` <-> ` .  Experimental. $)
  df-bis $a |- <=>c = { <. 1 , 5 >. } $.

  $c _|_c $.

  $( Extend class notation with the symbol _|_ . $)
  cfals $a class _|_c $.

  $( Definition of the symbol _|_ .  Experimental. $)
  df-fals $a |- _|_c = { <. 1 , 6 >. } $.

  $c phc $.

  $( Extend class notation with the symbol ` ph ` . $)
  cphc $a class phc $.


  $( Definition of the symbol ` ph ` .  Experimental. $)
  df-phc $a |- phc = { <. 1 , 7 >. } $.

  $c psc $.

  $( Extend class notation with the symbol ` ps ` . $)
  clpsc $a class psc $.


  $( Definition of the symbol ` ps ` .  Experimental. $)
  df-psc $a |- psc = { <. 1 , 8 >. } $.

  $( The variable ` phc ` belongs to the Kleene star of ` NN ` .  (Contributed
     by FL, 2-Feb-2014.) $)
  phckle $p |- phc e. ( Kleene ` NN ) $=
    ( vn cphc cn wcel c1 c7 csn cn0 cfz co cmap wf wf1o cr elisseti ax-mp mp2an
    wceq mpbir 7nn ckln cfv cop cv ciun wrex 1nn0 wss 1re f1osn wb cz fzsn eqid
    7re 1z f1oeq23 f1of snss mpbi fss oprex elmap opreq2 opreq2d eleq2d rcla4ev
    nnex eliun df-phc cvv isKleene eleq12i ) BCUAUBZDEFUCGZAHCEAUDZIJZKJZUEZDZV
    TVOVRDZAHUFZEHDVOCEEIJZKJZDZWBUGWEWCCVOLZWCFGZVOLZWGCUHZWFWCWGVOMZWHWJEGZWG
    VOMZEFENUIOFNUOOUJWCWKRZWGWGRWJWLUKEULDWMUPEUMPWGUNWCWKWGWGVOUQQSWCWGVOURPF
    CDWITFCFCTOUSUTWCWGCVOVAQCWCVOVHEEIVBVCSWAWEAEHVPERZVRWDVOWNVQWCCKVPEEIVDVE
    VFVGQAVOHVRVISBVOVNVSVJCVKDVNVSRVHACVKVLPVMS $.
    $( [2-Feb-2014] $)

  $( The variable ` psc ` belongs to the Kleene star of ` NN ` .  (Contributed
     by FL, 2-Feb-2014.) $)
  psckle $p |- psc e. ( Kleene ` NN ) $=
    ( vn clpsc cn wcel c1 c8 csn cn0 cfz co cmap wf wf1o cr elisseti wceq ax-mp
    mp2an mpbir 8nn ckln cfv cop cv ciun wrex 1nn0 wss 1re 8re f1osn wb cz fzsn
    1z eqid f1oeq23 f1of snss mpbi fss nnex oprex opreq2 opreq2d eleq2d rcla4ev
    elmap eliun df-psc cvv isKleene eleq12i ) BCUAUBZDEFUCGZAHCEAUDZIJZKJZUEZDZ
    VTVOVRDZAHUFZEHDVOCEEIJZKJZDZWBUGWEWCCVOLZWCFGZVOLZWGCUHZWFWCWGVOMZWHWJEGZW
    GVOMZEFENUIOFNUJOUKWCWKPZWGWGPWJWLULEUMDWMUOEUNQWGUPWCWKWGWGVOUQRSWCWGVOURQ
    FCDWITFCFCTOUSUTWCWGCVOVARCWCVOVBEEIVCVHSWAWEAEHVPEPZVRWDVOWNVQWCCKVPEEIVDV
    EVFVGRAVOHVRVISBVOVNVSVJCVKDVNVSPVBACVKVLQVMS $.
    $( [2-Feb-2014] $)


  $c Pc $.

  $( Extend class notation with a function that returns a propositional
     variable. $)
  cPc $a class Pc $.

  $( Function that returns a propositional variable.  Experimental. $)
  df-propvar $a |- Pc = ( x e. ( ZZ>= ` 7 ) |-> { <. 1 , x >. } ) $.

  $c notc $.

  $( Extend class notation with a function that returns a negated
     proposition. $)
  cnotc $a class notc $.

  $( Function that returns a negated proposition.  Experimental. $)
  df-notc $a |- notc = ( x e. ( ( Kleene ` NN ) ^m { 1 } ) |->
    ( -.c conc ( x ` 1 ) ) ) $.

  $c andc $.

  $( Extend class notation with the class of function that returns two
     propositions joined with ` /\ ` . $)
  candc $a class andc $.

  $( Function that returns two propositions joined with ` /\ ` .
     Experimental. $)
  df-andc $a |- andc = ( x e. ( ( Kleene ` NN ) ^m { 1 , 2 } )
    |-> ( ( /\c conc ( x ` 1 ) ) conc ( x ` 2 ) ) ) $.

  $c ors $.

  $( Extend class notation with the function that returns two propositions
     joined with ` \/ ` . $)
  cors $a class ors $.

  $( Function that returns two propositions joined with ` \/ ` .
     Experimental. $)
  df-orc $a |- ors = ( x e. ( ( Kleene ` NN ) ^m { 1 , 2 } )
    |-> ( ( \/c conc ( x ` 1 ) ) conc ( x ` 2 ) ) ) $.

  $c impc $.

  $( Extend class notation with the function that returns two propositions
     joined with ` -> ` . $)
  cimpc $a class impc $.

  $( Function that returns two propositions joined with ` -> ` .
     Experimental. $)
  df-impc $a |- impc = ( x e. ( ( Kleene ` NN ) ^m { 1 , 2 } )
    |-> ( ( =>c conc ( x ` 1 ) ) conc ( x ` 2 ) ) ) $.

  $c bic $.

  $( Extend class notation with the function that returns two propositions
     joined with ` <-> ` . $)
  cbic $a class bic $.

  $( Function that returns two propositions joined with ` <-> ` .
     Experimental. $)
  df-bic $a |- bic = ( x e. ( ( Kleene ` NN ) ^m { 1 , 2 } )
    |-> ( ( <=>c conc ( x ` 1 ) ) conc ( x ` 2 ) ) ) $.

  $c Prop $.

  $( Extend class notation to include the set of all propositioanl formulas. $)
  cprop $a class Prop $.

  $( The set of propositional formulas.  Gallier p. 32. $)
  df-prop $a |- Prop =
    ( ( ( Pc " ( ZZ>= ` 7 ) ) u. { _|_c } ) IndCls
      ( { notc , andc , ors } u. { impc , bic } ) ) $.

  ${
    $d x y $.
    $( The symbols and variables of ` Prop ` belong to the Kleene star of
       ` NN ` .  (Contributed by FL, 2-Feb-2014.) $)
    smbkle $p |- ( ( Pc " ( ZZ>= ` 7 ) ) u. { _|_c } )
      C_ ( Kleene ` NN ) $=
      ( vx vy cPc c7 cfv cima cfals csn cn c1 cop wceq wss cvv wcel a1i eqsstri
      cv ax-mp c6 cuz ckln cmpt df-propvar imaeq1i cdm dmmpt mprg imaeq2 eqcoms
      snexALT crn imadmrn wrex cab eqid rnmpt wral 7nn uznnssnn 1iskle syl rgen
      sseli wb uniiunlem mpbi eqsstrd df-fals 6nn eqeltri snex snss unssi ) CDU
      AEZFZGHZIUBEZVPAVOJARZKZHZUCZVOFZVRCWBVOAUDUEWBUFZVOLZWCVRMWANOZWEAVOAVOW
      ANUGWFVSVOOZVTUKPZUHWEWCWBWDFZVRWCWILVOWDVOWDWBUIUJWIVRMWEWIWBULZVRWBUMWJ
      BRWALAVOUNBUOZVRABVOWAWBWBUPUQWAVROZAVOURZWKVRMZWLAVOWGVSIOWLVOIVSDIOVOIM
      USDUTSVDVSVAVBVCWFWMWNVEAVOABVOWAVRNVFWHUHVGQQPVHSQGVROVQVRMGJTKZHZVRVITI
      OWPVROVJTVASVKGVRGWPNVIWOVLVKVMVGVN $.
      $( [2-Feb-2014] $)
  $}

  $( The interval ` ( 1 ... 2 ) ` in terms of its elements.  (Contributed by
     FL, 2-Feb-2014.) $)
  intset $p |- ( 1 ... 2 ) = { 1 , 2 } $=
    ( c1 c2 cfz co caddc cpr df-2 opreq2i cz wcel wceq fzpr ax-mp preq2i 3eqtri
    1z 1p1e2 ) ABCDAAAEDZCDZARFZABFBRACGHAIJSTKPALMRBAQNO $.
    $( [2-Feb-2014] $)


  ${
    $d f n $.
    $( The functions of ` Prop ` .  (Contributed by FL, 2-Feb-2014.) $)
    fnckle $p |- A. f e. ( { notc , andc , ors } u. { impc , bic } )
      E. n e. NN
      f e. ( ( Kleene ` NN ) ^m ( ( Kleene ` NN ) ^m ( 1 ... n ) ) ) $=
      ( vx cn c1 co cmap wcel cnotc candc cors cimpc cbic cconc wf ax-mp clscnc
      wceq mpbir c2 cv ckln cfv cfz wrex ctp cpr cun wo elun w3o visset 1nn csn
      eltp cnots cmpt wral cop df-nots 1iskle eqeltri fvex snexALT elmap biimpi
      snidg ffvelrn sylancl sylancr rgen eqid fmpt mpbi df-notc cz fzsn opreq2i
      oprex 1z eleq12i opreq2 opreq2d eleq2d rcla4ev mp2an eleq1 rexbidv mpbiri
      2nn cands df-ands prex prid1g prid2g syl11anc df-andc intset clors df-ors
      c3 3nn df-orc 3jaoi sylbi elpr cimps c4 df-imps 4nn w3a cle wa 2z 3pm3.2i
      wbr 1re leidi 2re 1lt2 ltleii pm3.2i elfz4 mpan2 df-impc wb mpteq1 eqeq2d
      simpl eleq1d rexbidva cbis c5 df-bis 5nn df-bic jaoi ) AUAZDUBUCZYSEBUAZU
      DFZGFZGFZHZBDUEZAIJKUFZLMUGZUHZYRUUHHYRUUFHZYRUUGHZUIUUEYRUUFUUGUJUUIUUEU
      UJUUIYRIRZYRJRZYRKRZUKUUEYRIJKAULZUOUUKUUEUULUUMUUKUUEIUUCHZBDUEZEDHZIYSY
      SEEUDFZGFZGFZHZUUPUMUVACYSEUNZGFZUPECUAZUCZNFZUQZYSUVCGFZHZUVIUVCYSUVGOZU
      VFYSHZCUVCURUVJUVKCUVCUVDUVCHZUPYSHUVEYSHZUVKUPEEUSUNZYSUTUUQUVNYSHUMEVAP
      VBUVLUVBYSUVDOZEUVBHZUVMUVLUVOYSUVBUVDDUBVCZEVDVEVFUUQUVPUMEDVGPUVBYSEUVD
      VHVIUPUVEDQVJVKCUVCYSUVFUVGUVGVLVMVNYSUVCUVGUVQYSUVBGVSVESIUVGUUTUVHCVOUU
      SUVCYSGUURUVBYSGEVPHZUURUVBRVTEVQPVRVRWASUUOUVABEDYTERZUUCUUTIUVSUUBUUSYS
      GUVSUUAUURYSGYTEEUDWBWCWCWDWEWFUUKUUDUUOBDYRIUUCWGWHWIUULUUEJUUCHZBDUEZTD
      HZJYSYSETUDFZGFZGFZHZUWAWJUWFCYSETUGZGFZWKUVENFZTUVDUCZNFZUQZYSUWHGFZHZUW
      NUWHYSUWLOZUWKYSHZCUWHURUWOUWPCUWHUVDUWHHZUWIYSHZUWJYSHZUWPUWQWKYSHUVMUWR
      WKETUSUNZYSWLUWBUWTYSHWJTVAPVBUWQUWGYSUVDOZEUWGHZUVMUWQUXAYSUWGUVDUVQETWM
      VEVFZUUQUXBUMETDWNPUWGYSEUVDVHVIZWKUVEDQVJUWQUXATUWGHZUWSUXCUWBUXEWJETDWO
      PUWGYSTUVDVHVIZUWIUWJDQWPVKCUWHYSUWKUWLUWLVLVMVNYSUWHUWLUVQYSUWGGVSZVESJU
      WLUWEUWMCWQUWDUWHYSGUWCUWGYSGWRVRZVRZWASUVTUWFBTDYTTRZUUCUWEJUXJUUBUWDYSG
      UXJUUAUWCYSGYTTEUDWBWCWCZWDWEWFUULUUDUVTBDYRJUUCWGWHWIUUMUUEKUUCHZBDUEZUW
      BKUWEHZUXMWJUXNCUWHWSUVENFZUWJNFZUQZUWMHZUXRUWHYSUXQOZUXPYSHZCUWHURUXSUXT
      CUWHUWQUXOYSHZUWSUXTUWQWSYSHUVMUYAWSEXAUSUNZYSWTXADHUYBYSHXBXAVAPVBUXDWSU
      VEDQVJUXFUXOUWJDQWPVKCUWHYSUXPUXQUXQVLVMVNYSUWHUXQUVQUXGVESKUXQUWEUWMCXCU
      XIWASUXLUXNBTDUXJUUCUWEKUXKWDWEWFUUMUUDUXLBDYRKUUCWGWHWIXDXEUUJYRLRZYRMRZ
      UIUUEYRLMUUNXFUYCUUEUYDUYCUUELUUCHZBDUEZUWBLUWEHZUYFWJUYGUWDYSLOZXGUVENFZ
      UWJNFZYSHZCUWDURUYHUYKCUWDUVDUWDHZUYIYSHZUWSUYKUYLUWCYSUVDOZUYMYSUWCUVDUV
      QETUDVSVEZUYNXGYSHUVMUYMXGEXHUSUNZYSXIXHDHUYPYSHXJXHVAPVBUYNEUWCHZUVMUVRT
      VPHZUVRXKEEXLXPZETXLXPZXMUYQUVRUYRUVRVTXNVTXOUYSUYTEXQXRETXQXSXTYAZYBEETY
      CWFZUWCYSEUVDVHZYDXGUVEDQVJXEUYLUYNUWSUYOUYNTUWCHZUWSUVRUYRUYRXKUYTTTXLXP
      ZXMVUDUVRUYRUYRVTXNXNXOUYTVUEVUATXSXRYBTETYCWFUWCYSTUVDVHYDXEZUYIUWJDQWPV
      KCUWDYSUYJLLCUWDUYJUQZRZLCUWHUYJUQZRZCYEUWDUWHRZVUHVUJYFUXHVUKVUGVUILCUWD
      UWHUYJYGYHPSVMVNYSUWDLUVQYSUWCGVSZVESUYEUYGBTDUXJUUCUWELUXKWDWEWFUYCUUDUY
      EBDUYCYTDHZXMYRLUUCUYCVUMYIYJYKWIUYDUUEMUUCHZBDUEZUWBMUWEHZVUOWJVUPUWDYSM
      OZYLUVENFZUWJNFZYSHZCUWDURVUQVUTCUWDUYLVURYSHZUWSVUTUYLYLYSHUVMVVAYLEYMUS
      UNZYSYNYMDHVVBYSHYOYMVAPVBUYLUYNUYQUVMUYLUYNUYOVFVUBVUCVIYLUVEDQVJVUFVURU
      WJDQWPVKCUWDYSVUSMMCUWDVUSUQZRZMCUWHVUSUQZRZCYPVUKVVDVVFYFUXHVUKVVCVVEMCU
      WDUWHVUSYGYHPSVMVNYSUWDMUVQVULVESVUNVUPBTDUXJUUCUWEMUXKWDWEWFUYDUUDVUNBDU
      YDVUMXMYRMUUCUYDVUMYIYJYKWIYQXEYQXEVK $.
      $( [2-Feb-2014] $)

    $( The functions of ` Prop ` .  (Contributed by FL, 2-Feb-2014.) $)
    fnckleb $p |- A. f e. ( { notc , andc , ors } u. { impc , bic } )
      ( Fun f /\ ran f C_ ( Kleene ` NN ) ) $=
      ( vn cv cn ckln cfv c1 cfz cmap wcel wrex cnotc candc cors ctp cimpc wral
      co wa sylbi cbic cpr cun wfun crn wss fnckle wf fvex oprex elmap wfn df-f
      fnfun anim1i rexlimivw ralimi ax-mp ) ACZDEFZUTGBCHRZIRZIRJZBDKZALMNOPUAU
      BUCZQUSUDZUSUEUTUFZSZAVEQABUGVDVHAVEVCVHBDVCVBUTUSUHZVHUTVBUSDEUIUTVAIUJU
      KVIUSVBULZVGSVHVBUTUSUMVJVFVGVBUSUNUOTTUPUQUR $.
      $( [2-Feb-2014] $)

  $}


  ${
    $d a f j n $.
    $( Propositional formulas are a subset of the Kleene star of ` NN ` .
       (Contributed by FL, 2-Feb-2014.) $)
    pfsubkl $p |- Prop C_ ( Kleene ` NN ) $=
      ( vj vf vx vy cfv cnotc candc cors cimpc cbic co wss wcel cvv cin wral wa
      wceq wo cconc va vn cprop cPc c7 cuz cima cfals csn cun ctp cpr clincl cn
      ckln df-prop cv cdm cxp cpw cab cint c1 cfz cmap wrex fvex smbkle indcls2
      fnckle mp3an sseq2 xpeq2 pweqd ineq2d eleq2 imbi12d ralbidv2 ralbidv elun
      eleq2d anbi12d w3o eltpg elin crn wfun fnckleb cnots df-notc oprex mptexg
      cmpt ax-mp eqeltri tpid1 orci mpbir funeq rneq sseq1d rcla4cva simprd a1i
      mp2an cmpfun fvelrn mpan sseldd adantr sylbi rgen ineq1d eleq1d mpbiri c2
      dmeq fveq1 cands df-andc tpid2 clors df-orc tpid3 3jaoi syl6bi elpr cimps
      pm2.43i visset df-impc prid1 olci cbis df-bic jaoi pm3.2i intmin3 eqsstri
      prid2 ) UCUDUEUFEUGUHUIUJZFGHUKZIJULZUJZUMKZUNUOEZUPUUEUUAUAUQZLZAUQZBUQZ
      EZUUGMZAUUJURZNUUGUSZUTZOZPZBUUDPZQZUAVAVBZUUFUUFNMZUUAUUFLZUUJUUFUUFVCUB
      UQVDKVEKVEKMUBUNVFBUUDPUUEUUTRUNUOVGZVHBUBVJNUUFBAUBUUDUUAUAVIVKUVAUUTUUF
      LUVCUUSUVBUUKUUFMZAUUMNUUFUSZUTZOZPZBUUDPZQUAUUFNUUGUUFRZUUHUVBUURUVIUUGU
      UFUUAVLUVJUUQUVHBUUDUVJUULUVDAUUPUVGUVJUUIUUPMUUIUVGMZUULUVDUVJUUPUVGUUIU
      VJUUOUVFUUMUVJUUNUVEUUGUUFNVMVNVOWAUUGUUFUUKVPVQVRVSWBUVBUVIVHUVHBUUDUUJU
      UDMUUJUUBMZUUJUUCMZSUVHUUJUUBUUCVTUVLUVHUVMUVLUVHUVLUVLUUJFRZUUJGRZUUJHRZ
      WCUVHUUJFGHUUBWDUVNUVHUVOUVPUVNUVHUUIFEZUUFMZAFURZUVFOZPUVRAUVTUUIUVTMZUU
      IUVSMZUUIUVFMZQUVRUUIUVSUVFWEUWBUVRUWCUWBFWFZUUFUVQUWDUUFLZUWBUUJWGZUUJWF
      ZUUFLZQZBUUDPZFUUDMZUWEBWHZUWKFUUBMZFUUCMZSUWMUWNFGHFCUUFVCUIZVEKZWIVCCUQ
      ZEZTKZWMZNCWJZUWPNMUWTNMUUFUWOVEWKCUWPUWSNWLWNWOWPWQFUUBUUCVTWRUWJUWKQFWG
      ZUWEUWIUXBUWEQBFUUDUVNUWFUXBUWHUWEUUJFWSUVNUWGUWDUUFUUJFWTXAWBXBXCXEXDUXB
      UWBUVQUWDMCUWPUWSFUXAXFUUIFXGXHXIXJXKXLUVNUVDUVRAUVGUVTUVNUVKUWAUVDUVRUVN
      UVGUVTUUIUVNUUMUVSUVFUUJFXQXMWAUVNUUKUVQUUFUUIUUJFXRXNVQVRXOUVOUVHUUIGEZU
      UFMZAGURZUVFOZPUXDAUXFUUIUXFMZUUIUXEMZUWCQUXDUUIUXEUVFWEUXHUXDUWCUXHGWFZU
      UFUXCUXIUUFLZUXHUWJGUUDMZUXJUWLUXKGUUBMZGUUCMZSUXLUXMFGHGDUUFVCXPULZVEKZX
      SVCDUQZEZTKXPUXPEZTKZWMZNDXTZUXONMZUXTNMUUFUXNVEWKZDUXOUXSNWLWNWOYAWQGUUB
      UUCVTWRUWJUXKQGWGZUXJUWIUYDUXJQBGUUDUVOUWFUYDUWHUXJUUJGWSUVOUWGUXIUUFUUJG
      WTXAWBXBXCXEXDUYDUXHUXCUXIMDUXOUXSGUYAXFUUIGXGXHXIXJXKXLUVOUVDUXDAUVGUXFU
      VOUVKUXGUVDUXDUVOUVGUXFUUIUVOUUMUXEUVFUUJGXQXMWAUVOUUKUXCUUFUUIUUJGXRXNVQ
      VRXOUVPUVHUUIHEZUUFMZAHURZUVFOZPUYFAUYHUUIUYHMZUUIUYGMZUWCQUYFUUIUYGUVFWE
      UYJUYFUWCUYJHWFZUUFUYEUYKUUFLZUYJUXPWGZUXPWFZUUFLZQZDUUDPZHUUDMZUYLDWHZUY
      RHUUBMZHUUCMZSUYTVUAFGHHDUXOYBUXQTKUXRTKZWMZNDYCUYBVUCNMUYCDUXOVUBNWLWNWO
      YDWQHUUBUUCVTWRUYQUYRQHWGZUYLUYPVUDUYLQDHUUDUXPHRZUYMVUDUYOUYLUXPHWSVUEUY
      NUYKUUFUXPHWTXAWBXBXCXEXDVUDUYJUYEUYKMCUXOYBUWRTKXPUWQETKHCYCXFUUIHXGXHXI
      XJXKXLUVPUVDUYFAUVGUYHUVPUVKUYIUVDUYFUVPUVGUYHUUIUVPUUMUYGUVFUUJHXQXMWAUV
      PUUKUYEUUFUUIUUJHXRXNVQVRXOYEYFYIUVMUUJIRZUUJJRZSUVHUUJIJBYJYGVUFUVHVUGVU
      FUVHUUIIEZUUFMZAIURZUVFOZPVUIAVUKUUIVUKMZUUIVUJMZUWCQVUIUUIVUJUVFWEVUMVUI
      UWCVUMIWFZUUFVUHVUNUUFLZVUMUYQIUUDMZVUOUYSVUPIUUBMZIUUCMZSVURVUQIJIDUXOYH
      UXQTKUXRTKZWMZNDYKZUYBVUTNMUYCDUXOVUSNWLWNWOYLYMIUUBUUCVTWRUYQVUPQIWGZVUO
      UYPVVBVUOQDIUUDUXPIRZUYMVVBUYOVUOUXPIWSVVCUYNVUNUUFUXPIWTXAWBXBXCXEXDVVBV
      UMVUHVUNMDUXOVUSIVVAXFUUIIXGXHXIXJXKXLVUFUVDVUIAUVGVUKVUFUVKVULUVDVUIVUFU
      VGVUKUUIVUFUUMVUJUVFUUJIXQXMWAVUFUUKVUHUUFUUIUUJIXRXNVQVRXOVUGUVHUUIJEZUU
      FMZAJURZUVFOZPVVEAVVGUUIVVGMZUUIVVFMZUWCQVVEUUIVVFUVFWEVVIVVEUWCVVIJWFZUU
      FVVDVVJUUFLZVVIUWJJUUDMZVVKUWLVVLJUUBMZJUUCMZSVVNVVMIJJDUXOYNUXQTKUXRTKZW
      MZNDYOZUYBVVPNMUYCDUXOVVONWLWNWOYTYMJUUBUUCVTWRUWJVVLQJWGZVVKUWIVVRVVKQBJ
      UUDVUGUWFVVRUWHVVKUUJJWSVUGUWGVVJUUFUUJJWTXAWBXBXCXEXDVVRVVIVVDVVJMDUXOVV
      OJVVQXFUUIJXGXHXIXJXKXLVUGUVDVVEAUVGVVGVUGUVKVVHUVDVVEVUGUVGVVGUUIVUGUUMV
      VFUVFUUJJXQXMWAVUGUUKVVDUUFUUIUUJJXRXNVQVRXOYPXKYPXKXLYQYRWNYSYS $.
      $( [2-Feb-2014] $)
  $}

  ${
    $d f n $.
    $( Propositional variables are propositions .  (Contributed by FL,
       2-Feb-2014.) $)
    pvp $p |- ( Pc " ( ZZ>= ` 7 ) ) C_ Prop $=
      ( vf vn cPc c7 cuz cfv cima cprop wss cfals csn wa cun co cn ckln wcel cv
      cvv cmap cnotc candc cors ctp cimpc cbic cpr clincl c1 cfz wrex wral fvex
      smbkle fnckle xindcls mp3an df-prop sseqtr4i unss mpbir simpli ) CDEFGZHI
      ZJKZHIZVDVFLVCVEMZHIVGVGUAUBUCUDUEUFUGMZUHNZHOPFZSQVGVJIARVJVJUIBRUJNTNTN
      QBOUKAVHULVGVIIOPUMUNABUOSVJABVHVGUPUQURUSVCVEHUTVAVB $.
      $( [2-Feb-2014] $)

  $}

  ${
    $d x y N $.
    $( Condition to be a propositional variable.  (Contributed by FL,
       2-Feb-2014.) $)
    cndpv $p |- ( ( N e. ZZ /\ 7 <_ N )
      -> { <. 1 , N >. } e. ( Pc " ( ZZ>= ` 7 ) ) ) $=
      ( vx vy cPc cdm c7 cuz wceq cz wcel c1 cop csn cima cv snexALT df-propvar
      wrex ax-mp syl6eleqr cfv cle wbr wa cvv wral a1i rgen cmpdom mpbi crn cab
      wi 7nn nnz eluz1i biimpri eqidd opeq2 sneqd eqeq2d rcla4ev syl11anc eqeq1
      cn rexbidv elab sylibr rnmpt imadmrn imaeq2 eqcoms eleq2d syl5ibr ) DEZFG
      UAZHZAIJFAUBUCUDZKALZMZDVPNZJZUMKBOZLZMZUEJZBVPUFVQWFBVPWFWCVPJWDPUGUHBVP
      WEDBQUIUJVRWBVQVTDVONZJVRVTDUKZWGVRVTWCKCOZLZMZHZCVPRZBULZWHVRVTWKHZCVPRZ
      VTWNJVRAVPJZVTVTHZWPWQVRFAFVEJFIJUNFUOSUPUQVRVTURWOWRCAVPWIAHZWKVTVTWSWJV
      SWIAKUSUTVAVBVCWMWPBVTVSPWCVTHWLWOCVPWCVTWKVDVFVGVHCBVPWKDCQVITDVJTVQWAWG
      VTWAWGHVPVOVPVODVKVLVMVNS $.
      $( [2-Feb-2014] $)
  $}

  $( ` phc ` is a propositional formula.  (Contributed by FL, 2-Feb-2014.) $)
  phpf $p |- phc e. Prop $=
    ( cPc c7 cuz cfv cima cprop cphc pvp c1 cop csn df-phc wcel cle wbr 7nn nnz
    cz cn ax-mp 7re leidi cndpv mp2an eqeltri sselii ) ABCDEZFGHGIBJKZUGLBRMZBB
    NOUHUGMBSMUIPBQTBUAUBBUCUDUEUF $.
    $( [2-Feb-2014] $)


  $( ` psc ` is a propositional formula.  (Contributed by FL, 2-Feb-2014.) $)
  pspf $p |- psc e. Prop $=
    ( cPc c7 cuz cfv cima cprop clpsc pvp c1 c8 cop csn df-psc wcel cle wbr 8nn
    cz cn nnz ax-mp 7re 8re 7lt8 ltleii cndpv mp2an eqeltri sselii ) ABCDEZFGHG
    IJKLZUJMJRNZBJOPUKUJNJSNULQJTUABJUBUCUDUEJUFUGUHUI $.
    $( [2-Feb-2014] $)

  ${
    $d a f j n $.  $d n x $.  $d x y $.
    $( ` ( ph /\ ps ) ` is a propositional formula.  We use variables.
       (Contributed by FL, 2-Feb-2014.) $)
    pgapspf $p |- ( ( /\c conc phc ) conc psc )
    e. Prop $=
      ( vx vn vy cphc cconc co clpsc cPc c7 cfv csn candc wcel wss cvv c1 ax-mp
      c2 wceq c8 va vj vf vz cands cuz cima cfals cun cnotc cors ctp cimpc cbic
      cpr clincl cprop cv cdm cxp cpw cin wral wa cab cint wi oprex elintab cop
      cn ckln cmap df-pr wf c0 wf1o cr 1re elisseti df-phc snexALT eqeltri f1of
      f1osn phckle snss mpbi fss mp2an df-psc psckle sylancl pm3.2i mpbir elmap
      2re 1ne2 a1i fveq1 syl6eq df-andc sylancr cmpt dmeq eleq2d eleq1d rcla4va
      syl w3a wb sylibr dmmpt mprg xpsn ssv wrex cz cle wbr nnz eluz1i mpbir2an
      7re opeq2 sneqd eqeq2d rcla4ev adantr rexbidva df-propvar sseqtr4i eqcoms
      eqeq1 rnmpt sstr2 sylbir xpss12 syl5eqssr mpgbir wne disjsn2 unidm eqcomi
      fun feq23i fvex prex fvpr1 opreq2d fvpr2 fvmptg mptexg tpid2 elun1 ineq1d
      opreq12d imbi12d ralbidv2 3pm3.2i feq123 mpbird syl6eleqr unss leidi elab
      crn 7nn snssi imadmrn eqeq1d imaeq2 syl6bi mp2 ssab 8nn 8re ltleii mpbiri
      elsn 7lt8 sylbi mp2b unssd unex elpw syl5eqel elin sylanbrc fveq2 syl5com
      ex mpan impcom eqeltrrd cfz smbkle fnckle indcls2 mp3an df-prop eleqtrri
      ) UEDEFZGEFZHIUFJZUGZUHKZUIZUJLUKULZUMUNUOZUIZUPFZUQUXDUXLMZUXDUXHUAURZNZ
      UBURZUCURZJZUXNMZUBUXQUSZOUXNUTZVAZVBZVCZUCUXKVCZVDZUAVEVFZMZUYHUYFUXDUXN
      MVGUAUYFUAUXDUXCGEVHZVIUYFPDVJZRGVJZUOZLJZUXDUXNUYFUYLVKVLJZPRUOZVMFZMZUX
      DOMZUYMUXDSUYLUYJKZUYKKZUIZUYPUYJUYKVNZVUAUYPMUYOUYNVUAVOZVUCPKZRKZUIZUYN
      UYNUIZVUAVOZVUDUYNUYSVOZVUEUYNUYTVOZVDZVUDVUEVBVPSZVUHVUIVUJVUDDKZUYSVOZV
      UMUYNNZVUIVUDVUMUYSVQVUNPDPVRVSVTZDPIVJZKZOWAVUQWBWCZWEVUDVUMUYSWDQDUYNMV
      UOWFDUYNVUSWGWHVUDVUMUYNUYSWIWJVUEGKZUYTVQZVUJRGRVRWQVTZGPTVJZKZOWKVVCWBW
      CZWEVVAVUEVUTUYTVOVUTUYNNZVUJVUEVUTUYTWDGUYNMVVFWLGUYNVVEWGWHVUEVUTUYNUYT
      WIWMQWNZPRUUAZVULWRPRUUBQZVUDVUEUYNUYNUYSUYTUUEZWJUYOUYNVUFVUGVUAPRVNZVUG
      UYNUYNUUCUUDZUUFWOUYNUYOVUAVKVLUUGZPRUUHZWPWOWCUYRUYFUYIWSAUYLUEPAURZJZEF
      ZRVVOJZEFUXDUYPOLVVOUYLSZVVQUXCVVRGEVVSVVPDUEEVVSVVPPUYLJZDPVVOUYLWTVVHVV
      TDSWRPRDGVUPVUSUUIQXAUUJVVSVVRRUYLJZGRVVOUYLWTVVHVWAGSWRPRDGVVBVVEUUKQXAU
      UQAXBUULXCUYEUXOUYMUXNMZLUXKMZUYEUXOVWBVGLUXIMVWCUJLUKLUDUYPUEPUDURZJEFZR
      VWDJZEFZXDZOUDXBZUYPOMVWHOMUYNUYOVMVHUDUYPVWGOUUMQWCUUNLUXIUXJUUOQVWCUYEV
      DUXPLJZUXNMZUBLUSZUYBVBZVCZUXOVWBUYDVWNUCLUXKUXQLSZUXSVWKUBUYCVWMVWOUXPUY
      CMUXPVWMMUXSVWKVWOUYCVWMUXPVWOUXTVWLUYBUXQLXEUUPXFVWOUXRVWJUXNUXPUXQLWTXG
      UURUUSXHUXOUYLVWMMZVWNVWBVGUXOUYLVWLMUYLUYBMVWPUXOUYLUYPVWLUXOUYOUYNUYLVO
      ZUYQUXOVWQVUHUXOVUKVULVDZVUHVWRUXOVUKVULVVGVVIWNWSVVJXIUXOUYLVUASZUYOVUFS
      ZUYNVUGSZXJZVWQVUHXKVXBUXOVWSVWTVXAVUBVVKVVLUUTWSUYOUYNVUFVUGUYLVUAUVAXIU
      VBUYNUYOUYLVVMVVNWPXLLVWHSZVWLUYPSVWIVXCVWLVWHUSZUYPLVWHXEVWGOMZVXDUYPSUD
      UYPUDUYPVWGOXMVXEVWDUYPMVWEVWFEVHWSXNXAQUVCUXOUYLVUAUYBVUBUXOVUAUYANVUAUY
      BMUXOUYSUYTUYAUXOUYSVUDVUMUTZUYAPDVUPVUSXOUXOVUDONVUMUXNNZVXFUYANVUDXPUXO
      UXFUXNNZUXGUXNNZVDZVXGUXFUXGUXNUVDZVXHVXGVXIVUMUXFNVXHVXGVGVUMHHUSZUGZUXF
      VUMHUVGZVXMVUMVVOPBURZVJZKZSZBUXEXQZAVEZVXNDVXTMZVUMVXTNVYADVXQSZBUXEXQZI
      UXEMZDVURSZVYCVYDIXRMZIIXSXTIIIVKMVYFUVHIYAQZYBVYGIYDUVEYCWAVYBVYEBIUXEVX
      OISZVXQVURDVYHVXPVUQVXOIPYEYFYGYHWJVXSVYCADVUSVVODSZVXRVYBBUXEVYIVXRVYBXK
      VXOUXEMVVODVXQYNYIYJUVFWODVXTUVIQBAUXEVXQHBYKYOYLHUVJZYLHAUXEPVVOVJZKZXDZ
      SZVYMUSZUXESZUXFVXMSZAYKZVYLOMZVYPAUXEAUXEVYLOXMVYSVVOUXEMVYKWBWSXNZVYNVY
      PVXLUXESZVYQVYNVYOVXLUXEVYOVXLSVYMHVYMHXEYMUVKVYQUXEVXLUXEVXLHUVLYMZUVMUV
      NYLVUMUXFUXNYPQYIYQVUDOVUMUXNYRXCYSUXOUYTVUEVUTUTZUYARGVVBGUYNWLVTXOUXOVU
      EONVUTUXNNZWUCUYANVUEXPUXOVXJWUDVXKVXHWUDVXIVUTUXFNVXHWUDVGVUTVXMUXFVUTVX
      NVXMVUTVVOPCURZVJZKZSZCUXEXQZAVEZVXNVUTWUJNVVOVUTMZWUIVGAWUIAVUTUVOWUKVVO
      GSZWUIAGUVTWULWUIGWUGSZCUXEXQZTUXEMZGVVDSZWUNWUOTXRMZITXSXTITVYGYBTVKMWUQ
      UVPTYAQITYDUVQUWAUVRYCWKWUMWUPCTUXEWUETSZWUGVVDGWURWUFVVCWUETPYEYFYGYHWJW
      ULWUHWUMCUXEWULWUHWUMXKWUEUXEMVVOGWUGYNYIYJUVSUWBYTCAUXEWUGHCYKYOYLVYJYLV
      YNWUAVYQVYRVYNVXLVYOUXEHVYMXEVYTXAWUBUWCYLVUTUXFUXNYPQYIYQVUEOVUTUXNYRXCY
      SUWDVUAUYAUYSUYTUYJWBUYKWBUWEUWFXLUWGUYLVWLUYBUWHUWIVWPVWNVWBVWKVWBUBUYLV
      WMUXPUYLSVWJUYMUXNUXPUYLLUWJXGXHUWLXIUWKUWMUWNUWOYTUYNOMZUXHUYNNZUXQUYNUY
      NPVXOUWPFVMFVMFMBVKXQUCUXKVCZUXMUYHXKVVMUWQUCBUWRWUSWUTWVAXJUXLUYGUXDOUYN
      UCUBBUXKUXHUAUWSXFUWTWOUXAUXB $.
      $( [2-Feb-2014] $)
  $}

  ${
    $d a f j n $.  $d a j p q P $.  $d a f j y $.  $d a j q Q $.  $d p q x $.
    $( ` ( ph /\ ps ) ` is a propositional formula.  Here we use
       meta-variables.  (Contributed by FL, 2-Feb-2014.) $)
    pgapspf2 $p |- ( ( P e. Prop /\ Q e. Prop ) ->
      ( ( /\c conc P ) conc Q ) e. Prop ) $=
      ( va vj vf cprop wcel wa cconc co cfv candc cv cvv wi cn c1 wb c2 wceq vy
      vx vq vp vn cands cPc c7 cuz cima cfals csn cun cnotc cors ctp cimpc cbic
      cpr clincl wss cdm cxp cpw cin wral cab cint ckln cmap wrex smbkle fnckle
      wal cfz fvex indcls2 eleq2d mp3an elintabg 19.26 pm3.43 pm2.27 wo df-andc
      w3a cmpt oprex mptexg ax-mp eqeltri tpid2 orci elun fveq1 eleq1d rcla4cva
      imbi12d cop eleq1 anbi2d anbi1d 3anbi23d opeq2 fveq2d opreq2 eqeq12d 1ne2
      wel 1nn elisseti 2nn visset pfsubkl sseli anim12i 3ad2ant3 fss pm3.2i a1i
      wf elmapg syl mpbird syl6eq pm2.43i adantl prssg mpbid syl6eleqr ex com3r
      expcom com3l syl6bi sylbi df-prop eleq2s pm2.43b sylibr mpbir dmeq ineq1d
      ralbidv2 preq1d opreq1d preq2d wne prss sylib sylancr fvpr1 opreq2d fvpr2
      fpr prex opreq12d fvmptg sylancl vtocl2g dmeqi dmmpt mprg eqtr simpr fprg
      syl111anc ssin pm3.22 adantr mpbi2and syl11anc inex1 ineq1 imbi2d syl5ibr
      selsubf3 mp2an fveq2 syl6 3imp eqeltrrd 3exp mpan2 syld alimdv sylbir imp
      com12 com23 elintab ) AFGZBFGZHZUFAIJZBIJZUGUHUIKUJUKULUMZUNLUOUPZUQURUSZ
      UMZUTJZFUWNUWPUWQCMZVAZDMZEMZKZUXBGZDUXEVBZNUXBVCVDZVEZVFZEUWTVFZHZCVGVHZ
      GZUWPUXAGZUWNUXMUWPUXBGZOZCVNZUXOUWLUWMUXSUWLUWMUXSOZUWLUWLUXTUWLUWLUXTOZ
      OZAUXAFAUXAGZAUXNGZUYBPVIKZNGZUWQUYEVAZUXEUYEUYEQUAMVOJVJJVJJGUAPVKEUWTVF
      ZUYCUYDRPVIVPZVLEUAVMZUYFUYGUYHWFZUXAUXNANUYEEDUAUWTUWQCVQZVRVSUWLUYDUWLU
      XTUWLUYDUXMAUXBGZOZCVNZUYAUXMCAFVTUWMUYOUWLUXSUWMUYOUWLUXSOZOZUWMUWMUYQUW
      MUWMUYQOZOZBUXAFBUXAGZBUXNGZUYSUYFUYGUYHUYTVUARUYIVLUYJUYKUXAUXNBUYLVRVSU
      WMVUAUWMUYQUWMVUAUXMBUXBGZOZCVNZUYRUXMCBFVTVUDUYOUWMUYPVUDUYOUWMUYPOZVUDU
      YOHVUCUYNHZCVNZVUEVUCUYNCWAUWMUWLVUGUXSUWLUWMVUGUXSOUWNVUFUXRCVUFUWNUXRVU
      FUXMVUBUYMHZOZUWNUXROUXMVUBUYMWBUXMVUIUWNUXQUXMVUIVUHUWNUXQOZUXMVUHWCUXLV
      UHVUJOZUXCUXLLUWTGZVUKVULLUWRGZLUWSGZWDVUMVUNUNLUOLUBUYEQSUSZVJJZUFQUBMZK
      ZIJZSVUQKZIJZWGZNUBWEZVUPNGVVBNGUYEVUOVJWHUBVUPVVANWIWJWKWLWMLUWRUWSWNUUA
      UXLVULHUXDLKZUXBGZDLVBZUXIVEZVFZVUKUXKVVHELUWTUXELTZUXGVVEDUXJVVGVVIUXDUX
      JGUXDVVGGUXGVVEVVIUXJVVGUXDVVIUXHVVFUXIUXELUUBUUCVRVVIUXFVVDUXBUXDUXELWOW
      PWRUUDWQVVHVUHUWNUXQVVHVUHUWNWFZQAWSZSBWSZUSZLKZUWPUXBVVJVVNUWPTZUWNVVHVV
      JVVOOZVUHVVHUCCXIZUDCXIZHZUDMZFGZUCMZFGZHZWFZQVVTWSZSVWBWSZUSZLKZUFVVTIJZ
      VWBIJZTZOVVHVVQUYMHZUWLVWCHZWFZVVKVWGUSZLKZUWOVWBIJZTZOVVPUDUCABFFVVTATZV
      WEVWOVWLVWSVWTVVSVWMVWDVWNVVHVWTVVRUYMVVQVVTAUXBWTXAVWTVWAUWLVWCVVTAFWTXB
      XCVWTVWIVWQVWKVWRVWTVWHVWPLVWTVWFVVKVWGVVTAQXDUUEXEVWTVWJUWOVWBIVVTAUFIXF
      UUFXGWRVWBBTZVWOVVJVWSVVOVXAVWMVUHVWNUWNVVHVXAVVQVUBUYMVWBBUXBWTXBVXAVWCU
      WMUWLVWBBFWTXAXCVXAVWQVVNVWRUWPVXAVWPVVMLVXAVWGVVLVVKVWBBSXDUUGXEVWBBUWOI
      XFXGWRVWEVWHVUPGZVWKNGVWLVWEVXBVUOUYEVWHYAZVWEVUOVVTVWBUSZVWHYAZVXDUYEVAZ
      VXCQSUUHZVXEXHQSVVTVWBQPXJXKZSPXLXKZUDXMZUCXMZUUOWJVWEVVTUYEGZVWBUYEGZHZV
      XFVWDVVHVXNVVSVWAVXLVWCVXMFUYEVVTXNXOFUYEVWBXNXOXPXQVVTVWBUYEVXJVXKUUIUUJ
      VUOVXDUYEVWHXRUUKVWEUYFVUONGZHZVXBVXCRVXPVWEUYFVXOUYIQSUUPZXSXTUYEVUOVWHN
      NYBYCYDVWJVWBIWHUBVWHVVAVWKVUPNLVUQVWHTZVUSVWJVUTVWBIVXRVURVVTUFIVXRVURQV
      WHKZVVTQVUQVWHWOVXGVXSVVTTXHQSVVTVWBVXHVXJUULWJYEUUMVXRVUTSVWHKZVWBSVUQVW
      HWOVXGVXTVWBTXHQSVVTVWBVXIVXKUUNWJYEUUQVVCUURUUSUUTXQYFVVHVUHUWNVVNUXBGZV
      UHUWNVVHVYAVUHUWNVVMVVGGZVVHVYAOVVFVVBVBZTZVYCVUPTZVUHUWNVYBOZOZLVVBVVCUV
      AVVANGZVYEUBVUPUBVUPVVANUVBVYHVUQVUPGVUSVUTIWHXTUVCVYDVYEHVVFVUPTZVYGVVFV
      YCVUPUVDVUHVYFVYIUWNVVMVUPUXIVEZGZOVUHUWNVYKVUHUWNHZVVMUYEUXBVEZVUOVJJZVY
      JVYLVVMVYNGZVUOVYMVVMYAZVYLVUOABUSZVVMYAZVYQVYMVAZVYPVYLQPGZSPGZHZUWNVXGV
      YRWUBVYLVYTWUAXJXLXSXTVUHUWNUVEVXGVYLXHXTQSABPPFFUVFUVGVYLVYQUYEVAZVYQUXB
      VAZVYSWUCWUDHVYSRVYLVYQUYEUXBUVHXTVYLAUYEGZBUYEGZHZWUCUWNWUGVUHUWLWUEUWMW
      UFFUYEAXNXOFUYEBXNXOXPYGUWNWUGWUCRVUHABUYEFFYHYGYIVYLUYMVUBHZWUDVUHWUHUWN
      VUBUYMUVIUVJUWNWUHWUDRVUHABUXBFFYHYGYIUVKVUOVYQVYMVVMXRUVLVYLVYMNGZVXOHZV
      YOVYPRWUJVYLWUIVXOUYEUXBUYIUVMVXQXSXTVYMVUOVVMNNYBYCYDUYEUXBVUOUYIVXQUVQY
      JYKVYIVYBVYKUWNVYIVVGVYJVVMVVFVUPUXIUVNVRUVOUVPYCUVRVVHVYBVYAVVEVYADVVMVV
      GUXDVVMTVVDVVNUXBUXDVVMLUVSWPWQYMUVTYLUWAUWBUWCYCUWDYGUWEYNYCUWIUWFYMYLUW
      GYKUWJYOYNYPYQYRYSYFYNYOYNYPYQYRYSYFUWHUXMCUWPUWOBIWHUWKYTUYFUYGUXEUYEUYE
      QUEMVOJVJJVJJGUEPVKEUWTVFZUXPUXORUYIVLEUEVMUYFUYGWUKWFUXAUXNUWPNUYEEDUEUW
      TUWQCVQVRVSYTYQYJ $.
      $( [2-Feb-2014] $)
  $}

  $c derv $.

  $( Extend class notation with the relation "derives in one step". $)
  cderv $a class derv $.

  ${
    $d g x y u v p q $.
    $( The relation ` u ` derives ` v ` in one step in the grammar ` g ` .
       Experimental. $)
    df-derv $a |- derv = ( g e. Grammar |-> { <. x , y >. | ( x e. (
     Kleene ` g ) /\ y e. ( Kleene ` g ) /\ E. u e. ( Kleene ` g ) E. v
     e. ( Kleene ` g ) E. p e. ( Kleene ` g ) E. q e. ( Kleene ` g ) ( x =
     ( ( u ( conc ` g ) p ) ( conc ` g ) v ) /\ <. p , q >. e. (
     prdct ` g ) /\ y = ( ( u ( conc ` g ) q ) ( conc ` g ) v ) ) ) }
     ) $.
  $}

$( (End of FL's mathbox.) $)



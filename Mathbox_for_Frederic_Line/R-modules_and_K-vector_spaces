$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
              R-modules and K-vector spaces
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c Vec $.

  $( Extend class notation with the class of all K-vector spaces
     and all R-modules and all R-left modules. $)
  cvec $a class Vec $.

  ${ $d g h s a b u x v y $.
    $( Definition of a vector space ( ` <. g , h >. ` is a field ), or
    of a module ( ` <. g , h >. ` is a commutative ring ) or of a unitary left
    module ( `  <. g , h >.  ` is a unitary ring ).   Experimental.  Don't use
    for the moment. $)
    df-vec $a |- Vec = { z | E. g E. h E. a E. b
     ( z = <. <. g , h >. , <. a , b >. >. /\ ( <. g , h >. e. Fld
       /\ ( a e. Abel
         /\ b : ( ran g X. ran a ) --> ran a
         /\ A. u e. ran a ( ( ( Id ` h ) b u ) = u /\ A. x e. ran g
           ( A. v e. ran a  ( x b ( u a  v ) ) = ( ( x b u ) a ( x b v ) )
              /\ A. y e. ran g ( ( ( x g y ) b u ) = ( ( x b u ) a ( y b u ) )
              /\   ( ( x h y ) b u ) = ( x b ( y b u ) ) ) ) ) ) ) ) } $.
  $}



  ${
    $d f g t u v w y z $. $d v w x y z $.
    $( Structure of a vector space. $)
    strvec $p |- Vec (_ ( ( V X. V ) X. ( V X. V ) ) $=
      ( vx vy vz vv vw vg vu vf vt cvec cv cop wceq cfld wcel cabl crn cxp wf
      cgi cfv co wral wa w3a wex cab cvv df-vec stcat eqsstri ) JAKBKZCKZLZDKZE
      KZLLMUNNOUOPOULQZUOQZRURUPSUMTUAFKZUPUBUSMGKZUSHKZUOUBUPUBUTUSUPUBZUTVAUP
      UBUOUBMHURUCUTIKZULUBUSUPUBVBVCUSUPUBZUOUBMUTVCUMUBUSUPUBUTVDUPUBMUDIUQUC
      UDGUQUCUDFURUCUEUDZUDEUFDUFCUFBUFAUGUHUHRZVFRGIAHFBCDEUIVEABCEDUJUK $.
      $( [11-Jul-2010] $) $( [11-Jul-2010] $)
  $}


  $( The class of all the vector spaces is a relation. $)
  vecrel $p |- Rel Vec $=
    ( cvec wrel cvv cxp wss strvec xpss sstri df-rel mpbir ) ABACCDZEAKKDKFKKGH
    AIJ $.
    $( [11-Jul-2010] $) $( [11-Jul-2010] $)


  $( The domain of the class of all the vector spaces is a relation. $)
  domvecrel $p |- Rel dom Vec $=
    ( cvec cdm wrel cvv cxp wss strvec dmss ax-mp dmxpid sseqtri df-rel mpbir
    ) ABZCNDDEZFNOOEZBZOAPFNQFGAPHIOJKNLM $.
    $( [11-Jul-2010] $) $( [11-Jul-2010] $)


  $( The range of the class of all the vector spaces is a relation. $)
  ranvecrel $p |- Rel ran Vec $=
    ( cvec crn wrel cvv cxp wss strvec rnss ax-mp rnxpid sseqtri df-rel mpbir
    ) ABZCNDDEZFNOOEZBZOAPFNQFGAPHIOJKNLM $.
    $( [11-Jul-2010] $) $( [11-Jul-2010] $)

  ${
    $d A a b g h u v x y $.
    $d B a b g h u v x y $.
    $d G a b g h u x y $.
    $d H a b g h u x y $.
    $d a b g h u v x y z $.
    vecval1.1 $e |- X = ran G $.
    vecval1.4 $e |- W = ran A $.
    $( The predicate "is a vector space". $)
    vecval1 $p |- ( ( ( G e. M /\ H e. N /\  A e. O ) /\ B e. P )
      -> ( <. G , H >. Vec <. A , B >. <->
      ( <. G , H >. e. Fld /\ ( A e. Abel /\ B : ( X X. W ) --> W
       /\ A. u e. W ( ( ( Id ` H ) B u ) = u
          /\ A. x e. X (
             A. v e. W
                 ( x B ( u A  v ) ) = ( ( x B u ) A ( x B v ) )
             /\ A. y e. X ( ( ( x G y ) B u ) = ( ( x B u ) A ( y B u ) )
             /\   ( ( x H y ) B u ) = ( x B ( y B u ) ) ) ) ) ) ) ) ) $=
      ( vz vg vh va vb wcel w3a wa cop cvec wbr cfld cabl crn cxp wf cgi cfv
      cv co wceq wral wex cab opeq1 eleq1d wb rneq xpeq1 syl feq2 opreq
      opreq1d eqeq1d anbi1d raleq12d anbi2d ralbidv 3anbi23d anbi12d opeq2
      fveq2 3anbi3d eleq1 feq23 xpeq2 sylanc opreq2d eqeq12d eqeq2d 3anbi123d
      feq1 opreq12d id eqidd opreq123d elo df-vec eleq2i syl5bb df-br biid
      eqcomi xpeq12i mp2an imbi1i ralbii2 anbi12i imbi12i anbi2i 3anbi123i
      syl6bb ) HJUBIKUBELUBUCFGUBUDZHIUEZEFUEZUFUGZXJUHUBZEUIUBZHUJZEUJZUKZXPFU
      LZIUMUNZDUOZFUPZXTUQZAUOZXTCUOZEUPZFUPZYCXTFUPZYCYDFUPZEUPZUQZCXPURZYCBUO
      ZHUPZXTFUPZYGYLXTFUPZEUPZUQZYCYLIUPZXTFUPZYCYOFUPZUQZUDZBXOURZUDZAXOURZUD
      ZDXPURZUCZUDZXMXNNMUKZMFULZYBYJCMURZUUBBNURZUDZANURZUDZDMURZUCZUDXIXJXKUE
      ZUFUBZUUIXLXIUUSQUORUOZSUOZUEZTUOZUAUOZUEUEUQUVCUHUBZUVDUIUBZUVAUJZUVDUJZ
      UKZUVIUVEULZUVBUMUNZXTUVEUPZXTUQZYCXTYDUVDUPZUVEUPZYCXTUVEUPZYCYDUVEUPZUV
      DUPZUQZCUVIURZYCYLUVAUPZXTUVEUPZUVQYLXTUVEUPZUVDUPZUQZYCYLUVBUPZXTUVEUPZY
      CUWDUVEUPZUQZUDZBUVHURZUDZAUVHURZUDZDUVIURZUCZUDZUDUAUSTUSSUSRUSQUTZUBUUI
      UUTUWRHUVBUEZUHUBZUVGXOUVIUKZUVIUVEULZUVNUWAYMXTUVEUPZUWEUQZUWJUDZBXOURZU
      DZAXOURZUDZDUVIURZUCZUDXMUVGUXCXSXTUVEUPZXTUQZUWAUXEYRXTUVEUPZUWIUQZUDZBX
      OURZUDZAXOURZUDZDUVIURZUCZUDXMXNXQXPUVEULZUXNYCYEUVEUPZUVQUVREUPZUQZCXPUR
      ZUXDUVQUWDEUPZUQZUXPUDZBXOURZUDZAXOURZUDZDXPURZUCZUDUUIQRSUATHIEFJKLGUVAH
      UQZUVFUXAUWQUXLUYRUVCUWTUHUVAHUVBVAVBUYRUVKUXCUWPUXKUVGUYRUVJUXBUQZUVKUXC
      VCUYRUVHXOUQUYSUVAHVDZUVHXOUVIVEVFUVJUXBUVIUVEVGVFUYRUWOUXJDUVIUYRUWNUXIU
      VNUYRUWMUXHAUVHXOUYTUYRUWLUXGUWAUYRUWKUXFBUVHXOUYTUYRUWFUXEUWJUYRUWCUXDUW
      EUYRUWBYMXTUVEYCYLUVAHVHVIVJVKVLVMVLVMVNVOVPUVBIUQZUXAXMUXLUYCVUAUWTXJUHU
      VBIHVQVBVUAUXKUYBUVGUXCVUAUXJUYADUVIVUAUVNUXNUXIUXTVUAUVMUXMXTVUAUVLXSXTU
      VEUVBIUMVRVIVJVUAUXHUXSAXOVUAUXGUXRUWAVUAUXFUXQBXOVUAUWJUXPUXEVUAUWHUXOUW
      IVUAUWGYRXTUVEYCYLUVBIVHVIVJVMVNVMVNVPVNVSVPUVDEUQZUYCUYQXMVUBUVGXNUXCUYD
      UYBUYPUVDEUIVTUXBXQUQZUVIXPUQZUXCUYDVCVUBUXBUVIXQXPUVEWAVUBVUDVUCUVDEVDZU
      VIXPXOWBVFVUEWCVUBUYAUYODUVIXPVUEVUBUXTUYNUXNVUBUXSUYMAXOVUBUWAUYHUXRUYLV
      UBUVTUYGCUVIXPVUEVUBUVPUYEUVSUYFVUBUVOYEYCUVEXTYDUVDEVHWDUVQUVRUVDEVHWEVL
      VUBUXQUYKBXOVUBUXEUYJUXPVUBUWEUYIUXDUVQUWDUVDEVHWFVKVNVPVNVMVLWGVMUVEFUQZ
      UYQUUHXMVUFUYDXRUYPUUGXNXQXPUVEFWHVUFUYOUUFDXPVUFUXNYBUYNUUEVUFUXMYAXTXSX
      TUVEFVHVJVUFUYMUUDAXOVUFUYHYKUYLUUCVUFUYGYJCXPVUFUYEYFUYFYIYCYEUVEFVHVUFU
      VQYGUVRYHEYCXTUVEFVHZYCYDUVEFVHWIWEVNVUFUYKUUBBXOVUFUYJYQUXPUUAVUFUXDYNUY
      IYPYMXTUVEFVHVUFUVQYGUWDYOEVUGYLXTUVEFVHZWIWEVUFUXOYSUWIYTYRXTUVEFVHVUFYC
      YCUWDYOUVEFVUFWJVUFYCWKVUHWLWEVPVNVPVNVPVNVOVMWMUFUWSUUSABQCDRSTUAWNWOWPX
      JXKUFWQWPUUHUURXMXNXNXRUUKUUGUUQXNWRXQUUJUQXPMUQXRUUKVCXONXPMNXOOWSZMXPPW
      SZWTVUJXQXPUUJMFWAXAUUFUUPDXPMXTXPUBXTMUBUUFUUPXPMXTVUJWOUUEUUOYBUUDUUNAX
      ONYCXOUBYCNUBUUDUUNXONYCVUIWOYKUULUUCUUMYJYJCXPMYDXPUBYDMUBYJXPMYDVUJWOXB
      XCUUBUUBBXONYLXOUBYLNUBUUBXONYLVUIWOXBXCXDXEXCXFXEXCXGXFXH $.
      $( [11-Jul-2010] $) $( [11-Jul-2010] $)
  $}

  ${
    $d A a b g h $. $d B a b g h $. $d G a b g h $. $d H a b g h $.
    $d R a b g h u v x y z $. $d W a b g h $. $d X a b g h $.
    vecval3.1 $e |- X = ran G $.
    vecval3.2 $e |- G = ( 1st ` ( 1st ` R ) ) $.
    vecval3.3 $e |- H = ( 2nd ` ( 1st ` R ) ) $.
    vecval3.4 $e |- A = ( 1st ` ( 2nd ` R ) ) $.
    vecval3.5 $e |- B = ( 2nd ` ( 2nd ` R ) ) $.
    vecval3.6 $e |- W = ran A $.
    $( The "axioms" of a vector space. $)
    vecval3 $p |- ( R e. Vec ->
      ( <. G , H >. e. Fld /\ ( A e. Abel /\ B : ( X X. W ) --> W
       /\ A. u e. W ( ( ( Id ` H ) B u ) = u
          /\ A. x e. X (
             A. v e. W
                 ( x B ( u A  v ) ) = ( ( x B u ) A ( x B v ) )
             /\ A. y e. X ( ( ( x G y ) B u ) = ( ( x B u ) A ( y B u ) )
             /\   ( ( x H y ) B u ) = ( x B ( y B u ) ) ) ) ) ) ) ) $=
      ( vz vg vh va vb cvec wcel cv cop wceq cfld cabl crn cxp wf cgi cfv co
      wral wa w3a wex cab df-vec eleq2i c1st c2nd opeq1 eleq1d wb feq23 rneq
      xpeq1 syl eqidd sylanc opreq opreq1d eqeq1d anbi1d raleq12d anbi2d
      ralbidv 3anbi23d anbi12d opeq2 fveq2 3anbi3d eleq1 xpeq2 opreq2d eqeq12d
      eqeq2d 3anbi123d feq1 opreq12d id opreq123d opeq12i eqcomi eleq1i rneqi
      eqtr2i xpeq12i feq123 mp3an c0 eqid a1i fveq2i ax-mp eqeq1i equid opreqi
      opreq123i eqeq12i imbi12i ralbii2 opreq1i eqtri opreq2i anbi12i
      3anbi123i syl6bb eloi sylbi ) GUCUDGRUESUEZTUEZUFZUAUEZUBUEZUFUFUGYFUHUDZ
      YGUIUDZYDUJZYGUJZUKZYLYHULZYEUMUNZDUEZYHUOZYPUGZAUEZYPCUEZYGUOZYHUOZYSYPY
      HUOZYSYTYHUOZYGUOZUGZCYLUPZYSBUEZYDUOZYPYHUOZUUCUUHYPYHUOZYGUOZUGZYSUUHYE
      UOZYPYHUOZYSUUKYHUOZUGZUQZBYKUPZUQZAYKUPZUQZDYLUPZURZUQZUQUBUSUAUSTUSSUSR
      UTZUDHIUFZUHUDZEUIUDZKJUKZJFULZIUMUNZYPFUOZYPUGZYSYPYTEUOZFUOZYSYPFUOZYSY
      TFUOZEUOZUGZCJUPZYSUUHHUOZYPFUOZUVQUUHYPFUOZEUOZUGZYSUUHIUOZYPFUOZYSUWDFU
      OZUGZUQZBKUPZUQZAKUPZUQZDJUPZURZUQZUCUVFGABRCDSTUAUBVAVBUVEGVCUNZVCUNZYEU
      FZUHUDZYJUWTUJZYLUKZYLYHULZYRUUGYSUUHUWTUOZYPYHUOZUULUGZUUQUQZBUXCUPZUQZA
      UXCUPZUQZDYLUPZURZUQUWTUWSVDUNZUFZUHUDZYJUXEUXPUMUNZYPYHUOZYPUGZUUGUXHYSU
      UHUXPUOZYPYHUOZUUPUGZUQZBUXCUPZUQZAUXCUPZUQZDYLUPZURZUQUXRGVDUNZVCUNZUIUD
      ZUXCUYMUJZUKZUYOYHULZUYAYSYPYTUYMUOZYHUOZUUCUUDUYMUOZUGZCUYOUPZUXGUUCUUKU
      YMUOZUGZUYDUQZBUXCUPZUQZAUXCUPZUQZDUYOUPZURZUQZUWRRSTUBUAGYDUWTUGZYIUXBUV
      DUXOVUMYFUXAUHYDUWTYEVEVFVUMYNUXEUVCUXNYJYMUXDUGZYLYLUGYNUXEVGVUMYMYLUXDY
      LYHVHVUMYKUXCUGVUNYDUWTVIZYKUXCYLVJVKVUMYLVLVMVUMUVBUXMDYLVUMUVAUXLYRVUMU
      UTUXKAYKUXCVUOVUMUUSUXJUUGVUMUURUXIBYKUXCVUOVUMUUMUXHUUQVUMUUJUXGUULVUMUU
      IUXFYPYHYSUUHYDUWTVNVOVPVQVRVSVRVSVTWAWBYEUXPUGZUXBUXRUXOUYKVUPUXAUXQUHYE
      UXPUWTWCVFVUPUXNUYJYJUXEVUPUXMUYIDYLVUPYRUYAUXLUYHVUPYQUXTYPVUPYOUXSYPYHY
      EUXPUMWDVOVPVUPUXKUYGAUXCVUPUXJUYFUUGVUPUXIUYEBUXCVUPUUQUYDUXHVUPUUOUYCUU
      PVUPUUNUYBYPYHYSUUHYEUXPVNVOVPVSVTVSVTWBVTWEWBYGUYMUGZUYKVUKUXRVUQYJUYNUX
      EUYQUYJVUJYGUYMUIWFUXDUYPUGZYLUYOUGZUXEUYQVGVUQUXDYLUYPUYOYHVHVUQVUSVURYG
      UYMVIZYLUYOUXCWGVKVUTVMVUQUYIVUIDYLUYOVUTVUQUYHVUHUYAVUQUYGVUGAUXCVUQUUGV
      UBUYFVUFVUQUUFVUACYLUYOVUTVUQUUBUYSUUEUYTVUQUUAUYRYSYHYPYTYGUYMVNWHUUCUUD
      YGUYMVNWIVRVUQUYEVUEBUXCVUQUXHVUDUYDVUQUULVUCUXGUUCUUKYGUYMVNWJVQVTWBVTVS
      VRWKVSYHUYLVDUNZUGZVULUXRUYNUYPUYOVVAULZUXSYPVVAUOZYPUGZYSUYRVVAUOZYSYPVV
      AUOZYSYTVVAUOZUYMUOZUGZCUYOUPZUXFYPVVAUOZVVGUUHYPVVAUOZUYMUOZUGZUYBYPVVAU
      OZYSVVMVVAUOZUGZUQZBUXCUPZUQZAUXCUPZUQZDUYOUPZURZUQUWRVVBVUKVWEUXRVVBUYQV
      VCVUJVWDUYNUYPUYOYHVVAWLVVBVUIVWCDUYOVVBUYAVVEVUHVWBVVBUXTVVDYPUXSYPYHVVA
      VNVPVVBVUGVWAAUXCVVBVUBVVKVUFVVTVVBVUAVVJCUYOVVBUYSVVFUYTVVIYSUYRYHVVAVNV
      VBUUCVVGUUDVVHUYMYSYPYHVVAVNZYSYTYHVVAVNWMWIVTVVBVUEVVSBUXCVVBVUDVVOUYDVV
      RVVBUXGVVLVUCVVNUXFYPYHVVAVNVVBUUCVVGUUKVVMUYMVWFUUHYPYHVVAVNZWMWIVVBUYCV
      VPUUPVVQUYBYPYHVVAVNVVBYSYSUUKVVMYHVVAVVBWNVVBYSVLVWGWOWIWBVTWBVTWBVTWAVS
      UXRUVHVWEUWQUXQUVGUHUVGUXQHUWTIUXPMNWPWQWRUYNUVIVVCUVKVWDUWPUYMEUIEUYMOWQ
      ZWRVVAFUGZUYPUVJUGUYOJUGVVCUVKVGFVVAPWQZUXCKUYOJKHUJUXCLHUWTMWSWTZJEUJUYO
      QEUYMOWSWTZXAVWLUYPUYOUVJJVVAFXBXCVWCUWODUYOJYPUYOUDYPJUDVWCUWOUYOJYPVWLV
      BVVEUVNVWBUWNVVDUVMYPXDXDUGZVVDUVMUGXDXEVWMUXSUVLYPYPVVAFVWIVWMVWJXFUXSUV
      LUGVWMUXPIUMIUXPNWQZXGXFVWMYPVLWOXHXIVWAUWMAUXCKYSUXCUDYSKUDVWAUWMUXCKYSV
      WKVBVVKUWAVVTUWLVVJUVTCUYOJYTUYOUDYTJUDVVJUVTUYOJYTVWLVBVVFUVPVVIUVSYSUYR
      YSUVOVVAFAXJUYMEYPYTVWHXKVWJXLVVGVVHUVQUVRUYMEVVAFYSYPVWJXKZVVAFYSYTVWJXK
      VWHXLXMXNXOVVSUWKBUXCKUUHUXCUDUUHKUDVVSUWKUXCKUUHVWKVBVVOUWFVVRUWJVVLUWCV
      VNUWEVVLUXFYPFUOUWCVVAFUXFYPVWJXKUXFUWBYPFUWTHYSUUHHUWTMWQXKXPXQVVGVVMUVQ
      UWDUYMEVWOVVAFUUHYPVWJXKZVWHXLXMVVPUWHVVQUWIVVPUWGYPVVAUOUWHUYBUWGYPVVAUX
      PIYSUUHVWNXKXPVVAFUWGYPVWJXKXQVVQYSUWDVVAUOUWIVVMUWDYSVVAVWPXRVVAFYSUWDVW
      JXKXQXMXSXNXOXSXNXOXSXNXOXTXSYAYBYC $.
      $( [11-Jul-2010] $) $( [11-Jul-2010] $)
  $}

  $v +t $.
  $v .t $.
  $v +w $.
  $v .w $.

  $( Let ` +t ` be a class variable. I suggest to use variables consisting
     in the signs ` + ` or ` . ` and in letters to name the various
     occurences of the highly overloaded addition and multiplication signs. $)
  cpls $f class +t $.

  $( Let ` .t ` be a class variable. $)
  cmus $f class .t $.

  $( Let ` +w ` be a class variable. $)
  cplw $f class +w $.

  $( Let ` .w ` be a class variable. $)
  cmw $f class .w $.

  ${
    $d R w x y z $.
    fld.1 $e |- +t = ( 1st ` ( 1st ` R ) ) $.
    fld.2 $e |- .t = ( 2nd ` ( 1st ` R ) ) $.
    $( The scalar addition ( ` +t ` ) and the scalar multiplication ( ` .t ` )
       is a field. $)
    safld $p |- ( R e. Vec -> <. +t , .t >. e. Fld ) $=
      ( vw vx vz vy cvec wcel cop cfld c2nd cfv c1st cabl crn cxp wf cgi cv co
      wceq wral wa w3a eqid vecval3 pm3.26d ) AJKBCLMKANOZPOZQKBRZULRZSUNUKNOZT
      CUAOFUBZUOUCUPUDGUBZUPHUBZULUCUOUCUQUPUOUCZUQURUOUCULUCUDHUNUEUQIUBZBUCUP
      UOUCUSUTUPUOUCZULUCUDUQUTCUCUPUOUCUQVAUOUCUDUFIUMUEUFGUMUEUFFUNUEUGGIHFUL
      UOABCUNUMUMUHDEULUHUOUHUNUHUIUJ $.
      $( [11-Jul-2010] $) $( [11-Jul-2010] $)
  $}


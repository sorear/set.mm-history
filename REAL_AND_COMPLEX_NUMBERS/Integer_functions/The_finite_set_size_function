$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
               The ` # ` (finite set size) function
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c # $.

  $( Extend the definition of a class to include the size function. $)
  chash $a class # $.

  ${
    $d x y $.
    $( Define the ` # ` function, which gives the cardinality of a finite set
       as a member of ` NN0 ` , and assigns all infinite sets the value
       ` +oo ` . $)
    df-hash $a |- # = ( ( ( rec (
                   ( x e. _V |-> ( x + 1 ) ) , 0 ) |` om ) o. card ) u.
                   ( ( _V \ Fin ) X. { +oo } ) ) $.
  $}

  ${
    $d A x y $.  $d K y $.
    hashgval.1 $e |- G = ( rec ( ( x e. _V |-> ( x + 1 ) ) , 0 ) |` om ) $.
    ${
      hashkf.2 $e |- K = ( G o. card ) $.
      $( The finite part of the size function maps all finite sets to their
         cardinality, as members of ` NN0 ` .  (The proof was shortened by
         Mario Carneiro, 13-Jul-2014.) $)
      hashkf $p |- K : Fin --> NN0 $=
        ( vy cfn cn0 wf wfn cfv wcel ccrd wfun wceq com ax-mp cen wbr con0 wral
        cv ccom cdm cvv c1 caddc co cmpt cc0 crdg cres frfnom fneq1i mpbir wrex
        fnfun cab cardf2 ffun funco mp2an ccnv cima dmco fndm imaeq2i wa wb ffn
        elpreima abid anbi1i cardid2 vex ensym syl breq2 rcla4ev syl2anr sylibr
        id finnum ficardom jca impbii 3bitri eqriv 3eqtri df-fn mpbir2an fveq1i
        isfi fvco3 sylancr syl5eq wf1o hashgf1o f1of ffvelrni eqeltrd ffnfv
        rgen ) GHCICGJZFUBZCKZHLZFGUAXDBMUCZGJZXIXHNZXHUDZGOBNZMNZXJBPJZXLXNAUE
        AUBZUFUGUHUIZUJUKPULZPJUJXPUMPBXQDUNUOZPBUQQXOXERSATUPZFURZTMIZXMFAUSZX
        TTMUTQBMVAVBXKMVCZBUDZVDYCPVDZGBMVEYDPYCXNYDPOXRPBVFQVGFYEGXEYELZXEXTLZ
        XEMKZPLZVHZXSYIVHZXEGLZMXTJZYFYJVIYAYMYBXTTMVJQXTXEPMVKQYGXSYIXSFVLZVMY
        KYLYKXEXORSZAPUPZYLYIYIXEYHRSZYPXSYIWBXSYHXERSYQAXEVNYHXEFVOVPVQYOYQAYH
        PXOYHXERVRVSVTAXEWMWAYLXSYIAXEWCZXEWDZWEWFWGWHWIXHGWJWKGCXHEUNUOXGFGYLX
        FYHBKZHYLXFXEXHKZYTXECXHEWLYLYAYGUUAYTOYBYLXSYGYRYNWAXTTXEBMWNWOWPYLYIY
        THLYSPHYHBPHBWQPHBIABDWRPHBWSQWTVQXAXCFGHCXBWK $.
        $( [26-Dec-2014] $) $( [13-Sep-2013] $)
    $}

    $( The value of the ` # ` function in terms of the mapping ` G ` from
       ` om ` to ` NN0 ` .  The proof avoids the use of ~ ax-ac .  (Contributed
       by Paul Chapman, 22-Jun-2011.)  (Revised by Mario Carneiro,
       12-Feb-2013.) $)
    hashgval $p |- ( A e. Fin -> ( G ` ( card ` A ) ) = ( # ` A ) ) $=
      ( vy cfn wcel chash cres cfv ccrd ccom cvv cpnf cun c0 wf wceq cen con0
      cv c1 caddc co cmpt cc0 crdg com cdif csn cxp resundir cn0 wfn hashkf ffn
      eqid fnresdm mp2b cin incom disjdif eqtri wb pnfxr elexi fconst fnresdisj
      cxr mpbi uneq12i un0 3eqtri df-hash reseq1i coeq1i 3eqtr4i fveq1i wbr cab
      wrex cardf2 finnum breq2 rexbidv elabg mpbird fvco3 sylancr syl5eq eqtr3d
      fvres ) BFGZBHFIZJZBKJCJZBHJWMWOBCKLZJZWPBWNWQAMAUAZUBUCUDUEUFUGUHIZKLZMF
      UIZNUJZUKZOZFIZXAWNWQXFXAFIZXDFIZOXAPOXAXAXDFULXGXAXHPFUMXAQXAFUNXGXARAWT
      XAWTUQXAUQUOFUMXAUPFXAURUSXBFUTZPRZXHPRZXIFXBUTPXBFVAFMVBVCXBXCXDQXDXBUNX
      JXKVDXBNNVIVEVFVGXBXCXDUPXBFXDVHUSVJVKXAVLVMHXEFAVNVOCWTKDVPVQVRWMEUAZWSS
      VSZETWAZAVTZTKQBXOGZWRWPRAEWBWMXPXLBSVSZETWAZEBWCXNXRABFWSBRXMXQETWSBXLSW
      DWEWFWGXOTBCKWHWIWJBFHWLWK $.
      $( [26-Dec-2014] $) $( [22-Jun-2011] $)

    $( ` ``' G ` maps the size function's value to ` card ` .  (Contributed by
       Paul Chapman, 22-Jun-2011.) $)
    hashginv $p |- ( A e. Fin -> ( `' G ` ( # ` A ) ) = ( card ` A ) ) $=
      ( cfn wcel ccrd cfv com chash wceq ccnv ficardom hashgval cn0 wi hashgf1o
      wf1o f1ocnvfv mpan sylc ) BEFBGHZIFZUBCHBJHZKZUDCLHUBKZBMABCDNIOCRUCUEUFP
      ACDQIOUBUDCSTUA $.
      $( [15-Sep-2013] $) $( [22-Jun-2011] $)
  $}

  ${
    $d A x y $.
    $( The value of the ` # ` function on an infinite set. $)
    hashinf $p |- ( A e. ( V \ Fin ) -> ( # ` A ) = +oo ) $=
      ( vx cfn cdif wcel cvv chash cfv cpnf wceq wss cres cun c0 cn0 wf wfn ffn
      eqid ssv ssdif ax-mp sseli fvres csn cxp cv c1 caddc co cmpt cc0 crdg com
      ccrd ccom df-hash reseq1i resundir cin disjdif hashkf fnresdisj mp2b mpbi
      wb pnfxr elexi fconst fnresdm uneq12i uncom 3eqtri fveq1i fvconst2 syl5eq
      cxr un0 eqtr3d syl ) ABDEZFAGDEZFZAHIZJKWBWCABGLWBWCLBUABGDUBUCUDWDAHWCMZ
      IZWEJAWCHUEWDWGAWCJUFZUGZIJAWFWIWFCGCUHUIUJUKULUMUNUOMZUPUQZWINZWCMWKWCMZ
      WIWCMZNZWIHWLWCCURUSWKWIWCUTWOOWINWIONWIWMOWNWIDWCVAOKZWMOKZDGVBDPWKQWKDR
      WPWQVGCWJWKWJTWKTVCDPWKSDWCWKVDVEVFWCWHWIQWIWCRWNWIKWCJJVRVHVIZVJWCWHWISW
      CWIVKVEVLOWIVMWIVSVNVNVOWCJAWRVPVQVTWA $.
      $( [13-Jul-2014] $)
  $}

  ${
    $d x y z $.
    $( The size function maps all finite sets to their cardinality, as members
       of ` NN0 ` , and infinite sets to ` +oo ` . $)
    hashf $p |- # : _V --> ( NN0 u. { +oo } ) $=
      ( vx cvv cn0 cpnf csn cun chash wf cfn cdif cv c1 caddc cmpt cc0 crdg com
      co cres eqid ccrd ccom cxp wa cin c0 hashkf cxr pnfxr elexi fconst pm3.2i
      wceq disjdif fun mp2an df-hash feq1i undifv feq2i bitr4i mpbir ) BCDEZFZG
      HZIBIJZFZVDABAKLMRNOPQSZUAUBZVFVCUCZFZHZICVIHZVFVCVJHZUDIVFUEUFUMVLVMVNAV
      HVIVHTVITUGVFDDUHUIUJUKULIBUNIVFCVCVIVJUOUPVEBVDVKHVLBVDGVKAUQURVGBVDVKIU
      SUTVAVB $.
      $( [13-Jul-2014] $) $( [13-Sep-2013] $)
  $}

  ${
    $d A x $.  $d B x $.  $d x N $.
    $( The set ` ( 1 ... N ) ` has ` N ` elements.  (Contributed by Paul
       Chapman, 22-Jun-2011.) $)
    hashfz1 $p |- ( N e. NN0 -> ( # ` ( 1 ... N ) ) = N ) $=
      ( vx cn0 wcel c1 cfz co ccrd cfv cvv cv caddc cmpt cc0 crdg com cres ccnv
      chash wceq eqid cardfz fveq2d fzfid hashgval wf1o hashgf1o f1ocnvfv2 mpan
      cfn syl 3eqtr3d ) ACDZEAFGZHIZBJBKELGMNOPQZIZAUPRIZUPIZUNSIZAUMUOURUPBUPA
      UPUAZUBUCUMUNUJDUQUTTUMEAUDBUNUPVAUEUKPCUPUFUMUSATBUPVAUGPCAUPUHUIUL $.
      $( [15-Sep-2013] $) $( [22-Jun-2011] $)

    $( Two finite sets have the same number of elements iff they are
       equinumerous.  (Contributed by Paul Chapman, 22-Jun-2011.) $)
    hashen $p |- ( ( A e. Fin /\ B e. Fin ) ->
                   ( ( # ` A ) = ( # ` B ) <-> A ~~ B ) ) $=
      ( vx cfn wcel wa chash cfv wceq ccrd cen wbr cvv cv c1 hashginv eqeqan12d
      fveq2 syl5ib hashgval co cmpt cc0 crdg com cres ccnv eqid impbid ficarden
      caddc bitrd ) ADEZBDEZFZAGHZBGHZIZAJHZBJHZIZABKLUOURVAURUPCMCNOUKUAUBUCUD
      UEUFZUGZHZUQVCHZIUOVAUPUQVCRUMUNVDUSVEUTCAVBVBUHZPCBVBVFPQSVAUSVBHZUTVBHZ
      IUOURUSUTVBRUMUNVGUPVHUQCAVBVFTCBVBVFTQSUIABUJUL $.
      $( [15-Sep-2013] $) $( [22-Jun-2011] $)
  $}

  $( Two possibly-empty 1-based finite sets of sequential integers are equal
     iff their endpoints are equal.  (Contributed by Paul Chapman,
     22-Jun-2011.)  (The proof was shortened by Mario Carneiro,
     29-Mar-2014.) $)
  fz1eqb $p |- ( ( M e. NN0 /\ N e. NN0 ) ->
               ( ( 1 ... M ) = ( 1 ... N ) <-> M = N ) ) $=
    ( cn0 wcel wa c1 cfz co wceq chash cfv fveq2 hashfz1 eqeqan12d syl5ib oveq2
    impbid1 ) ACDZBCDZEZFAGHZFBGHZIZABIZUCUAJKZUBJKZITUDUAUBJLRSUEAUFBAMBMNOABF
    GPQ $.
    $( [29-Mar-2014] $) $( [22-Jun-2011] $)

  ${
    $d x A $.
    $( The size function of the cardinality function. $)
    hashcard $p |- ( A e. Fin -> ( # ` ( card ` A ) ) = ( # ` A ) ) $=
      ( vx cfn wcel ccrd cfv cvv cv c1 caddc co cmpt cc0 crdg com chash cardidm
      cres wceq hashgval fveq2i a1i wss ficardom ssid sylancl eqid syl 3eqtr3d
      ssnnfi ) ACDZAEFZEFZBGBHIJKLMNORZFZULUNFZULPFZAPFUOUPSUKUMULUNAQUAUBUKULC
      DZUOUQSUKULODULULUCURAUDULUEULULUJUFBULUNUNUGZTUHBAUNUSTUI $.
      $( [4-Nov-2013] $) $( [19-Sep-2013] $)
    $( Closure of the ` # ` function.  (Contributed by Paul Chapman,
       26-Oct-2012.)  (Revised by Mario Carneiro, 13-Jul-2014.) $)
    hashcl $p |- ( A e. Fin -> ( # ` A ) e. NN0 ) $=
      ( vx cfn wcel ccrd cfv cvv cv c1 caddc co cmpt cc0 crdg com cres cn0 eqid
      chash hashgval ficardom wf1o wf hashgf1o f1of ax-mp ffvelrni syl eqeltrrd
      ) ACDZAEFZBGBHIJKLMNOPZFZASFQBAULULRZTUJUKODUMQDAUAOQUKULOQULUBOQULUCBULU
      NUDOQULUEUFUGUHUI $.
      $( [13-Jul-2014] $) $( [26-Oct-2012] $)
  $}

  $( Two ways of saying a finite set is empty.  (Contributed by Paul Chapman,
     26-Oct-2012.)  (Revised by Mario Carneiro, 27-Jul-2014.) $)
  hasheq0 $p |- ( A e. V -> ( ( # ` A ) = 0 <-> A = (/) ) ) $=
    ( wcel cfn chash cfv wceq c0 wb wn wa cdif eldif cr cpnf wnel syl6eqel 0fin
    cc0 id pnfnre df-nel mpbi hashinf eleq1d mtbiri sylbir con3i adantl 2falsed
    0re nsyl ex cen wbr hashen mpan2 c1 cfz fz10 fveq2i cn0 0nn0 hashfz1 eqtr3i
    co ax-mp eqeq2i en0 3bitr3g pm2.61d2 ) ABCZADCZAEFZSGZAHGZIZVLVMJZVQVLVRKZV
    OVPVSABDLCZVOJABDMVTVNNCZVOVTWAONCZONPWBJUAONUBUCVTVNONABUDUEUFVOVNSNVOTUKQ
    ULUGVRVPJVLVPVMVPAHDVPTRQUHUIUJUMVMVNHEFZGZAHUNUOZVOVPVMHDCWDWEIRAHUPUQWCSV
    NURSUSVFZEFZWCSWFHEUTVASVBCWGSGVCSVDVGVEVHAVIVJVK $.
    $( [27-Jul-2014] $) $( [26-Oct-2012] $)

  $( The empty set has size zero.  (Contributed by Mario Carneiro,
     8-Jul-2014.) $)
  hash0 $p |- ( # ` (/) ) = 0 $=
    ( c0 chash cfv cc0 wceq eqid cvv wcel wb 0ex hasheq0 ax-mp mpbir ) ABCDEZAA
    EZAFAGHNOIJAGKLM $.
    $( [8-Jul-2014] $)

  $( The size of a singleton.  (Contributed by Paul Chapman, 26-Oct-2012.)
     (The proof was shortened by Mario Carneiro, 13-Feb-2013.) $)
  hashsng $p |- ( A e. V -> ( # ` { A } ) = 1 ) $=
    ( wcel csn chash cfv c1 cen wbr wceq cz 1z en2sn mpan2 wb snfi hashen mp2an
    cfn ax-mp sylibr cfz co cn0 1nn0 hashfz1 fzsn fveq2d syl5reqr syl6eq ) ABCZ
    ADZEFZGDZEFZGUKULUNHIZUMUOJZUKGKCZUPLAGBKMNULSCUNSCUQUPOAPGPULUNQRUAURUOGJL
    URGGGUBUCZEFZUOGUDCUTGJUEGUFTURUSUNEGUGUHUITUJ $.
    $( [13-Feb-2013] $) $( [26-Oct-2012] $)

  ${
    $d F f $.  $d N f $.
    $( The value of the size function on a finite 1-based sequence.
       (Contributed by Paul Chapman, 26-Oct-2012.) $)
    fseq1hash $p |- ( ( N e. NN0 /\ F Fn ( 1 ... N ) ) -> ( # ` F ) = N ) $=
      ( cn0 wcel c1 cfz co wfn wa chash cfv wceq cen wbr cfn simpr fzfi sylancl
      wb cvv fndmeng syl2anc mpbii hashen sylancr mpbird hashfz1 adantr eqtr3d
      fnex enfi ) BCDZAEBFGZHZIZUMJKZAJKZBUOUPUQLZUMAMNZUOUNUMODZUSULUNPZEBQZUM
      OAUARZUOUTAODZURUSSVBUOUTVDVBUOATDZUSUTVDSUOUNUTVEVAVBUMOAUJRVCUMATUKUBUC
      UMAUDUEUFULUPBLUNBUGUHUI $.
      $( [27-Jul-2014] $) $( [26-Oct-2012] $)
  $}

  ${
    $d A n z $.  $d B n $.  $d G n z $.
    hashgadd.1 $e |- G = ( rec ( ( x e. _V |-> ( x + 1 ) ) , 0 ) |` om ) $.
    $( ` G ` maps ordinal addition to integer addition.  (Contributed by Paul
       Chapman, 30-Nov-2012.) $)
    hashgadd $p |- ( ( A e. om /\ B e. om ) ->
                     ( G ` ( A +o B ) ) = ( ( G ` A ) + ( G ` B ) ) ) $=
      ( com wcel coa co cfv caddc wceq wi c0 oveq2 fveq2d oveq2d cc0 cn0 c1 syl
      vn vz cv csuc fveq2 eqeq12d cc wf1o wf hashgf1o f1of ax-mp ffvelrni nn0cn
      imbi2d addid1 0z om2uz0i oveq2i a1i nna0 3eqtr4rd w3a wa nnasuc om2uzsuci
      nnacl eqtrd 3adant3 ax-1cn addass mp3an3 syl2an 3ad2ant3 3ad2ant2 3eqtr4d
      oveq1 3expia expcom a2d finds impcom ) CFGBFGZBCHIZDJZBDJZCDJZKIZLZWDBUBU
      DZHIZDJZWGWKDJZKIZLZMWDBNHIZDJZWGNDJZKIZLZMWDBUCUDZHIZDJZWGXBDJZKIZLZMWDB
      XBUEZHIZDJZWGXHDJZKIZLZMWDWJMUBUCCWKNLZWPXAWDXNWMWRWOWTXNWLWQDWKNBHOPXNWN
      WSWGKWKNDUFQUGUPWKXBLZWPXGWDXOWMXDWOXFXOWLXCDWKXBBHOPXOWNXEWGKWKXBDUFQUGU
      PWKXHLZWPXMWDXPWMXJWOXLXPWLXIDWKXHBHOPXPWNXKWGKWKXHDUFQUGUPWKCLZWPWJWDXQW
      MWFWOWIXQWLWEDWKCBHOPXQWNWHWGKWKCDUFQUGUPWDWGRKIZWGWTWRWDWGUHGZXRWGLWDWGS
      GXSFSBDFSDUIFSDUJADEUKFSDULUMZUNWGUOUAZWGUQUAWTXRLWDWSRWGKARDUREUSUTVAWDW
      QBDBVBPVCXBFGZWDXGXMWDYBXGXMMWDYBXGXMWDYBXGVDZXJXDTKIZXLWDYBXJYDLXGWDYBVE
      ZXJXCUEZDJZYDYEXIYFDBXBVFPYEXCFGYGYDLBXBVHAXCRDUREVGUAVIVJYCXFTKIZWGXETKI
      ZKIZYDXLWDYBYHYJLZXGWDXSXEUHGZYKYBYAYBXESGYLFSXBDXTUNXEUOUAXSYLTUHGYKVKWG
      XETVLVMVNVJXGWDYDYHLYBXDXFTKVRVOYBWDXLYJLXGYBXKYIWGKAXBRDUREVGQVPVQVIVSVT
      WAWBWC $.
      $( [15-Sep-2013] $) $( [30-Nov-2012] $)
  $}

  ${
    $d x y A $.  $d x y B $.
    $( Dominance relation for the size function. $)
    hashdom $p |- ( ( A e. Fin /\ B e. Fin )
         -> ( ( # ` A ) <_ ( # ` B ) <-> A ~<_ B ) ) $=
      ( vy vx cfn wcel wa chash cfv cle wbr ccrd coa co wceq com ficardom caddc
      cn0 syl cv wrex wss cdom cmin cfz fzfi ax-mp cvv cmpt crdg cres ccnv eqid
      c1 hashgval ad2antrr hashcl ad2antlr simpr nn0sub2 syl3anc hashfz1 syl5eq
      cc0 oveq12d cc nn0cn pncan3 syl2an adantr hashgadd sylancl 3eqtr4d fveq2d
      eqtrd wf1o hashgf1o nnacl f1ocnvfv1 sylancr 3eqtr3d eqeq1d rcla4ev cardnn
      oveq2 ex adantl oveq2d fveq2 ssid ssnnfi oveqan12d adantlr eqeq12d nn0ge0
      wi mpan2 cr wb nn0re addge01 mpbid syl5ibcom sylbid sylan2 syl5 rexlimdva
      breq2 sylbird impbid nnawordex ficarddom 3bitr2d ) AEFZBEFZGZAHIZBHIZJKZA
      LIZCUAZMNZBLIZOZCPUBZYAYDUCZABUDKXQXTYFXQXTYFXQXTGZUOXSXRUENZUFNZLIZPFZYA
      YKMNZYDOZYFYJEFZYLUOYIUGZYJQUHZYHYMDUIDUAUORNUJVEUKPULZIZYRUMZIZYDYRIZYTI
      ZYMYDYHYSUUBYTYHYAYRIZYKYRIZRNZXSYSUUBYHUUFXRYIRNZXSYHUUDXRUUEYIRXOUUDXRO
      XPXTDAYRYRUNZUPZUQYHUUEYJHIZYIYOUUEUUJOYPDYJYRUUHUPUHYHYISFZUUJYIOYHXRSFZ
      XSSFZXTUUKXOUULXPXTAURZUQXPUUMXOXTBURZUSXQXTUTXRXSVAVBYIVCTVDVFXQUUGXSOZX
      TXOXRVGFZXSVGFZUUPXPXOUULUUQUUNXRVHTXPUUMUURUUOXSVHTXRXSVIVJVKVPYHYAPFZYL
      YSUUFOXOUUSXPXTAQZUQZYQDYAYKYRUUHVLVMXPUUBXSOZXOXTDBYRUUHUPZUSVNVOYHPSYRV
      QZYMPFZUUAYMODYRUUHVRZYHUUSYLUVEUVAYQYAYKVSVMPSYMYRVTWAYHUVDYDPFZUUCYDOUV
      FXPUVGXOXTBQZUSPSYDYRVTWAWBYEYNCYKPYBYKOYCYMYDYBYKYAMWFWCWDWAWGXQYEXTCPXQ
      YBPFZGZYEYAYBLIZMNZYDOZXTUVJUVLYCYDUVJUVKYBYAMUVIUVKYBOXQYBWEWHWIWCUVMUVL
      YRIZUUBOZUVJXTUVLYDYRWJUVIXQYBEFZUVOXTWQUVIYBYBUCUVPYBWKYBYBWLWRXQUVPGZUV
      OXRYBHIZRNZXSOZXTUVQUVNUVSUUBXSXOUVPUVNUVSOXPXOUVPGZUVNUUDUVKYRIZRNZUVSXO
      UUSUVKPFUVNUWCOUVPUUTYBQDYAUVKYRUUHVLVJXOUVPUUDXRUWBUVRRUUIDYBYRUUHUPWMVP
      WNXPUVBXOUVPUVCUSWOUVQXRUVSJKZUVTXTXOUVPUWDXPUWAVEUVRJKZUWDUVPUWEXOUVPUVR
      SFZUWEYBURZUVRWPTWHXOXRWSFZUVRWSFZUWEUWDWTUVPXOUULUWHUUNXRXATUVPUWFUWIUWG
      UVRXATXRUVRXBVJXCWNUVSXSXRJXIXDXEXFXGXJXHXKXOUUSUVGYGYFWTXPUUTUVHCYAYDXLV
      JABXMXN $.
      $( [14-Feb-2014] $) $( [22-Sep-2013] $)
  $}

  $( Strict dominance relation for the size function.  (Contributed by Mario
     Carneiro, 18-Aug-2014.) $)
  hashsdom $p |- ( ( A e. Fin /\ B e. Fin )
       -> ( ( # ` A ) < ( # ` B ) <-> A ~< B ) ) $=
    ( cfn wcel wa chash cfv clt wbr cdom cen wn csdm cle hashcl cr nn0re syl2an
    cn0 wceq wne wb ltlen hashdom eqcom hashen syl5bb necon3abid anbi12d brsdom
    bitrd syl6bbr ) ACDZBCDZEZAFGZBFGZHIZABJIZABKIZLZEZABMIUOURUPUQNIZUQUPUAZEZ
    VBUMUPSDZUQSDZURVEUBZUNAOBOVFUPPDUQPDVHVGUPQUQQUPUQUCRRUOVCUSVDVAABUDUOUTUQ
    UPUQUPTUPUQTUOUTUQUPUEABUFUGUHUIUKABUJUL $.
    $( [18-Aug-2014] $)

  ${
    $d x A $.  $d x B $.
    $( The size of the union of disjoint finite sets is the sum of their
       sizes.  (Contributed by Paul Chapman, 30-Nov-2012.) $)
    hashun $p |- ( ( A e. Fin /\ B e. Fin /\ ( A i^i B ) = (/) ) ->
                   ( # ` ( A u. B ) ) = ( ( # ` A ) + ( # ` B ) ) ) $=
      ( vx cfn wcel cin c0 wceq w3a cun ccrd cfv cvv caddc co com chash 3adant3
      hashgval ficardom cv cmpt cc0 crdg cres coa ficardun fveq2d unfi eqid syl
      c1 wa hashgadd syl2an oveqan12d eqtrd 3eqtr3d ) ADEZBDEZABFGHZIZABJZKLZCM
      CUAULNOUBUCUDPUEZLZAKLZBKLZUFOZVELZVCQLZAQLZBQLZNOZVBVDVIVEABUGUHUSUTVFVK
      HZVAUSUTUMZVCDEVOABUICVCVEVEUJZSUKRUSUTVJVNHVAVPVJVGVELZVHVELZNOZVNUSVGPE
      VHPEVJVTHUTATBTCVGVHVEVQUNUOUSUTVRVLVSVMNCAVEVQSCBVEVQSUPUQRUR $.
      $( [15-Sep-2013] $) $( [30-Nov-2012] $)

    $( The size of the union of finite sets is less than or equal to the sum of
       their sizes.  (The proof was shortened by Mario Carneiro,
       27-Jul-2014.) $)
    hashun2 $p |- ( ( A e. Fin /\ B e. Fin ) ->
                   ( # ` ( A u. B ) ) <_ ( ( # ` A ) + ( # ` B ) ) ) $=
      ( cfn wcel wa cun chash cfv cdif caddc co cle wceq wbr wb cr hashcl nn0re
      cn0 3syl undif2 fveq2i diffi c0 disjdif hashun mp3an3 sylan2 syl5eqr cdom
      cin adantl difss ssdomg ee10 hashdom sylancom mpbird simpr leadd2 syl3anc
      wss simpl mpbid eqbrtrd ) ACDZBCDZEZABFZGHZAGHZBAIZGHZJKZVKBGHZJKZLVHVJAV
      LFZGHZVNVQVIGABUAUBVGVFVLCDZVRVNMZBAUCZVFVSAVLUKUDMVTABUEAVLUFUGUHUIVHVMV
      OLNZVNVPLNZVHWBVLBUJNZVHVSVLBVBWDVGVSVFWAULZBAUMVLBCUNUOVFVGVSWBWDOWEVLBU
      PUQURVHVMPDZVOPDZVKPDZWBWCOVHVSVMSDWFWEVLQVMRTVHVGVOSDWGVFVGUSBQVORTVHVFV
      KSDWHVFVGVCAQVKRTVMVOVKUTVAVDVE $.
      $( [27-Jul-2014] $) $( [23-Sep-2013] $)
  $}

  $( The size of the union of a finite set with a disjoint singleton is one
     more than the size of the set.  (Contributed by Paul Chapman,
     30-Nov-2012.) $)
  hashunsng $p |- ( B e. V -> ( ( A e. Fin /\ -. B e. A ) ->
                    ( # ` ( A u. { B } ) ) = ( ( # ` A ) + 1 ) ) ) $=
    ( cfn wcel wn wa csn cun chash cfv c1 caddc co wceq cin disjsn snfi hashun
    c0 mp3an2 sylan2br hashsng oveq2d sylan9eq expcom ) ADEZBAEFZGZBCEZABHZIJKZ
    AJKZLMNZOUIUJULUMUKJKZMNZUNUHUGAUKPTOZULUPOZABQUGUKDEUQURBRAUKSUAUBUJUOLUMM
    BCUCUDUEUF $.
    $( [30-Nov-2012] $)

  ${
    hashpr.1 $e |- A e. _V $.
    hashpr.2 $e |- B e. _V $.
    $( The size of an unordered pair. $)
    hashpr $p |- ( A =/= B <-> ( # ` { A , B } ) = 2 ) $=
      ( wne cpr chash cfv c2 wceq csn cun c1 caddc co cfn wcel wn cvv ax-mp a1i
      snfi elsni eqcomd necon3ai wa hashunsng sylancr df-pr fveq2i df-2 hashsng
      wi oveq1i eqtr4i 3eqtr4g dfsn2 syl5req fveq2d syl6eq 1ne2 eqnetrd necon2i
      preq2 impbii ) ABEZABFZGHZIJVFAKZBKLZGHZVIGHZMNOZVHIVFVIPQZBVIQZRZVKVMJZA
      UBVOABVOBABAUCUDUEBSQVNVPUFVQUMDVIBSUGTUHVGVJGABUIUJIMMNOVMUKVLMMNASQVLMJ
      CASULTZUNUOUPABVHIABJZVHMIVSVHVLMVSVGVIGVSVIAAFVGAUQABAVDURUSVRUTMIEVSVAU
      AVBVCVE $.
      $( [27-Sep-2013] $)
  $}

  ${
    $d A x y z $.  $d B x y z $.
    hashxplem.1 $e |- B e. Fin $.
    $( Lemma for ~ hashxp . $)
    hashxplem $p |- ( A e. Fin ->
                      ( # ` ( A X. B ) ) = ( ( # ` A ) x. ( # ` B ) ) ) $=
      ( cxp chash cfv cmul co wceq c0 xpeq1 fveq2d fveq2 oveq1d eqeq12d cc0 cfn
      wcel caddc c1 vx vy vz cv csn cun cn0 hashcl nn0cn mul02 3syl ax-mp hash0
      cc oveq1i xp0r fveq2i eqtri 3eqtr4ri wn wa oveq1 adantl xpundir cin mpan2
      xpfi inxp disjsn xpeq1d syl6eq syl5eq snfi mp2an hashun mp3an2 syl2an cen
      biimpri wbr snex elexi xpcomen xpsnen entri wb hashen mpbir oveq2i adantr
      vex cvv wi hashunsng ax-1cn mp2b mp3an23 mulid2i eqtrd 3eqtr4d findcard2s
      adddir ex ) UAUDZBDZEFZXDEFZBEFZGHZIJBDZEFZJEFZXHGHZIUBUDZBDZEFZXNEFZXHGH
      ZIZXNUCUDZUEZUFZBDZEFZYBEFZXHGHZIZABDZEFZAEFZXHGHZIUAUBUCAXDJIZXFXKXIXMYL
      XEXJEXDJBKLYLXGXLXHGXDJEMNOXDXNIZXFXPXIXRYMXEXOEXDXNBKLYMXGXQXHGXDXNEMNOX
      DYBIZXFYDXIYFYNXEYCEXDYBBKLYNXGYEXHGXDYBEMNOXDAIZXFYIXIYKYOXEYHEXDABKLYOX
      GYJXHGXDAEMNOPXHGHZPXMXKBQRZYPPIZCYQXHUGRZXHUNRZYRBUHZXHUIZXHUJUKULXLPXHG
      UMUOXKXLPXJJEBUPUQUMURUSXNQRZXTXNRUTZVAZXSYGUUEXSVAXPXHSHZXRXHSHZYDYFXSUU
      FUUGIUUEXPXRXHSVBVCUUEYDUUFIXSUUEYDXOYABDZUFZEFZUUFYCUUIEXNYABVDUQUUEUUJX
      PUUHEFZSHZUUFUUCXOQRZXOUUHVEZJIZUUJUULIZUUDUUCYQUUMCXNBVGVFUUDUUNXNYAVEZB
      BVEZDZJXNBYABVHUUDUUSJUURDJUUDUUQJUURUUQJIUUDXNXTVIVSVJUURUPVKVLUUMUUHQRZ
      UUOUUPYAQRYQUUTXTVMCYABVGVNZXOUUHVOVPVQUUKXHXPSUUKXHIZUUHBVRVTZUUHBYADBYA
      BXTWABQCWBZWCBXTUVDUCWKZWDWEUUTYQUVBUVCWFUVACUUHBWGVNWHWIVKVLWJUUEYFUUGIX
      SUUEYFXQTSHZXHGHZUUGUUEYEUVFXHGXTWLRUUEYEUVFIWMUVEXNXTWLWNULNUUCUVGUUGIUU
      DUUCUVGXRTXHGHZSHZUUGUUCXQUGRXQUNRZUVGUVIIZXNUHXQUIUVJTUNRYTUVKWOYQYSYTCU
      UAUUBWPZXQTXHXBWQUKUVHXHXRSXHUVLWRWIVKWJWSWJWTXCXA $.
      $( [30-Nov-2012] $)
  $}

  $( The size of the Cartesian product of two finite sets is the product of
     their sizes.  (Contributed by Paul Chapman, 30-Nov-2012.) $)
  hashxp $p |- ( ( A e. Fin /\ B e. Fin ) ->
                 ( # ` ( A X. B ) ) = ( ( # ` A ) x. ( # ` B ) ) ) $=
    ( cfn wcel cxp chash cfv cmul co wceq wi c0 cif xpeq2 fveq2d oveq2d eqeq12d
    fveq2 imbi2d 0fin elimel hashxplem dedth impcom ) BCDZACDZABEZFGZAFGZBFGZHI
    ZJZUEUFULKUFAUEBLMZEZFGZUIUMFGZHIZJZKBLBUMJZULURUFUSUHUOUKUQUSUGUNFBUMANOUS
    UJUPUIHBUMFRPQSAUMBLCTUAUBUCUD $.
    $( [30-Nov-2012] $)

  ${
    $d a x y z B $.  $d a x A $.
    $( The size of the set exponential of two finite sets is the exponential of
       their sizes.  (This is the original motivation behind the notation for
       set exponentiation.)  (Contributed by Mario Carneiro, 5-Aug-2014.) $)
    hashmap $p |- ( ( A e. Fin /\ B e. Fin ) ->
                   ( # ` ( A ^m B ) ) = ( ( # ` A ) ^ ( # ` B ) ) ) $=
      ( cfn wcel cmap co chash cfv cexp wceq fveq2d fveq2 eqeq12d imbi2d oveq2d
      wi c0 c1 cmul syl2anc va vx vy vz cv oveq1 oveq1d csn cun oveq2 cc hashcl
      cc0 cn0 nn0cn exp0 3syl eqcomd c1o vex map0e df1o2 fveq2i cvv 0ex hashsng
      eqtri ax-mp hash0 oveq2i 3eqtr4g wn wa cxp cen wbr cin simprr disjsn snex
      sylibr mapunen syl wb simpl simprl snfi unfi sylancl mapfi adantrr hashen
      mpbird hashxp mapsnen mpbiri 3eqtrd caddc hashunsng adantr ad2antrl expp1
      xpfi eqtrd syl5ibr expcom a2d findcard2s com12 vtoclga imp ) ACDBCDZABEFZ
      GHZAGHZBGHZIFZJZXLUAUEZBEFZGHZXSGHZXPIFZJZPXLXRPUAACXSAJZYDXRXLYEYAXNYCXQ
      YEXTXMGXSABEUFKYEYBXOXPIXSAGLUGMNXLXSCDZYDYFXSUBUEZEFZGHZYBYGGHZIFZJZPYFX
      SQEFZGHZYBQGHZIFZJZPYFXSUCUEZEFZGHZYBYRGHZIFZJZPYFXSYRUDUEZUHZUIZEFZGHZYB
      UUFGHZIFZJZPYFYDPUBUCUDBYGQJZYLYQYFUULYIYNYKYPUULYHYMGYGQXSEUJKUULYJYOYBI
      YGQGLOMNYGYRJZYLUUCYFUUMYIYTYKUUBUUMYHYSGYGYRXSEUJKUUMYJUUAYBIYGYRGLOMNYG
      UUFJZYLUUKYFUUNYIUUHYKUUJUUNYHUUGGYGUUFXSEUJKUUNYJUUIYBIYGUUFGLOMNYGBJZYL
      YDYFUUOYIYAYKYCUUOYHXTGYGBXSEUJKUUOYJXPYBIYGBGLOMNYFRYBUMIFZYNYPYFUUPRYFY
      BUNDZYBUKDZUUPRJXSULZYBUOZYBUPUQURYNQUHZGHZRYMUVAGYMUSUVAXSUAUTZVAVBVGVCQ
      VDDUVBRJVEQVDVFVHVGYOUMYBIVIVJVKYRCDZUUDYRDVLZVMZYFUUCUUKYFUVFUUCUUKPUUCU
      UKYFUVFVMZYTYBSFZUUBYBSFZJYTUUBYBSUFUVGUUHUVHUUJUVIUVGUUHYSXSUUEEFZVNZGHZ
      YTUVJGHZSFZUVHUVGUUHUVLJZUUGUVKVOVPZUVGYRUUEVQQJZUVPUVGUVEUVQYFUVDUVEVRZY
      RUUDVSWAYRUUEXSUCUTUUDVTUVCWBWCUVGUUGCDZUVKCDZUVOUVPWDUVGYFUUFCDZUVSYFUVF
      WEZUVGUVDUUECDZUWAYFUVDUVEWFZUUDWGZYRUUEWHWIXSUUFWJTUVGYSCDZUVJCDZUVTYFUV
      DUWFUVEXSYRWJWKZUVGYFUWCUWGUWBUWEXSUUEWJWIZYSUVJXCTUUGUVKWLTWMUVGUWFUWGUV
      LUVNJUWHUWIYSUVJWNTUVGUVMYBYTSUVGUVMYBJZUVJXSVOVPZXSUUDUDUTZWOUVGUWGYFUWJ
      UWKWDUWIUWBUVJXSWLTWPOWQUVGUUJYBUUARWRFZIFZUVIUVGUUIUWMYBIUVGUVDUVEUUIUWM
      JZUWDUVRUUDVDDUVFUWOPUWLYRUUDVDWSVHTOUVGUURUUAUNDZUWNUVIJYFUURUVFYFUUQUUR
      UUSUUTWCWTUVDUWPYFUVEYRULXAYBUUAXBTXDMXEXFXGXHXIXJXK $.
      $( [5-Aug-2014] $)

    $( The size of the power set of a finite set is 2 raised to the power of
       the size of the set.  (Contributed by Paul Chapman, 30-Nov-2012.)  (The
       proof was shortened by Mario Carneiro, 5-Aug-2014.) $)
    hashpw $p |- ( A e. Fin -> ( # ` ~P A ) = ( 2 ^ ( # ` A ) ) ) $=
      ( vx cv cpw chash cfv c2 cexp co wceq cfn pweq fveq2d fveq2 oveq2d c2o c0
      wcel df2o2 mpan eqeq12d cmap cen wbr vex pw2en wb pwfi biimpi csn eqeltri
      cpr prfi mapfi hashen syl2anc mpbiri hashmap fveq2i wne 0nep0 p0ex hashpr
      0ex mpbi eqtri oveq1i syl6eq eqtrd vtoclga ) BCZDZEFZGVKEFZHIZJADZEFZGAEF
      ZHIZJBAKVKAJZVMVQVOVSVTVLVPEVKALMVTVNVRGHVKAENOUAVKKRZVMPVKUBIZEFZVOWAVMW
      CJZVLWBUCUDZVKBUEUFWAVLKRZWBKRZWDWEUGWAWFVKUHUIPKRZWAWGPQQUJZULZKSQWIUMUK
      ZPVKUNTVLWBUOUPUQWAWCPEFZVNHIZVOWHWAWCWMJWKPVKURTWLGVNHWLWJEFZGPWJESUSQWI
      UTWNGJVAQWIVDVBVCVEVFVGVHVIVJ $.
      $( [5-Aug-2014] $) $( [30-Nov-2012] $)
  $}

  ${
    $d x y z F $.
    $( A finite set is a function iff it is equinumerous to its domain. $)
    hashfun $p |- ( F e. Fin -> ( Fun F <-> ( # ` F ) = ( # ` dom F ) ) ) $=
      ( vx vy vz cfn wcel chash cfv cdm wceq wbr adantr cr clt syl c1 caddc cle
      c0 c2 wfun wa cen simpl fundmeng ensymg sylc wb dmfi hashen syldan mpbird
      wrel cv cop wi wal wn wne cn0 hashcl nn0re cvv cxp wrex wral df-rel dfss3
      wss bitri notbii rexnal bitr4i w3a csn cdif co dmun fveq2i dmsnn0 biimpri
      cun necon1bi 3ad2ant3 uneq2d un0 syl6eq fveq2d syl5eq diffi peano2re cdom
      fidomdm hashdom syl2anc ltp1 lelttrd 3ad2ant1 eqbrtrd incom disjdif eqtri
      cin hashun mp3an23 vex hashsng ax-mp oveq2i syl6req breqtrd difsnid dmeqd
      snfi 3ad2ant2 3brtr3d 3exp rexlimdv imp ltne syl3anc necon4bd wex 2nalexn
      syl5bi df-ne anbi2i annim exbii bitr2i 2exbii cpr 2re readdcl sylancr 1re
      ex exnal opex ad2antrl undif biimpi syl5reqr dmprop eqtr4i uneq1i hashun2
      prss dfsn2 oveq1i syl6breq 1lt2 ltadd1 mp3an12 mpbii leadd2 mpbid mp3an13
      mp3an3 prfi opth2 necon3i hashpr oveq1d ad2antll 3eqtr3rd ltletrd exlimdv
      sylib exlimdvv dffun4 sylanbrc impbida ) AEFZAUAZAGHZAIZGHZJZUVNUVOUBZUVS
      AUVQUCKZUVTUVNUVQAUCKUWAUVNUVOUDAEUEUVQAEUFUGUVNUVOUVQEFZUVSUWAUHUVNUWBUV
      OAUIZLAUVQUJUKULUVNUVSUBAUMZBUNZCUNZUOZAFUWEDUNZUOZAFUBZUWFUWHJZUPZDUQZCU
      QBUQZUVOUVNUVSUWDUVNUWDUVPUVRUVNUWDURZUVPUVRUSZUVNUWOUBUVRMFZUVPMFZUVRUVP
      NKZUWPUVNUWQUWOUVNUVRUTFZUWQUVNUWBUWTUWCUVQVAOUVRVBOZLUVNUWRUWOUVNUVPUTFU
      WRAVAUVPVBOZLUVNUWOUWSUWOUWEVCVCVDZFZURZBAVEZUVNUWSUWOUXDBAVFZURUXFUWDUXG
      UWDAUXCVIUXGAVGBAUXCVHVJVKUXDBAVLVMUVNUXEUWSBAUVNUWEAFZUXEUWSUVNUXHUXEVNZ
      AUWEVOZVPZUXJWBZIZGHZUXLGHZUVRUVPNUXIUXNUXKGHZPQVQZUXONUXIUXNUXKIZGHZUXQN
      UXIUXNUXRUXJIZWBZGHUXSUXMUYAGUXKUXJVRVSUXIUYAUXRGUXIUYAUXRSWBUXRUXIUXTSUX
      RUXEUVNUXTSJUXHUXDUXTSUXDUXTSUSUWEVTWAWCWDWEUXRWFWGWHWIUVNUXHUXSUXQNKUXEU
      VNUXSUXPUXQUVNUXSUTFZUXSMFUVNUXREFZUYBUVNUXKEFZUYCAUXJWJZUXKUIOZUXRVAOUXS
      VBOUVNUXPUTFZUXPMFZUVNUYDUYGUYEUXKVAOUXPVBOZUVNUYHUXQMFUYIUXPWKOUVNUXSUXP
      RKZUXRUXKWLKZUVNUYDUYKUYEUXKWMOUVNUYCUYDUYJUYKUHUYFUYEUXRUXKWNWOULUVNUYHU
      XPUXQNKUYIUXPWPOWQWRWSUVNUXHUXQUXOJUXEUVNUXOUXPUXJGHZQVQZUXQUVNUYDUXOUYMJ
      ZUYEUYDUXJEFZUXKUXJXCZSJUYNUWEXNZUYPUXJUXKXCSUXKUXJWTUXJAXAXBUXKUXJXDXEOU
      YLPUXPQUWEVCFUYLPJBXFUWEVCXGXHZXIXJWRXKUXHUVNUXNUVRJUXEUXHUXMUVQGUXHUXLAA
      UWEXLZXMWHXOUXHUVNUXOUVPJUXEUXHUXLAGUYSWHXOXPXQXRYEXSUVRUVPXTZYAYQYBXSUVN
      UVSUWNUVNUWNUVPUVRUWNURZUWJUWFUWHUSZUBZDYCZCYCBYCZUVNUWPVUAUWMURZCYCBYCVU
      EUWMBCYDVUFVUDBCVUDUWLURZDYCVUFVUCVUGDVUCUWJUWKURZUBVUGVUBVUHUWJUWFUWHYFY
      GUWJUWKYHVJYIUWLDYRYJYKVJUVNVUDUWPBCUVNVUCUWPDUVNVUCUWPUVNVUCUBZUWQUWRUWS
      UWPUVNUWQVUCUXALZUVNUWRVUCUXBLZVUIUVRTAUWGUWIYLZVPZIZGHZQVQZUVPVUJVUITMFZ
      VUOMFZVUPMFZYMUVNVURVUCUVNVUOUTFZVURUVNVUNEFZVUTUVNVUMEFZVVAAVULWJZVUMUIO
      ZVUNVAOVUOVBOZLTVUOYNZYOVUKVUIUVRPVUOQVQZVUPVUJUVNVVGMFZVUCUVNPMFZVURVVHY
      PVVEPVUOYNYOLUVNVUSVUCUVNVUQVURVUSYMVVEVVFYOLVUIUVRUXJVUNWBZGHZVVGRUWJUVR
      VVKJUVNVUBUWJUVQVVJGUWJUVQVULIZVUNWBZVVJUWJVVMVULVUMWBZIUVQVULVUMVRUWJVVN
      AUWJVVNAJZUWJVULAVIVVOUWGUWIAUWEUWFYSZUWEUWHYSZUUHVULAUUAVJUUBZXMUUCVVLUX
      JVUNVVLUWEUWEYLUXJUWEUWEUWFUWHUUDUWEUUIUUEUUFWGWHYTUVNVVKVVGRKVUCUVNVVKUY
      LVUOQVQZVVGRUVNUYOVVAVVKVVSRKUYQVVDUXJVUNUUGYOUYLPVUOQUYRUUJUUKLWSUVNVVGV
      UPNKZVUCUVNPTNKZVVTUULUVNVURVWAVVTUHZVVEVVIVUQVURVWBYPYMPTVUOUUMUUNOUUOLW
      QVUIVUPTVUMGHZQVQZUVPRUVNVUPVWDRKZVUCUVNVUOVWCRKZVWEUVNVWFVUNVUMWLKZUVNVV
      BVWGVVCVUMWMOUVNVVAVVBVWFVWGUHVVDVVCVUNVUMWNWOULUVNVURVWCMFZVWFVWEUHZVVEU
      VNVWCUTFZVWHUVNVVBVWJVVCVUMVAOVWCVBOVURVWHVUQVWIYMVUOVWCTUUPUUSWOUUQLVUIV
      VNGHZVULGHZVWCQVQZUVPVWDUVNVWKVWMJZVUCUVNVVBVWNVVCVULEFVVBVULVUMXCSJVWNUW
      GUWIUUTVULAXAVULVUMXDUUROLUWJVWKUVPJUVNVUBUWJVVNAGVVRWHYTVUBVWMVWDJUVNUWJ
      VUBVWLTVWCQVUBUWGUWIUSVWLTJUWGUWIUWFUWHUWEUWFUWEUWHCXFDXFUVAUVBUWGUWIVVPV
      VQUVCUVIUVDUVEUVFXKUVGUYTYAYQUVHUVJYEYBXSBCDAUVKUVLUVM $.
      $( [26-Sep-2013] $)
  $}

  ${
    $d j k u v w x y z A $.  $d j k u v x K $.  $d u v x ph $.
    ${
      hashbc.1 $e |- ( ph -> A e. Fin ) $.
      hashbc.2 $e |- ( ph -> -. z e. A ) $.
      hashbc.3 $e |- ( ph -> A. j e. ZZ
        ( ( # ` A ) _C j ) = ( # ` { x e. ~P A | ( # ` x ) = j } ) ) $.
      hashbc.4 $e |- ( ph -> K e. ZZ ) $.
      $( Lemma for ~ hashbc : inductive step. $)
      hashbclem $p |- ( ph -> ( ( # ` ( A u. { z } ) ) _C K ) =
        ( # ` { x e. ~P ( A u. { z } ) | ( # ` x ) = K } ) ) $=
        ( chash cfv co c1 caddc wcel wceq wa wss cfn vu vv cbc cmin csn cun cpw
        cv wn crab cz wral oveq2 eqeq2 rabbidv fveq2d eqeq12d rcla4v sylc ssun1
        cab sspwb mpbi sseli adantl wi elpwi con3d syl mpan9 jca uncom syl6sseq
        ssel adantr cin c0 wb simpr disjsn sylibr disjssun mpbid impbida anbi1d
        vex elpw anass syl6bb abbidv df-rab 3eqtr4g eqtrd peano2zm cen wbr cdif
        cvv pwfi sylib rabexg fveq2 elrab ad2antrl unss1 snex unex ssfi syl2anc
        eqeq1d snfi a1i sseld mtod hashun syl3anc ax-mp oveq12d cc ax-1cn mpbir
        sylancl eleq2 anbi12d sylanbrc ex syl5bi cn0 hashcl snssd syl5eq oveq2i
        incom eqtri syl6eq oveq1d eqcom bitri ssrab2 wo simprr zcn npcan 3eqtrd
        hashsng ssun2 snss jctil ssundif difexg nn0cn 3syl pncan undif1 simprrl
        ssequn2 disjdif simprrr 3eqtr3d eqtr3d anbi12i simp3rl uneqdifeq bicomd
        w3a 3adant3 eqeq1i 3bitr4g 3expib en3d unfi hashen mpbird bcpasc eqtr4d
        pm2.1 biantrur andir rabbiia eqtr4i fveq2i simprl simpll pm2.65i rabeq0
        unrab inrab rgenw 3eqtr4d ) ADKLZFUCMZUWJFNUDMZUCMZOMZCUHZBUHZPZUIZUWPK
        LZFQZRZBDUWOUEZUFZUGZUJZKLZUWQUWTRZBUXDUJZKLZOMZUXCKLZFUCMZUWTBUXDUJZKL
        ZAUWKUXFUWMUXIOAUWKUWTBDUGZUJZKLZUXFAFUKPZUWJEUHZUCMZUWSUXSQZBUXOUJZKLZ
        QZEUKULZUWKUXQQZJIUYDUYFEFUKUXSFQZUXTUWKUYCUXQUXSFUWJUCUMUYGUYBUXPKUYGU
        YAUWTBUXOUXSFUWSUNUOUPUQURUSAUXPUXEKAUWPUXOPZUWTRZBVAUWPUXDPZUXARZBVAUX
        PUXEAUYIUYKBAUYIUYJUWRRZUWTRUYKAUYHUYLUWTAUYHUYLAUYHRUYJUWRUYHUYJAUXOUX
        DUWPDUXCSUXOUXDSDUXBUTDUXCVBVCVDVEAUWODPZUIZUYHUWRHUYHUWPDSZUYNUWRVFUWP
        DVGUYOUWQUYMUWPDUWOVNVHVIVJVKUYLUYHAUYLUYOUYHUYLUWPUXBDUFZSZUYOUYJUYQUW
        RUYJUWPUXCUYPUWPUXCVGDUXBVLZVMVOUYLUWPUXBVPVQQZUYQUYOVRUYLUWRUYSUYJUWRV
        SUWPUWOVTWAUWPUXBDWBVIWCUWPDBWFWGWAVEWDWEUYJUWRUWTWHWIWJUWTBUXOWKUXABUX
        DWKWLUPWMAUWMUWSUWLQZBUXOUJZKLZUXIAUWLUKPZUYEUWMVUBQZAUXRVUCJFWNVIIUYDV
        UDEUWLUKUXSUWLQZUXTUWMUYCVUBUXSUWLUWJUCUMVUEUYBVUAKVUEUYAUYTBUXOUXSUWLU
        WSUNUOUPUQURUSAVUBUXIQZVUAUXHWOWPZAUAUBVUAUXHUAUHZUXBUFZUBUHZUXBWQZAUXO
        TPZVUAWRPADTPZVULGDWSWTZUYTBUXOTXAVIVUHVUAPZVUHUXOPZVUHKLZUWLQZRZAVUIUX
        HPZUYTVURBVUHUXOUWPVUHQUWSVUQUWLUWPVUHKXBXJXCZAVUSVUTAVUSRZVUIUXDPZUWOV
        UIPZVUIKLZFQZRZVUTVVBVUIUXCSZVVCVVBVUHDSZVVHVUPVVIAVURVUHDVGXDZVUHDUXBX
        EVIVUIUXCVUHUXBUAWFUWOXFXGWGWAVVBVVFVVDVVBVVEVUQUXBKLZOMZUWLNOMZFVVBVUH
        TPZUXBTPZVUHUXBVPZVQQZVVEVVLQVVBVUMVVIVVNAVUMVUSGVOVVJDVUHXHXIVVOVVBUWO
        XKZXLVVBUWOVUHPZUIVVQVVBVVSUYMAUYNVUSHVOVVBVUHDUWOVVJXMXNVUHUWOVTWAZVUH
        UXBXOXPVVBVUQUWLVVKNOAVUPVURUUAVVKNQZVVBUWOWRPVWACWFZUWOWRUUEXQZXLXRVVB
        FXSPZNXSPZVVMFQVVBUXRVWDAUXRVUSJVOFUUBVIXTFNUUCYBUUDVVDUXBVUISUXBVUHUUF
        UWOVUIVWBUUGYAUUHUXGVVGBVUIUXDUWPVUIQZUWQVVDUWTVVFUWPVUIUWOYCVWFUWSVVEF
        UWPVUIKXBXJYDXCYEYFYGVUJUXHPZVUJUXDPZUWOVUJPZVUJKLZFQZRZRZAVUKVUAPZUXGV
        WLBVUJUXDUWPVUJQZUWQVWIUWTVWKUWPVUJUWOYCVWOUWSVWJFUWPVUJKXBXJYDXCZAVWMV
        WNAVWMRZVUKUXOPZVUKKLZUWLQZVWNVWQVUKDSZVWRVWQVUJUYPSVXAVWQVUJUXCUYPVWHV
        UJUXCSAVWLVUJUXCVGXDUYRVMVUJUXBDUUIWTZVUKDVUJWRPVUKWRPUBWFVUJUXBWRUUJXQ
        WGWAVWQVWSNOMZNUDMZVWSUWLVWQVWSXSPZVWEVXDVWSQVWQVUKTPZVWSYHPVXEVWQVUMVX
        AVXFAVUMVWMGVOVXBDVUKXHXIZVUKYIVWSUUKUULXTVWSNUUMYBVWQVXCFNUDVWQVUKUXBU
        FZKLZVWJVXCFVWQVXHVUJKVWQVXHVUJUXBUFZVUJVUJUXBUUNVWQUXBVUJSZVXJVUJQVWQU
        WOVUJAVWHVWIVWKUUOYJUXBVUJUUPWTYKUPVWQVXIVWSVVKOMZVXCVWQVXFVVOVUKUXBVPZ
        VQQZVXIVXLQVXGVVOVWQVVRXLVXNVWQVXMUXBVUKVPVQVUKUXBYMUXBVUJUUQYNXLVUKUXB
        XOXPVVKNVWSOVWCYLYOAVWHVWIVWKUURUUSYPUUTUYTVWTBVUKUXOUWPVUKQUWSVWSUWLUW
        PVUKKXBXJXCYEYFYGVUOVWGRVUSVWMRAVUHVUKQZVUJVUIQZVRZVUOVUSVWGVWMVVAVWPUV
        AAVUSVWMVXQAVUSVWMUVEZVUKVUHQZUXBVUHUFZVUJQZVXOVXPVXRVYAVXSVXRVXKUXBVUH
        VPZVQQVYAVXSVRVXRUWOVUJVWIVWKVWHAVUSUVBYJVXRVYBVVPVQUXBVUHYMAVUSVVQVWMV
        VTUVFYKUXBVUHVUJUVCXIUVDVUHVUKYQVXPVUIVUJQVYAVUJVUIYQVUIVXTVUJVUHUXBVLU
        VGYRUVHUVIYGUVJAVUATPZUXHTPZVUFVUGVRAVULVUAUXOSVYCVUNUYTBUXOYSUXOVUAXHY
        BAUXDTPZUXHUXDSVYDAUXCTPZVYEAVUMVVOVYFGVVRDUXBUVKYBUXCWSWTZUXGBUXDYSUXD
        UXHXHYBZVUAUXHUVLXIUVMWMXRAUXLUWJNOMZFUCMZUWNAUXKVYIFUCAUXKUWJVVKOMZVYI
        AVUMVVODUXBVPVQQZUXKVYKQGVVOAVVRXLAUYNVYLHDUWOVTWADUXBXOXPVVKNUWJOVWCYL
        YOYPAUWJYHPZUXRUWNVYJQAVUMVYMGDYIVIJFUWJUVNXIUVOAUXNUXEUXHUFZKLZUXJUXMV
        YNKUXMUXAUXGYTZBUXDUJVYNUWTVYPBUXDUWTVYPVRUYJUWTUWRUWQYTZUWTRVYPVYQUWTU
        WQUVPUVQUWRUWQUWTUVRYRXLUVSUXAUXGBUXDUWFUVTUWAAUXETPZVYDUXEUXHVPZVQQZVY
        OUXJQAVYEUXEUXDSVYRVYGUXABUXDYSUXDUXEXHYBVYHVYTAVYSUXAUXGRZBUXDUJZVQUXA
        UXGBUXDUWGWUBVQQWUAUIZBUXDULWUCBUXDWUAUWQUXAUWQUWTUWBUWRUWTUXGUWCUWDUWH
        WUABUXDUWEYAYNXLUXEUXHXOXPYKUWI $.
        $( [13-Jul-2014] $)
    $}

    $( The binomial coefficient counts the number of subsets of a finite set of
       a given size.  (Contributed by Mario Carneiro, 13-Jul-2014.) $)
    hashbc $p |- ( ( A e. Fin /\ K e. ZZ ) ->
      ( ( # ` A ) _C K ) = ( # ` { x e. ~P A | ( # ` x ) = K } ) ) $=
      ( vk vj wcel chash cfv cv cbc co wceq crab cz c0 fveq2 fveq2d eqeq12d cc0
      wral vw vy vz cfn cpw csn cun oveq1d pweq rabeq syl ralbidv cfz 0nn0 bcn0
      c1 cn0 ax-mp hash0 a1i elfz1eq oveq12d pw0 eqcomd raleqi 0ex ralsn syl6eq
      wsbc eqeq1d sbcie 3bitri sylibr rabid2 syl5reqr hashsng 3eqtr4a adantl wn
      cvv wa oveq1i bcval3 mp3an1 id elfz3 syl6eqelr con3i notbid rabeq0 eqtr4d
      0z syl5eq pm2.61dan rgen oveq2 eqeq2 rabbidv cbvrabv simpll simplr simprr
      cbvralv fveq2i eqeq2i ralbii simprl hashbclem ralrimdva syl5bi findcard2s
      expr rcla4cva sylan ) BUDFBGHZDIZJKZAIZGHZXPLZABUEZMZGHZLZDNTZCNFXOCJKZXS
      CLZAYAMZGHZLZUAIZGHZXPJKZXTAYKUEZMZGHZLZDNTOGHZXPJKZXTAOUEZMZGHZLZDNTUBIZ
      GHZXPJKZXTAUUDUEZMZGHZLZDNTZUUDUCIZUFUGZGHZXPJKZXTAUUMUEZMZGHZLZDNTZYEUAU
      BUCBYKOLZYQUUCDNUVAYMYSYPUUBUVAYLYRXPJYKOGPUHUVAYOUUAGUVAYNYTLYOUUALYKOUI
      XTAYNYTUJUKQRULYKUUDLZYQUUJDNUVBYMUUFYPUUIUVBYLUUEXPJYKUUDGPUHUVBYOUUHGUV
      BYNUUGLYOUUHLYKUUDUIXTAYNUUGUJUKQRULYKUUMLZYQUUSDNUVCYMUUOYPUURUVCYLUUNXP
      JYKUUMGPUHUVCYOUUQGUVCYNUUPLYOUUQLYKUUMUIXTAYNUUPUJUKQRULYKBLZYQYDDNUVDYM
      XQYPYCUVDYLXOXPJYKBGPUHUVDYOYBGUVDYNYALYOYBLYKBUIXTAYNYAUJUKQRULUUCDNXPNF
      ZXPSSUMKZFZUUCUVGUUCUVEUVGSSJKZUPYSUUBSUQFZUVHUPLUNSUOURUVGYRSXPSJYRSLUVG
      USUTXPSVAZVBUVGUUBOUFZGHZUPUVGUUAUVKGUVGUVKYTUUAVCUVGXTAYTTZYTUUALUVGSXPL
      ZUVMUVGXPSUVJVDUVMXTAUVKTXTAOVIUVNXTAYTUVKVCVEXTAOVFVGXTUVNAOVFXROLZXSSXP
      UVOXSYRSXROGPUSVHVJZVKVLVMXTAYTVNVMVOQOVTFUVLUPLVFOVTVPURVHVQVRUVEUVGVSZW
      AZYSSXPJKZUUBYRSXPJUSWBUVRUVSSUUBUVIUVEUVQUVSSLUNXPSWCWDUVRUUBYRSUVRUUAOG
      UVRXTVSZAYTTZUUAOLUVRUVNVSZUWAUVQUWBUVEUVNUVGUVNXPSUVFUVNWESNFSUVFFWLSWFU
      RWGWHVRUWAUVTAUVKTUVTAOVIUWBUVTAYTUVKVCVEUVTAOVFVGUVTUWBAOVFUVOXTUVNUVPWI
      VKVLVMXTAYTWJVMQUSVHWKWMWNWOUUKUUEEIZJKZUULGHZUWCLZUCUUGMZGHZLZENTZUUDUDF
      ZUULUUDFVSZWAZUUTUUJUWIDENXPUWCLZUUFUWDUUIUWHXPUWCUUEJWPUWNUUHUWGGUWNUUHX
      SUWCLZAUUGMZUWGUWNXTUWOAUUGXPUWCXSWQWRUWOUWFAUCUUGXRUULLXSUWEUWCXRUULGPVJ
      WSZVHQRXCUWMUWJUUSDNUWMUVEUWJUUSUWMUVEUWJWAZWAZAUCUUDEXPUWKUWLUWRWTUWKUWL
      UWRXAUWSUWJUWDUWPGHZLZENTUWMUVEUWJXBUXAUWIENUWTUWHUWDUWPUWGGUWQXDXEXFVMUW
      MUVEUWJXGXHXLXIXJXKYDYJDCNXPCLZXQYFYCYIXPCXOJWPUXBYBYHGUXBXTYGAYAXPCXSWQW
      RQRXMXN $.
      $( [13-Jul-2014] $)
  $}

  ${
    $d f n x A $.  $d f B $.  $d f G $.  $d f n x R $.
    fz1iso.1 $e |- G = ( rec ( ( n e. _V |-> ( n + 1 ) ) , 1 ) |` om ) $.
    fz1iso.2 $e |- B = ( NN i^i ( `' < " { ( ( # ` A ) + 1 ) } ) ) $.
    fz1iso.3 $e |- C = ( om i^i ( `' G ` ( ( # ` A ) + 1 ) ) ) $.
    $( Lemma for ~ fz1iso . $)
    fz1isolem $p |- ( ( R Or A /\ A e. Fin ) ->
                  E. f f Isom < , R ( ( 1 ... ( # ` A ) ) , A ) ) $=
      ( wcel cep wiso con0 c1 cfv clt cn com cvv vx wor cfn wa cv wex chash cfz
      wrex co wreu wwe simpr wofi ordtype syl2anc reurex syl ccnv cres ccom cn0
      hashcl ad2antlr caddc cuz wceq nnuz om2uzisoi isoeq5 mpbiri ax-mp nn0p1nn
      1z isocnv cin csn cima fvex epini ineq2i eqtr4i isoini2 sylancr wb cle cz
      wbr nnz nn0z eluz syl2anr zleltp1 ovex vex eliniseg syl6bbr bitr2d eleq2i
      pm5.32da elin bitri elfzuzb anbi1i bitr4i 3bitr4g eqrdv isoeq4 mpbid cmpt
      cc0 crdg simprl simplr wf1o simprr isof1o f1oen 3syl enfi mpbird sylanbrc
      cen onfin2 syl6eleqr cmin eqid uzrdgxfr ax-1cn subid1i oveq2i syl6eq ccrd
      0z ensymg sylc cardennn fveq2d eqtr3d eqtrd hashgval oveq1d f1ocnvfv1 wss
      ineq2d word ordom ordelss sseqin2 sylib isotr wfun wfn rdgfnon fnfun omex
      syl5eq resfunexg mp2an eqeltri cnvex coex isoeq1 cla4ev exlimdv rexlimdva
      resex expr mpd ) ADUBZAUCKZUDZUAUEZALDFUEZMZFUFZUANUIZOAUGPZUHUJZAQDEUEZM
      ZEUFZUVLUVPUANUKZUVQUVLUVKADULUWCUVJUVKUMADUNUAAUCDFUOUPUVPUANUQURUVLUVPU
      WBUANUVLUVMNKZUDUVOUWBFUVLUWDUVOUWBUVLUWDUVOUDZUDZUVSAQDUVNGUSZBUTZVAZMZU
      WBUWFUVSUVMQLUWHMZUVOUWJUWFUVSCQLUWHMZUWKUWFBCQLUWHMZUWLUWFUVRVBKZUWMUVKU
      WNUVJUWEAVCVDZUWNRSQLUWGMZUVROVEUJZRKUWMSRLQGMZUWPROVFPZVGZUWRVHUWTUWRSUW
      SLQGMFOGVNHVISRUWSLQGVJVKVLZSRLQGVOVLUVRVMRSBCQLUWGUWQICSUWQUWGPZVPZSLUSU
      XBVQVRZVPJUXDUXBSUXBUWQUWGVSVTWAWBWCWDURUWFBUVSVGUWMUWLWEUWFEBUVSUWFUVTRK
      ZUVTQUSUWQVQVRZKZUDZUXEUVRUVTVFPKZUDZUVTBKZUVTUVSKZUWFUXEUXGUXIUWFUXEUDZU
      XIUVTUVRWFWHZUXGUXEUVTWGKZUVRWGKZUXIUXNWEUWFUVTWIZUWFUWNUXPUWOUVRWJURZUVT
      UVRWKWLUXMUXNUVTUWQQWHZUXGUXEUXOUXPUXNUXSWEUWFUXQUXRUVTUVRWMWLUWQTKUXGUXS
      WEUVROVEWNQUWQUVTTEWOWPVLWQWRWTUXKUVTRUXFVPZKUXHBUXTUVTIWSUVTRUXFXAXBUXLU
      VTUWSKZUXIUDZUXJUVRTKUXLUYBWEAUGVSTUVTOUVRXCVLUXEUYAUXIRUWSUVTVHWSXDXEXFX
      GBCUVSQLUWHXHURXIUWFCUVMVGUWLUWKWEUWFCUXCUVMJUWFUXCSUVMVPZUVMUWFUXBUVMSUW
      FUVMGPZUWGPZUXBUVMUWFUYDUWQUWGUWFUYDUVMFTUVNOVEUJXJZXKXLSUTZPZOVEUJZUWQUW
      FUVMSKZUYDUYIVGUWFUVMNUCVPZSUWFUWDUVMUCKZUVMUYKKUVLUWDUVOXMUWFUYLUVKUVJUV
      KUWEXNZUWFUVKUVMAYCWHZUYLUVKWEUYMUWFUVOUVMAUVNXOUYNUVLUWDUVOXPZUVMALDUVNX
      QUVMAUVNUAWOXRXSZUVMAUCXTUPYAUVMNUCXAYBYDYEZUYJUYDUYHOXKYFUJZVEUJUYIFOXKG
      UYGUVMHUYGYGZVNYNYHUYROUYHVEOYIYJYKYLURUWFUYHUVROVEUWFAYMPZUYGPZUYHUVRUWF
      UYTUVMUYGUWFAUVMYCWHZUYJUYTUVMVGUWFUVKUYNVUBUYMUYPUVMAUCYOYPUYQAUVMYQUPYR
      UVKVUAUVRVGUVJUWEFAUYGUYSUUAVDYSUUBYTYRUWFSRGXOZUYJUYEUVMVGUWRVUCUXASRLQG
      XQVLUYQSRUVMGUUCWDYSUUEUWFUVMSUUDZUYCUVMVGUWFSUUFUYJVUDUUGUYQSUVMUUHWDUVM
      SUUIUUJYTUUQUVSCUVMQLUWHVJURXIUYOUVSUVMAQLDUVNUWHUUKUPUWAUWJEUWIUVNUWHFWO
      UWGBGGUYFOXLZSUTZTHVUEUULZSTKVUFTKVUENUUMVUGOUYFUUNNVUEUUOVLUUPVUESTUURUU
      SUUTUVAUVGUVBUVSAQDUWIUVTUVCUVDURUVHUVEUVFUVI $.
      $( [2-Apr-2014] $)
  $}

  ${
    $d f n A $.  $d f n R $.
    $( Any finite ordered set has an order isometry to a one-based finite
       sequence.  (Contributed by Mario Carneiro, 2-Apr-2014.) $)
    fz1iso $p |- ( ( R Or A /\ A e. Fin ) ->
                  E. f f Isom < , R ( ( 1 ... ( # ` A ) ) , A ) ) $=
      ( vn cn clt ccnv chash cfv c1 caddc co csn cima cin com cvv cv cmpt eqid
      crdg cres fz1isolem ) AEFGAHIJKLZMNOZPUDDQDRJKLSJUAPUBZGIOZBCDUFUFTUETUGT
      UC $.
      $( [2-Apr-2014] $)
  $}

  ${
    $d k m n y A $.  $d k m n y F $.  $d k m n y G $.  $d m n y H $.  $d y N $.
    $d k m n y M $.  $d k m n y P $.  $d k m n y ph $.  $d k n S $.  $d k Z $.
    seqcoll.1 $e |- ( ( ph /\ k e. S ) -> ( Z P k ) = k ) $.
    seqcoll.1b $e |- ( ( ph /\ k e. S ) -> ( k P Z ) = k ) $.
    seqcoll.c $e |- ( ( ph /\ ( k e. S /\ n e. S ) ) -> ( k P n ) e. S ) $.
    seqcoll.a $e |- ( ph -> Z e. S ) $.
    seqcoll.2 $e |- ( ph -> G Isom < , < ( ( 1 ... ( # ` A ) ) , A ) ) $.
    seqcoll.3 $e |- ( ph -> N e. ( 1 ... ( # ` A ) ) ) $.
    seqcoll.4 $e |- ( ph -> A C_ ( ZZ>= ` M ) ) $.
    seqcoll.5 $e |- ( ( ph /\ k e. ( M ... ( G ` ( # ` A ) ) ) ) ->
                      ( F ` k ) e. S ) $.
    seqcoll.6 $e |- ( ( ph /\ k e. ( ( M ... ( G ` ( # ` A ) ) ) \ A ) ) ->
                      ( F ` k ) = Z ) $.
    seqcoll.7 $e |- ( ( ph /\ n e. ( 1 ... ( # ` A ) ) ) ->
                      ( H ` n ) = ( F ` ( G ` n ) ) ) $.
    $( The function ` F ` contains a sparse set of non-zero values to be
       summed.  The function ` G ` is an order isomorphism from the set of
       non-zero values of ` F ` to a 1-based finite sequence, and ` H `
       collects these non-zero values together.  Under these conditions, the
       sum over the values in ` H ` yields the same result as the sum over the
       original set ` F ` .  (Contributed by Mario Carneiro, 2-Apr-2014.) $)
    seqcoll $p |- ( ph -> ( seq M ( P , F ) ` ( G ` N ) ) =
                          ( seq 1 ( P , H ) ` N ) ) $=
      ( vy vm c1 chash cfv cfz co wcel cseq wceq cn wi elfznn caddc eleq1 fveq2
      syl cv fveq2d eqeq12d imbi12d imbi2d cuz cres wf wf1o clt wiso isof1o cvv
      f1of fvex elfzuz2 sylancr eluzfz1 ffvelrn syl2anc sseldd cle eluzle wn wb
      wbr eluzfz2 isorel syl12anc 1re ltnle sylancl eluzelz zre 3bitr3d con4bid
      cr cz mpbid mpbird expcom vtoclga mpcom cmin wss peano2zm ltm1 ltle letrd
      wa mpd eluz fzss2 sselda 3syl sylan nnre adantr breq1d mtbid ex con2d imp
      syl5 sylanbrc syldan seq1 ax-mp ad2antlr elfzuz3 elfzuzb ad2antrr zltlem1
      elfzle2 adantl elfzelz uztrn adantrr 3bitrd cc a2d eluzelre elfz5 eluzel2
      eleq1d cdif elfzm11 simp3 f1ocnv nnge1 lenlt f1ocnvfv2 bitrd sylbid eldif
      w3a ccnv seqid fveq1d fvres eqtr4d 3eqtr3d 1z syl6eqr a1d simplr syl6eleq
      uzid nnuz simpr peano2uzr imim1d oveq1 simpll ltp1 seqcl simplll peano2uz
      nnz elfzuz syl2anr ovex mpan syl2an elfzle1 jca simprr btwnnz 3expib sylc
      breq2d zltp1le anbi12d expr seqid2 oveq1d impcom adantlr oveq2d zcn npcan
      ax-1cn eluzp1p1 eqeltrrd seqm1 3eqtr4rd seqp1 syl5ibr syld nnind ) AKUEBU
      FUGZUHUIZUJZKHUGZCGJUKZUGZKCIUEUKZUGZULZRKUMUJZAUXLUXRUNZAUXLUXSRKUXJUOUS
      AUCUTZUXKUJZUYAHUGZUXNUGZUYAUXPUGZULZUNZUNAUEUXKUJZUEHUGZUXNUGZUEUXPUGZUL
      ZUNZUNAUDUTZUXKUJZUYNHUGZUXNUGZUYNUXPUGZULZUNZUNAUYNUEUPUIZUXKUJZVUAHUGZU
      XNUGZVUAUXPUGZULZUNZUNAUXTUNUCUDKUYAUEULZUYGUYMAVUHUYBUYHUYFUYLUYAUEUXKUQ
      VUHUYDUYJUYEUYKVUHUYCUYIUXNUYAUEHURVAUYAUEUXPURVBVCVDUYAUYNULZUYGUYTAVUIU
      YBUYOUYFUYSUYAUYNUXKUQVUIUYDUYQUYEUYRVUIUYCUYPUXNUYAUYNHURVAUYAUYNUXPURVB
      VCVDUYAVUAULZUYGVUGAVUJUYBVUBUYFVUFUYAVUAUXKUQVUJUYDVUDUYEVUEVUJUYCVUCUXN
      UYAVUAHURVAUYAVUAUXPURVBVCVDUYAKULZUYGUXTAVUKUYBUXLUYFUXRUYAKUXKUQVUKUYDU
      XOUYEUXQVUKUYCUXMUXNUYAKHURVAUYAKUXPURVBVCVDAUYLUYHAUYJUEIUGZUYKAUYIUXNUY
      IVEUGZVFZUGZUYICGUYIUKZUGZUYJVULAUYIVUNVUPAECDGJUYILMPABJVEUGZUYISAUXKBHV
      GZUYHUYIBUJAUXKBHVHZVUSAUXKBVIVIHVJZVUTQUXKBVIVIHVKUSZUXKBHVMUSZAUXJUEVEU
      GZUJZUYHAUXJVLUJZUXLVVEBUFVNZRVLKUEUXJVOVPZUEUXJVQUSZUXKBUEHVRVSVTZUYIJUX
      JHUGZUHUIZUJZAUYIGUGZDUJZAVVMUYIVVKWAWEZAUEUXJWAWEZVVPAVVEVVQVVHUEUXJWBUS
      AVVQVVPAUXJUEVIWEZVVKUYIVIWEZVVQWCZVVPWCZAVVAUXJUXKUJZUYHVVRVVSWDQAVVEVWB
      VVHUEUXJWFUSZVVIUXKBUXJUEVIVIHWGWHAUXJWPUJZUEWPUJZVVRVVTWDAVVEVWDVVHUEUXJ
      UUAUSZWIUXJUEWJWKAVVKWPUJZUYIWPUJZVVSVWAWDAVVKWQUJZVWGAVVKVURUJVWIABVURVV
      KSAVUSVWBVVKBUJVVCVWCUXKBUXJHVRVSVTJVVKWLUSZVVKWMUSZAUYIWQUJZVWHAUYIVURUJ
      ZVWLVVJJUYIWLUSZUYIWMUSZVVKUYIWJVSWNWOWRZAVWMVWIVVMVVPWDVVJVWJUYIJVVKUUBV
      SWSAEUTZGUGZDUJZUNAVVOUNEUYIVVLVWQUYIULZVWSVVOAVWTVWRVVNDVWQUYIGURUUDVDAV
      WQVVLUJZVWSTWTXAXBAVWQJUYIUEXCUIZUHUIZUJZVWQVVLBUUEUJZVWRLULZAVXDXIVXAVWQ
      BUJZWCZVXEAVXCVVLVWQAVVKVXBVEUGUJZVXCVVLXDAVXIVXBVVKWAWEZAVXBUYIVVKAVXBWQ
      UJZVXBWPUJZAVWLVXKVWNUYIXEUSZVXBWMUSZVWOVWKAVXBUYIVIWEZVXBUYIWAWEZAVWHVXO
      VWOUYIXFUSAVXLVWHVXOVXPUNVXNVWOVXBUYIXGVSXJVWPXHAVXKVWIVXIVXJWDVXMVWJVXBV
      VKXKVSWSVXBJVVKXLUSXMAVXDVXHAVXDVWQWQUJZJVWQWAWEZVWQUYIVIWEZUUOZVXHAJWQUJ
      ZVWLVXDVXTWDAVWMVYAVVJJUYIUUCUSZVWNVWQJUYIUUFVSVXTVXSAVXHVXQVXRVXSUUGAVXG
      VXSAVXGVXSWCAVXGXIZVWQHUUPZUGZUEVIWEZVXSVYCVYEUXKUJZVYEUMUJZVYFWCZABUXKVY
      DVGZVXGVYGAVUTBUXKVYDVHVYJVVBUXKBHUUHBUXKVYDVMXNZBUXKVWQVYDVRZXOZVYEUXJUO
      VYHUEVYEWAWEZVYIVYEUUIVYHVWEVYEWPUJVYNVYIWDWIVYEXPUEVYEUUJVPWRXNVYCVYFVYE
      HUGZUYIVIWEZVXSVYCVVAVYGUYHVYFVYPWDAVVAVXGQXQVYMAUYHVXGVVIXQUXKBVYEUEVIVI
      HWGWHVYCVYOVWQUYIVIAVUTVXGVYOVWQULZVVBUXKBVWQHUUKZXOXRUULXSXTYAYCUUMYBVWQ
      VVLBUUNZYDUAYEUUQUURAUYIVUMUJZVUOUYJULAVWLVYTVWNUYIUVGUSUYIVUMUXNUUSUSAVU
      QVVNVULAVWLVUQVVNULVWNCGUYIYFUSUYHAVULVVNULZVVIAFUTZIUGZWUBHUGZGUGZULZUNZ
      AWUAUNFUEUXKWUBUEULZWUFWUAAWUHWUCVULWUEVVNWUBUEIURWUHWUDUYIGWUBUEHURVAVBV
      DAWUBUXKUJWUFUBWTZXAXBUUTUVAUEWQUJUYKVULULUVBCIUEYFYGUVCUVDUYNUMUJZAUYTVU
      GAWUJUYTVUGUNAWUJXIZUYTVUBUYSUNVUGWUKVUBUYOUYSWUKVUBUYOWUKVUBXIZUYNVVDUJZ
      UXJUYNVEUGUJZUYOWULUYNUMVVDAWUJVUBUVEUVHUVFZWULUYNWQUJZUXJVUAVEUGUJZWUNWU
      JWUPAVUBUYNUVRZYHWULVVFVUBWUQVVGWUKVUBUVIZVLVUAUEUXJYIVPUYNUXJUVJVSVVFUYO
      WUMWUNXIWDVVGVLUYNUEUXJYJYGYDZXTUVKWUKVUBUYSVUFWUKVUBUYSVUFUNUYSVUFWULUYQ
      VUAIUGZCUIZUYRWVACUIZULUYQUYRWVACUVLWULVUDWVBVUEWVCWULUYQVUCGUGZCUIVUCUEX
      CUIZUXNUGZWVDCUIZWVBVUDWULUYQWVFWVDCWULECDGUYPJWVELWULAVWQDUJZVWQLCUIVWQU
      LAWUJVUBUVMZNXOWULBVURUYPABVURXDZWUJVUBSYKZWULVUSUYOUYPBUJAVUSWUJVUBVVCYK
      ZWUTUXKBUYNHVRVSVTZWULWVEUYPVEUGZUJZUYPWVEWAWEZWULUYPVUCVIWEZWVPWULUYNVUA
      VIWEZWVQWULUYNWPUJZWVRWUJWVSAVUBUYNXPYHUYNUVNUSWULVVAUYOVUBWVRWVQWDAVVAWU
      JVUBQYKZWUTWUSUXKBUYNVUAVIVIHWGWHWRWULUYPWQUJZVUCWQUJZWVQWVPWDWULUYPVURUJ
      ZWWAWVMJUYPWLUSZWULVUCVURUJWWBWULBVURVUCWVKWULVUSVUBVUCBUJWVLWUSUXKBVUAHV
      RVSVTJVUCWLUSZUYPVUCYLVSWRWULWWAWVEWQUJZWVOWVPWDWWDWULWWBWWFWWEVUCXEUSZUY
      PWVEXKVSWSZWULEFCDGJUYPWVMWULVWQJUYPUHUIZUJVXAVWSWULWWIVVLVWQWULVVKWVNUJZ
      WWIVVLXDWULVVKWVEVEUGUJZWVOWWJWULWWKWVEVVKWAWEZWULWVEVUCVVKWULWWFWVEWPUJZ
      WWGWVEWMUSZWULWWBVUCWPUJZWWEVUCWMUSZAVWGWUJVUBVWKYKZWULWVEVUCVIWEZWVEVUCW
      AWEZWULWWOWWRWWPVUCXFUSWULWWMWWOWWRWWSUNWWNWWPWVEVUCXGVSXJWULVUAUXJWAWEZV
      UCVVKWAWEZVUBWWTWUKVUAUEUXJYMYNWULWWTWXAWULUXJVUAVIWEZVVKVUCVIWEZWWTWCZWX
      AWCZWULVVAVWBVUBWXBWXCWDWVTAVWBWUJVUBVWCYKWUSUXKBUXJVUAVIVIHWGWHWULVWDVUA
      WPUJZWXBWXDWDAVWDWUJVUBVWFYKWULVUAWQUJZWXFVUBWXGWUKVUAUEUXJYOYNVUAWMUSUXJ
      VUAWJVSWULVWGWWOWXCWXEWDWWQWWPVVKVUCWJVSWNWOWRXHWULWWFVWIWWKWWLWDWWGAVWIW
      UJVUBVWJYKWVEVVKXKVSWSZWWHWVEVVKUYPYPVSUYPJVVKXLUSXMWULAVXAVWSWVITXOYEWUL
      AWVHWUBDUJXIVWQWUBCUIDUJWVIOXOUVOWULVWQUYPUEUPUIZWVEUHUIUJZXIZAVXEVXFAWUJ
      VUBWXJUVPWXKVXAVXHVXEWXKVWQVURUJZVVKVWQVEUGZUJZVXAWXJVWQWXIVEUGUJWXIVURUJ
      ZWXLWULVWQWXIWVEUVSWULWWCWXOWVMJUYPUVQUSWXIVWQJYPUVTWULWWKWVEWXMUJZWXNWXJ
      WXHWVEVLUJWXJWXPVUCUEXCUWAVLVWQWXIWVEYIUWBWVEVVKVWQYPUWCVVKVLUJVXAWXLWXNX
      IWDUXJHVNVLVWQJVVKYJYGYDWULWXJVXHWXJWXIVWQWAWEZVWQWVEWAWEZXIZWULVXHWXJWXQ
      WXRVWQWXIWVEUWDVWQWXIWVEYMUWEWULVXGWXSWUKVUBVXGWXSWCWUKVUBVXGXIZXIZUYNVYE
      VIWEZVYEVUAVIWEZXIZWXSWYAWUPVYEWQUJZWYDWCWUJWUPAWXTWURYHWYAVYGWYEWYAVYJVX
      GVYGAVYJWUJWXTVYKYKWUKVUBVXGUWFZVYLVSZVYEUEUXJYOUSWUPWYDWYEWUPWYBWYCWYEWC
      UYNVYEUWGUWHYAUWIWYAWYBWXQWYCWXRWYAWYBUYPVYOVIWEZUYPVWQVIWEZWXQWYAVVAUYOV
      YGWYBWYHWDAVVAWUJWXTQYKZWUKVUBUYOVXGWUTYQWYGUXKBUYNVYEVIVIHWGWHWYAVYOVWQU
      YPVIWYAVUTVXGVYQAVUTWUJWXTVVBYKWYFVYRVSZUWJWYAWWAVXQWYIWXQWDWUKVUBWWAVXGW
      WDYQWYAWXLVXQWYABVURVWQAWVJWUJWXTSYKWYFVTJVWQWLUSZUYPVWQUWKVSYRWYAWYCVYOV
      UCVIWEZVWQVUCVIWEZWXRWYAVVAVYGVUBWYCWYMWDWYJWYGWUKVUBVUBVXGWUSYQUXKBVYEVU
      AVIVIHWGWHWYAVYOVWQVUCVIWYKXRWYAVXQWWBWYNWXRWDWYLWUKVUBWWBVXGWWEYQVWQVUCY
      LVSYRUWLXSUWMYAYCYBVYSYDUAVSUWNUWOWULWVAWVDUYQCAVUBWVAWVDULZWUJVUBAWYOWUG
      AWYOUNFVUAUXKWUBVUAULZWUFWYOAWYPWUCWVAWUEWVDWUBVUAIURWYPWUDVUCGWUBVUAHURV
      AVBVDWUIXAUWPUWQUWRWULVYAVUCJUEUPUIVEUGZUJVUDWVGULAVYAWUJVUBVYBYKWULWVEUE
      UPUIZVUCWYQWULVUCYSUJZUEYSUJWYRVUCULWULWWBWYSWWEVUCUWSUSUXAVUCUEUWTWKWULW
      VEVURUJZWYRWYQUJWULWVOWWCWYTWWHWVMUYPWVEJYPVSJWVEUXBUSUXCCGJVUCUXDVSUXEWU
      LWUMVUEWVCULWUOCIUEUYNUXFUSVBUXGXTYTUXHWTYTUXIXBXJ $.
      $( [2-Apr-2014] $)
  $}

  ${
    $d k n A $.  $d k n F $.  $d k n G $.  $d n H $.  $d k n M $.  $d k n ph $.
    $d k N $.  $d k n P $.  $d k n S $.  $d k Z $.
    seqcoll2.1 $e |- ( ( ph /\ k e. S ) -> ( Z P k ) = k ) $.
    seqcoll2.1b $e |- ( ( ph /\ k e. S ) -> ( k P Z ) = k ) $.
    seqcoll2.c $e |- ( ( ph /\ ( k e. S /\ n e. S ) ) -> ( k P n ) e. S ) $.
    seqcoll2.a $e |- ( ph -> Z e. S ) $.
    seqcoll2.2 $e |- ( ph -> G Isom < , < ( ( 1 ... ( # ` A ) ) , A ) ) $.
    seqcoll2.3 $e |- ( ph -> A =/= (/) ) $.
    seqcoll2.4 $e |- ( ph -> N e. V ) $.
    seqcoll2.5 $e |- ( ph -> A C_ ( M ... N ) ) $.
    seqcoll2.6 $e |- ( ( ph /\ k e. ( M ... N ) ) -> ( F ` k ) e. S ) $.
    seqcoll2.7 $e |- ( ( ph /\ k e. ( ( M ... N ) \ A ) ) -> ( F ` k ) = Z ) $.
    seqcoll2.8 $e |- ( ( ph /\ n e. ( 1 ... ( # ` A ) ) ) ->
                       ( H ` n ) = ( F ` ( G ` n ) ) ) $.
    $( The function ` F ` contains a sparse set of non-zero values to be
       summed.  The function ` G ` is an order isomorphism from the set of
       non-zero values of ` F ` to a 1-based finite sequence, and ` H `
       collects these non-zero values together.  Under these conditions, the
       sum over the values in ` H ` yields the same result as the sum over the
       original set ` F ` .  (Contributed by Mario Carneiro, 13-Dec-2014.) $)
    seqcoll2 $p |- ( ph -> ( seq M ( P , F ) ` N ) =
                           ( seq 1 ( P , H ) ` ( # ` A ) ) ) $=
      ( chash cfv cseq c1 cfz co cuz fzssuz wf wcel wf1o clt wiso isof1o syl cn
      f1of cc0 wceq wn c0 wne cfn wb wss fzfi sylancr hasheq0 necon3bbid mpbird
      ssfi cn0 wo hashcl elnn0 sylib mt3d nnuz syl6eleq eluzfz2 ffvelrn syl2anc
      sseldd sseldi elfzuz3 cv fzss2 sselda syldan seqcl caddc cdif wa peano2uz
      ord fzss1 wbr cr eluzelre adantr peano2re elfzelz zre adantl ltp1 elfzle1
      cz cle ltletrd ccnv f1ocnv wi simprr idi elfzle2 nn0re lenlt mpbid isorel
      3syl syl12anc f1ocnvfv2 breq2d bitrd mtbid expr mt2d eldif sylanbrc ssdif
      seqid2 syl6ss seqcoll eqtr3d ) ABUEUFZHUFZCGJUGZUFKUUAUFYSCIUHUGUFAECDGYT
      JKMOAJKUIUJZJUKUFZYTJKULZABUUBYTUAAUHYSUIUJZBHUMZYSUUEUNZYTBUNAUUEBHUOZUU
      FAUUEBUPUPHUQZUUHRUUEBUPUPHURUSZUUEBHVAUSAYSUHUKUFZUNUUGAYSUTUUKAYSUTUNZY
      SVBVCZAUUMVDBVEVFSAUUMBVEABVGUNZUUMBVEVCVHAUUBVGUNBUUBVIUUNJKVJUAUUBBVOVK
      ZBVGVLUSVMVNAUULUUMAYSVPUNZUULUUMVQAUUNUUPUUOBVRUSZYSVSVTWSWAWBWCUHYSWDUS
      ZUUEBYSHWEWFWGZWHZAKLUNZYTUUBUNKYTUKUFUNZTUUSLYTJKWIWFZAEFCDGJYTUUTAEWJZJ
      YTUIUJZUNUVDUUBUNZUVDGUFZDUNAUVEUUBUVDAUVBUVEUUBVIZUVCYTJKWKUSZWLUBWMZPWN
      AUVDYTUHWOUJZKUIUJZUNZUVDUUBBWPZUNZUVGMVCZAUVMWQZUVFUVDBUNZVDUVOAUVLUUBUV
      DAUVKUUCUNZUVAUVLUUBVIAYTUUCUNZUVSUUTJYTWRUSTUVKJKLWTWFWLUVQUVRYTUVDUPXAZ
      UVQYTUVKUVDAYTXBUNZUVMAUVTUWBUUTJYTXCUSXDZUVQUWBUVKXBUNUWCYTXEUSUVMUVDXBU
      NZAUVMUVDXKUNUWDUVDUVKKXFUVDXGUSXHUVQUWBYTUVKUPXAUWCYTXIUSUVMUVKUVDXLXAAU
      VDUVKKXJXHXMAUVMUVRUWAVDAUVMUVRWQZWQZYSUVDHXNZUFZUPXAZUWAUWFUWHYSXLXAZUWI
      VDZUWFUWHUUEUNZUWJUWFBUUEUWGUMZUVRUWLUWFUUHBUUEUWGUOUWMAUUHUWEUUJXDZUUEBH
      XOBUUEUWGVAYDUWFUVRXPAUVMUVRXQZXRBUUEUVDUWGWEWFZUWHUHYSXSUSUWFUWHXBUNZYSX
      BUNZUWJUWKVHUWFUWLUWHXKUNUWQUWPUWHUHYSXFUWHXGYDUWFUUPUWRAUUPUWEUUQXDYSXTU
      SUWHYSYAWFYBUWFUWIYTUWHHUFZUPXAZUWAUWFUUIUUGUWLUWIUWTVHAUUIUWERXDAUUGUWEU
      URXDUWPUUEBYSUWHUPUPHYCYEUWFUWSUVDYTUPUWFUUHUVRUWSUVDVCUWNUWOUUEBUVDHYFWF
      YGYHYIYJYKUVDUUBBYLYMUCWMYOABCDEFGHIJYSMNOPQRUURABUUBUUCUAUUDYPUVJAUVDUVE
      BWPZUNUVOUVPAUXAUVNUVDAUVHUXAUVNVIUVIUVEUUBBYNUSWLUCWMUDYQYR $.
      $( [13-Dec-2014] $)
  $}


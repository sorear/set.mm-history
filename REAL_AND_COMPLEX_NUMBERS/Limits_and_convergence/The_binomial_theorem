$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
        The binomial theorem
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  ${
    $d j k A $.  $d j k B $.  $d j k N $.  $d j k ph $.
    binomlem.1 $e |- ( ph -> A e. CC ) $.
    binomlem.2 $e |- ( ph -> B e. CC ) $.
    binomlem.3 $e |- ( ph -> N e. NN0 ) $.
    binomlem.4 $e |- ( ps -> ( ( A + B ) ^ N ) = sum_ k e. ( 0 ... N )
                      ( ( N _C k ) x. ( ( A ^ ( N - k ) ) x. ( B ^ k ) ) ) ) $.
    $( Lemma for ~ binom (binomial theorem).  Inductive step. $)
    binomlem $p |- ( ( ph /\ ps ) -> ( ( A + B ) ^ ( N + 1 ) ) =
                     sum_ k e. ( 0 ... ( N + 1 ) ) ( ( ( N + 1 ) _C k ) x.
                       ( ( A ^ ( ( N + 1 ) - k ) ) x. ( B ^ k ) ) ) ) $=
      ( co cexp cmul cc0 c1 wceq wcel cc syl syl2anc vj wa caddc cfz cv cbc csu
      cmin adantl oveq1d fzfid cn0 wss fzssp1 sselda adantr elfzelz bccl syldan
      cz nn0cn fznn0sub sylan expcl elfznn0 fsummulc1 mulass syl3anc ax-1cn a1i
      mulcl zcn addsub oveq2d expp1 eqtrd mul32 sumeq2dv cvv ovex simpr sylancr
      eqtr4d cdif eldifi eldifn bcval3 mul02 sylan2 cuz cfv fzssuz sumss 3eqtrd
      wn 1z 0z oveq2 oveq12d fsumshft oveq1 cbvsumv syl6eq subsub3 fzp1ss mp2an
      sseli peano2zm cn elfznn addid2i oveq1i eleq2s nnm1nn0 expm1t wb syl22anc
      nn0z fzaddel npcan sylancl eleq1d bitrd mtbird addcl bcpasc adddir eqtr3d
      sylan9eqr adddi fsumadd 3eqtr4d ) ABUBZCDUCKZFLKZCMKZYODMKZUCKZNFOUCKZUDK
      ZFEUEZUFKZCYSUUAUHKZLKZDUUALKZMKZMKZEUGZYTFUUAOUHKZUFKZUUFMKZEUGZUCKZYNYS
      LKZYTYSUUAUFKZUUFMKZEUGZYMYPUUHYQUULUCYMYPNFUDKZUUBCFUUAUHKZLKZUUEMKZMKZE
      UGZCMKZUUHYMYOUVCCMBYOUVCPAJUIUJAUVDUUHPBAUVDUURUVBCMKZEUGUURUUGEUGUUHAUU
      RUVBCEANFUKZGAUUAUURQZUBZUUBRQZUVARQZUVBRQZAUVGUUAYTQZUVIAUURYTUUAAFULQZU
      URYTUMINFULUNSZUOZAUVLUBZUUBULQZUVIUVPUVMUUAUTQZUVQAUVMUVLIUPZUVLUVRAUUAN
      YSUQZUIZUUAFURTUUBVASZUSZUVHUUTRQZUUERQZUVJUVHCRQZUUSULQZUWDAUWFUVGGUPZAU
      VMUVGUWGIULUUANFVBVCZCUUSVDTZAUVGUVLUWEUVOUVPDRQZUUAULQZUWEAUWKUVLHUPUVLU
      WLAUUAYSVEUIDUUAVDTZUSZUUTUUEVKTZUUBUVAVKTZVFAUURUVEUUGEUVHUVEUUBUVACMKZM
      KZUUGUVHUVIUVJUWFUVEUWRPUWCUWOUWHUUBUVACVGVHUVHUUFUWQUUBMUVHUUFUUTCMKZUUE
      MKZUWQUVHUUDUWSUUEMUVHUUDCUUSOUCKZLKZUWSUVHUUCUXACLUVHFRQZORQZUUARQZUUCUX
      APAUXCUVGAUVMUXCIFVASZUPUXDUVHVIVJUVHUVRUXEUVGUVRAUUANFUQUIUUAVLZSFOUUAVM
      VHVNUVHUWFUWGUXBUWSPUWHUWICUUSVOTVPUJUVHUWDUWFUWEUWTUWQPUWJUWHUWNUUTCUUEV
      QVHVPVNWCVRAUURYTUUGENUVNAUVGUVLUUGRQZUVOUVPUVIUUFRQZUXHUWBUVPUUDRQZUWEUX
      IUVPUWFUUCULQZUXJAUWFUVLGUPUVPYSVSQZUVLUXKFOUCVTZAUVLWAVSUUANYSVBWBCUUCVD
      TZUWMUUDUUEVKTZUUBUUFVKTZUSAUUAYTUURWDQZUBZUUGNUUFMKZNUXRUUBNUUFMUXRUVMUV
      RUVGWOZUUBNPAUVMUXQIUPUXQUVRAUXQUVLUVRUUAYTUURWEZUVTSUIUXQUXTAUUAYTUURWFU
      IUUAFWGVHUJUXQAUVLUXSNPZUYAUVPUXIUYBUXOUUFWHSZWIVPYTNWJWKUMANYSWLVJZWMWNU
      PVPBAYQUVCDMKZUULBYOUVCDMJUJAUYEUURUVBDMKZEUGZUULAUURUVBDEUVFHUWPVFAUYGNO
      UCKZYSUDKZUUJCFUUIUHKZLKZDUUILKZMKZMKZDMKZEUGZUYIUUKEUGUULAUYGUYIFUAUEZOU
      HKZUFKZCFUYRUHKZLKZDUYRLKZMKZMKZDMKZUAUGUYPAUYFVUEEUAONFOUTQZAWPVJNUTQZAW
      QVJAUVMFUTQZIFXRZSUVHUVKUWKUYFRQUWPAUWKUVGHUPUVBDVKTUUAUYRPZUVBVUDDMVUJUU
      BUYSUVAVUCMUUAUYRFUFWRVUJUUTVUAUUEVUBMVUJUUSUYTCLUUAUYRFUHWRVNUUAUYRDLWRW
      SWSUJWTUYIVUEUYOUAEUYQUUAPZVUDUYNDMVUKUYSUUJVUCUYMMVUKUYRUUIFUFUYQUUAOUHX
      AZVNVUKVUAUYKVUBUYLMVUKUYTUYJCLVUKUYRUUIFUHVULVNVNVUKUYRUUIDLVULVNWSWSUJX
      BXCAUYIUYOUUKEAUUAUYIQZUBZUYOUUJUUDUYLMKZMKZDMKZUUJVUODMKZMKZUUKVUNUYNVUP
      DMVUNUYMVUOUUJMVUNUYKUUDUYLMVUNUYJUUCCLVUNUXCUXEUXDUYJUUCPAUXCVUMUXFUPVUN
      UVRUXEVUMUVRAUUAUYHYSUQUIUXGSUXDVUNVIVJFUUAOXDVHVNUJVNUJVUNUUJRQZVUORQZUW
      KVUQVUSPVUMAUVLVUTUYIYTUUAVUGUXLUYIYTUMZWQUXMNYSVSXEXFZXGZUVPUUJULQZVUTUV
      PUVMUUIUTQZVVEUVSUVPUVRVVFUWAUUAXHZSUUIFURTUUJVASZWIVUNUXJUYLRQZVVAVUMAUV
      LUXJVVDUXNWIZVUNUWKUUIULQZVVIAUWKVUMHUPZVUNUUAXIQZVVKVUMVVMAVVMUUAOYSUDKU
      YIUUAYSXJUYHOYSUDOVIXKXLXMUIZUUAXNSDUUIVDTZUUDUYLVKTVVLUUJVUODVGVHVUNVURU
      UFUUJMVUNVURUUDUYLDMKZMKZUUFVUNUXJVVIUWKVURVVQPVVJVVOVVLUUDUYLDVGVHVUNUUE
      VVPUUDMVUNUWKVVMUUEVVPPVVLVVNDUUAXOTVNWCVNWNVRAUYIYTUUKENVVBAVVCVJVUMAUVL
      UUKRQZVVDUVPVUTUXIVVRVVHUXOUUJUUFVKTZWIAUUAYTUYIWDQZUBZUUKUXSNVWAUUJNUUFM
      VWAUVMVVFUUIUURQZWOUUJNPAUVMVVTIUPZVWAUVRVVFVWAUVLUVRVVTUVLAUUAYTUYIWEZUI
      UVTSZVVGSZVWAVWBVUMVVTVUMWOAUUAYTUYIWFUIVWAVWBUUIOUCKZUYIQZVUMVWAVUGVUHVV
      FVUFVWBVWHXPVUGVWAWQVJVWAUVMVUHVWCVUISVWFVUFVWAWPVJUUIONFXSXQVWAVWGUUAUYI
      VWAUXEUXDVWGUUAPVWAUVRUXEVWEUXGSVIUUAOXTYAYBYCYDUUIFWGVHUJVVTAUVLUYBVWDUY
      CWIVPUYDWMWNVPYIWSAUUNYRPBAUUNYOYNMKZYRAYNRQZUVMUUNVWIPAUWFUWKVWJGHCDYETZ
      IYNFVOTAYORQZUWFUWKVWIYRPAVWJUVMVWLVWKIYNFVDTGHYOCDYJVHVPUPAUUQUUMPBAUUQY
      TUUGUUKUCKZEUGUUMAYTUUPVWMEUVPUUBUUJUCKZUUFMKZUUPVWMUVPVWNUUOUUFMUVPUVMUV
      RVWNUUOPUVSUWAUUAFYFTUJUVPUVIVUTUXIVWOVWMPUWBVVHUXOUUBUUJUUFYGVHYHVRAYTUU
      GUUKEANYSUKUXPVVSYKVPUPYL $.
      $( [24-Apr-2014] $) $( [6-Dec-2005] $)
  $}

  ${
    $d k n x A $.  $d k n x B $.  $d k x N $.
    $( The binomial theorem: ` ( A + B ) ^ N ` is the sum from ` k = 0 ` to
       ` N ` of ` ( N _C k ) x. ( ( A ^ k ) x. ( B ^ ( N - k ) ) ` .  Theorem
       15-2.8 of [Gleason] p. 296.  This part of the proof sets up the
       induction and does the base case, with the bulk of the work (the
       induction step) in ~ binomlem .  (The proof was shortened by Mario
       Carneiro, 24-Apr-2014.) $)
    binom $p |- ( ( A e. CC /\ B e. CC /\ N e. NN0 ) ->
                  ( ( A + B ) ^ N ) = sum_ k e. ( 0 ... N )
                    ( ( N _C k ) x. ( ( A ^ ( N - k ) ) x. ( B ^ k ) ) ) ) $=
      ( cc wcel co cexp cc0 cfz cbc cmin cmul csu c1 oveq2 oveq1 oveq2d oveq12d
      wceq vx vn cn0 caddc cv wa wi oveq1d adantr sumeq12dv eqeq12d imbi2d exp0
      oveqan12d ax-1cn mulid1i syl6eq cz 0z syl6eqel 0nn0 bcn0 ax-mp 0cn subidi
      fsum1 sylancr addcl 3eqtr4rd simprl simprr simpl id binomlem exp31 nn0ind
      syl a2d impcom 3impa ) AEFZBEFZDUCFZABUDGZDHGZIDJGZDCUEZKGZADWGLGZHGZBWGH
      GZMGZMGZCNZTZWCWAWBUFZWOWPWDUAUEZHGZIWQJGZWQWGKGZAWQWGLGZHGZWKMGZMGZCNZTZ
      UGWPWDIHGZIIJGZIWGKGZAIWGLGZHGZWKMGZMGZCNZTZUGWPWDUBUEZHGZIXPJGZXPWGKGZAX
      PWGLGZHGZWKMGZMGZCNZTZUGWPWDXPOUDGZHGZIYFJGZYFWGKGZAYFWGLGZHGZWKMGZMGZCNZ
      TZUGWPWOUGUAUBDWQITZXFXOWPYPWRXGXEXNWQIWDHPYPWSXHXDXMCWQIIJPYPXDXMTWGWSFZ
      YPWTXIXCXLMWQIWGKQYPXBXKWKMYPXAXJAHWQIWGLQRUHSUIUJUKULWQXPTZXFYEWPYRWRXQX
      EYDWQXPWDHPYRWSXRXDYCCWQXPIJPYRXDYCTYQYRWTXSXCYBMWQXPWGKQYRXBYAWKMYRXAXTA
      HWQXPWGLQRUHSUIUJUKULWQYFTZXFYOWPYSWRYGXEYNWQYFWDHPYSWSYHXDYMCWQYFIJPYSXD
      YMTYQYSWTYIXCYLMWQYFWGKQYSXBYKWKMYSXAYJAHWQYFWGLQRUHSUIUJUKULWQDTZXFWOWPY
      TWRWEXEWNWQDWDHPYTWSWFXDWMCWQDIJPYTXDWMTYQYTWTWHXCWLMWQDWGKQYTXBWJWKMYTXA
      WIAHWQDWGLQRUHSUIUJUKULWPOAIHGZBIHGZMGZMGZOXNXGWPUUDOOMGZOWPUUCOOMWPUUCUU
      EOWAWBUUAOUUBOMAUMBUMUNOUOUPZUQRUUFUQZWPIURFUUDEFXNUUDTUSWPUUDOEUUGUOUTXM
      UUDCIWGITZXIOXLUUCMUUHXIIIKGZOWGIIKPIUCFUUIOTVAIVBVCUQUUHXKUUAWKUUBMUUHXJ
      IAHUUHXJIILGIWGIILPIVDVEUQRWGIBHPSSVFVGWPWDEFXGOTABVHWDUMVQVIXPUCFZWPYEYO
      UUJWPYEYOUUJWPUFYEABCXPUUJWAWBVJUUJWAWBVKUUJWPVLYEVMVNVOVRVPVSVT $.
      $( [24-Apr-2014] $) $( [7-Dec-2005] $)

    $( Special case of the binomial theorem for ` ( 1 + A ) ^ N ` .
       (Contributed by Paul Chapman, 10-May-2007.) $)
    binom1p $p |- ( ( A e. CC /\ N e. NN0 ) -> ( ( 1 + A ) ^ N ) =
                  sum_ k e. ( 0 ... N ) ( ( N _C k ) x. ( A ^ k ) ) ) $=
      ( cc wcel cn0 wa c1 caddc co cexp cc0 cfz cv cbc cmin cmul csu wceq eqtrd
      ax-1cn binom mp3an1 cz fznn0sub adantll nn0z 1exp 3syl oveq1d simpl expcl
      elfznn0 syl2an mulid2 syl oveq2d sumeq2dv ) ADEZCFEZGZHAIJCKJZLCMJZCBNZOJ
      ZHCVDPJZKJZAVDKJZQJZQJZBRZVCVEVHQJZBRHDEUSUTVBVKSUAHABCUBUCVAVCVJVLBVAVDV
      CEZGZVIVHVEQVNVIHVHQJZVHVNVGHVHQVNVFFEZVFUDEVGHSUTVMVPUSFVDLCUEUFVFUGVFUH
      UIUJVNVHDEZVOVHSVAUSVDFEVQVMUSUTUKVDCUMAVDULUNVHUOUPTUQURT $.
      $( [10-May-2007] $)

    $( Special case of the binomial theorem for ` 2 ^ N ` .  (Contributed by
       Mario Carneiro, 13-Mar-2014.) $)
    binom11 $p |- ( N e. NN0 -> ( 2 ^ N ) =
                     sum_ k e. ( 0 ... N ) ( N _C k ) ) $=
      ( cn0 wcel c2 cexp co cc0 cfz cv cbc c1 cmul caddc df-2 oveq1i wceq eqtrd
      csu cc ax-1cn binom1p mpan syl5eq wa cz elfzelz adantl 1exp syl oveq2d cn
      bccl2 nncn mulid1 3syl sumeq2dv ) BCDZEBFGZHBIGZBAJZKGZLVAFGZMGZASZUTVBAS
      URUSLLNGZBFGZVEEVFBFOPLTDURVGVEQUALABUBUCUDURUTVDVBAURVAUTDZUEZVDVBLMGZVB
      VIVCLVBMVIVAUFDZVCLQVHVKURVAHBUGUHVAUIUJUKVIVBULDVBTDVJVBQVABCUMVBUNVBUOU
      PRUQR $.
      $( [13-Mar-2014] $)

    $( A summation for the difference between ` ( ( A + 1 ) ^ N ) ` and
       ` ( A ^ N ) ` .  (Contributed by Scott Fenton, 9-Apr-2014.)  (Revised by
       Mario Carneiro, 22-May-2014.) $)
    binom1dif $p |- ( ( A e. CC /\ N e. NN0 ) ->
      ( ( ( A + 1 ) ^ N ) - ( A ^ N ) ) =
      sum_ k e. ( 0 ... ( N - 1 ) ) ( ( N _C k ) x. ( A ^ k ) ) ) $=
      ( cc wcel cn0 wa c1 caddc co cexp cmin cc0 cfz cbc cmul wceq oveq1d eqtrd
      csu cv simpl ax-1cn addcom sylancl binom1p cuz simpr nn0uz syl6eleq bccl2
      cfv cn adantll nncn syl elfznn0 expcl syl2an mulcl syl2anc oveq12d fsumm1
      oveq2 bcnn adantl mulid2 oveq2d 3eqtrd fzfid cvv fzssp1 ax-mp nn0cn npcan
      wss ovex syl5sseq sselda syldan fsumcl pncan ) ADEZCFEZGZAHIJZCKJZACKJZLJ
      MCHLJZNJZCBUAZOJZAWKKJZPJZBTZWHIJZWHLJZWOWEWGWPWHLWEWGHAIJZCKJMCNJZWNBTZW
      PWEWFWRCKWEWCHDEZWFWRQWCWDUBZUCAHUDUERABCUFWEWTWOCCOJZWHPJZIJWPWEWNXDBMCW
      ECFMUGULWCWDUHUIUJWEWKWSEZGZWLDEZWMDEZWNDEZXFWLUMEZXGWDXEXJWCWKCFUKUNWLUO
      UPWEWCWKFEXHXEXBWKCUQAWKURUSWLWMUTVAZWKCQWLXCWMWHPWKCCOVDWKCAKVDVBVCWEXDW
      HWOIWEXDHWHPJZWHWEXCHWHPWDXCHQWCCVEVFRWEWHDEZXLWHQACURZWHVGUPSVHSVIRWEWOD
      EXMWQWOQWEWJWNBWEMWIVJWEWKWJEXEXIWEWJWSWKWEMWIHIJZNJZWJWSWIVKEWJXPVPCHLVQ
      MWIVKVLVMWEXOCMNWECDEZXAXOCQWDXQWCCVNVFUCCHVOUEVHVRVSXKVTWAXNWOWHWBVAS $.
      $( [22-May-2014] $) $( [9-May-2014] $)
  $}

  ${
    $d j m M $.  $d j k m N $.
    $( Lemma for ~ bcxmas . $)
    bcxmaslem1 $p |- ( A = B -> ( ( N + A ) _C A ) = ( ( N + B ) _C B ) ) $=
      ( wceq caddc co cbc oveq2 id oveq12d ) ABDZCAEFCBEFABGABCEHKIJ $.
      $( [18-May-2007] $)

    $( Lemma for ~ bcxmas . $)
    bcxmaslem2 $p |- ( ( A e. CC /\ B e. CC /\ C e. CC ) ->
                          ( A + ( B + C ) ) = ( ( A + C ) + B ) ) $=
      ( cc wcel w3a caddc co addass add32 eqtr3d ) ADEBDECDEFABGHCGHABCGHGHACGH
      BGHABCIABCJK $.
      $( [18-May-2007] $)

    $( Parallel summation (Christmas Stocking) theorem for Pascal's Triangle.
       (Contributed by Paul Chapman, 18-May-2007.) $)
    bcxmas $p |- ( ( N e. NN0 /\ M e. NN0 ) ->
                     ( ( ( N + 1 ) + M ) _C M ) =
                     sum_ j e. ( 0 ... M ) ( ( N + j ) _C j ) ) $=
      ( cn0 wcel c1 caddc co cbc cc0 cfz csu wceq wi bcxmaslem1 wa syl cc nn0cn
      adantl vm vk cv oveq2 sumeq1d eqeq12d 0nn0 nn0addcl bcn0 mpan2 cz 0z 1nn0
      imbi2d syl6eqel fsum1 sylancr peano2nn0 jctir 3syl 3eqtr4rd cuz cfv simpr
      elnn0uz sylib simpl elfznn0 syl2an elfzelz bccl syl2anc fsump1 adantr a1i
      ax-1cn bcxmaslem2 syl3anc oveq1d oveq2d eqtrd oveq1 cmin pncan sylancl cn
      sylan nn0p1nn bcpasc eqtr3d nnnn0addcl nnnn0 nn0z addcom peano2cn 3eqtr3d
      nnz addass 3eqtr2rd ex expcom a2d nn0ind impcom ) BDECDEZCFGHZBGHBIHZJBKH
      ZCAUCZGHZXIIHZALZMZXEXFUAUCZGHXNIHZJXNKHZXKALZMZNXEXFJGHZJIHZJJKHZXKALZMZ
      NXEXFUBUCZGHZYDIHZJYDKHZXKALZMZNXEXFYDFGHZGHZYJIHZJYJKHZXKALZMZNXEXMNUAUB
      BXNJMZXRYCXEYPXOXTXQYBXNJXFOYPXPYAXKAXNJJKUDUEUFUNXNYDMZXRYIXEYQXOYFXQYHX
      NYDXFOYQXPYGXKAXNYDJKUDUEUFUNXNYJMZXRYOXEYRXOYLXQYNXNYJXFOYRXPYMXKAXNYJJK
      UDUEUFUNXNBMZXRXMXEYSXOXGXQXLXNBXFOYSXPXHXKAXNBJKUDUEUFUNXECJGHZJIHZFYBXT
      XEJDEZUUAFMZUGXEUUBPYTDEUUCCJUHYTUIQUJZXEJUKEUUAREZYBUUAMULXEUUADEUUEXEUU
      AFDUUDUMUOUUASQXKUUAAJXIJCOUPUQXEXFDEZUUBPXSDEXTFMXEUUFUUBCURZUGUSXFJUHXS
      UIUTVAYDDEZXEYIYOXEUUHYIYONXEUUHPZYIYOUUIYIPYNYHYEYJIHZGHZYFUUJGHZYLUUIYN
      UUKMYIUUIYNYHCYJGHZYJIHZGHUUKUUIXKUUNAJYDUUIUUHYDJVBVCEXEUUHVDYDVEVFUUIXI
      YMEZPZXKDEZXKREUUPXJDEZXIUKEZUUQUUIXEXIDEUURUUOXEUUHVGXIYJVHCXIUHVIUUOUUS
      UUIXIJYJVJTXIXJVKVLXKSQXIYJCOVMUUIUUNUUJYHGUUIUUMYEYJIUUICREZYDREZFREZUUM
      YEMXEUUTUUHCSZVNUUHUVAXEYDSTZUVBUUIVPVOZCYDFVQVRVSVTWAVNYIUULUUKMUUIYFYHU
      UJGWBTUUIUULYLMYIUUIUUJYFGHZYEFGHZYJIHZUULYLUUIUUJYEYJFWCHZIHZGHZUVFUVHUU
      IUVJYFUUJGUUIUVIYDYEIUUIUVAUVBUVIYDMUVDVPYDFWDWEVTVTUUIYEDEZYJUKEZUVKUVHM
      XEUUFUUHUVLUUGXFYDUHZWGUUIYJWFEZUVMUUHUVOXEYDWHTYJWQQZYJYEWIVLWJUUIUUJREZ
      YFREZUVFUULMUUIUUJDEZUVQUUIUVLUVMUVSUUIYEWFEZUVLXEXFWFEUUHUVTCWHXFYDWKWGY
      EWLQUVPYJYEVKVLUUJSQUUIYFDEZUVRXEUUFUUHUWAUUGUUFUUHPUVLYDUKEZUWAUVNUUHUWB
      UUFYDWMTYDYEVKVLWGYFSQUUJYFWNVLUUIUVGYKYJIUUIXFREZUVAUVBUVGYKMXEUWCUUHXEU
      UTUWCUVCCWOQVNUVDUVEXFYDFWRVRVSWPVNWSWTXAXBXCXD $.
      $( [24-Apr-2014] $) $( [18-May-2007] $)
  $}


